"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8236],{29002:function(e,n,t){t.d(n,{o:function(){return d}});var r=t(59499),o=t(4730),i=t(81645),a=t(85893),s=["sx"];function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var d=function(e){var n=e.sx,t=(0,o.Z)(e,s);return(0,a.jsxs)(i.Z,l(l({sx:l({fill:"none",stroke:"#A5A8B6"},n),viewBox:"0 0 21 19",xmlns:"http://www.w3.org/2000/svg","aria-label":"Wallet"},t),{},{children:[(0,a.jsxs)("g",{clipPath:"url(#clip0_3719_3323)",strokeWidth:"2",children:[(0,a.jsx)("path",{d:"M17.3203 17.398H3.32031C2.78988 17.398 2.28117 17.1872 1.9061 16.8122C1.53103 16.4371 1.32031 15.9284 1.32031 15.3979V6.39795C1.32031 5.86752 1.53103 5.35881 1.9061 4.98374C2.28117 4.60866 2.78988 4.39795 3.32031 4.39795H17.3203C17.8507 4.39795 18.3595 4.60866 18.7345 4.98374C19.1096 5.35881 19.3203 5.86752 19.3203 6.39795V15.3979C19.3203 15.9284 19.1096 16.4371 18.7345 16.8122C18.3595 17.1872 17.8507 17.398 17.3203 17.398Z"}),(0,a.jsx)("path",{d:"M14.8203 11.3979C14.6877 11.3979 14.5605 11.3453 14.4668 11.2515C14.373 11.1577 14.3203 11.0306 14.3203 10.8979C14.3203 10.7653 14.373 10.6382 14.4668 10.5444C14.5605 10.4506 14.6877 10.3979 14.8203 10.3979C14.9529 10.3979 15.0801 10.4506 15.1739 10.5444C15.2676 10.6382 15.3203 10.7653 15.3203 10.8979C15.3203 11.0306 15.2676 11.1577 15.1739 11.2515C15.0801 11.3453 14.9529 11.3979 14.8203 11.3979Z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M16.3203 4.39793V2.99993C16.3202 2.69343 16.2497 2.39106 16.1142 2.11615C15.9787 1.84124 15.7818 1.60116 15.5387 1.41444C15.2956 1.22773 15.0129 1.09937 14.7124 1.03929C14.4118 0.979209 14.1015 0.989009 13.8053 1.06793L2.80531 4.00093C2.37937 4.11444 2.00285 4.36549 1.7343 4.71506C1.46575 5.06462 1.32021 5.49312 1.32031 5.93393V6.39793"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip0_3719_3323",children:(0,a.jsx)("rect",{width:"20",height:"19",fill:"white",transform:"translate(0.320312)"})})})]}))}},63491:function(e,n,t){t.d(n,{D:function(){return p}});var r=t(49501),o=t(5506),i=t(52758),a=t(30120),s=t(81645),c=t(29630),l=t(68346),d=t(75084),u=t(8195),x=t(85893),p=function(e){var n=e.txError,t=(0,u.vR)().close;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",mb:"92px"},children:[(0,x.jsx)(a.Z,{sx:{width:"48px",height:"48px",backgroundColor:"error.200",borderRadius:"50%",mt:14,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,x.jsx)(s.Z,{sx:{color:"error.main",fontSize:"32px"},children:(0,x.jsx)(o.Z,{})})}),(0,x.jsx)(c.Z,{sx:{mt:2},variant:"h2",children:(0,x.jsx)(r.cC,{id:"Transaction failed"})}),(0,x.jsx)(c.Z,{children:(0,x.jsx)(r.cC,{id:"You can report incident to our <0>Discord</0> or<1>Github</1>.",components:{0:(0,x.jsx)(l.Z,{href:"https://discord.com/invite/aave"}),1:(0,x.jsx)(l.Z,{href:"https://github.com/aave/interface"})}})}),(0,x.jsxs)(d.Z,{variant:"outlined",onClick:function(){return navigator.clipboard.writeText(n.rawError.message.toString())},size:"small",sx:{mt:6},children:[(0,x.jsx)(r.cC,{id:"Copy error text"}),(0,x.jsx)(s.Z,{sx:{ml:.5,fontSize:"12px"},children:(0,x.jsx)(i.Z,{})})]})]}),(0,x.jsx)(a.Z,{sx:{display:"flex",flexDirection:"column",mt:12},children:(0,x.jsx)(d.Z,{onClick:t,variant:"contained",size:"large",sx:{minHeight:"44px"},children:(0,x.jsx)(r.cC,{id:"Close"})})})]})}},93608:function(e,n,t){t.d(n,{R:function(){return m}});var r=t(49501),o=t(75331),i=t(62097),a=t(30120),s=t(29630),c=t(75084),l=t(67294),d=t(29002),u=t(41024),x=t(72667),p=t(77537),f=t(55200),h=t(85893),m=function(e){var n,t=e.txHash,m=e.action,j=e.amount,v=e.symbol,b=e.collateral,y=e.rate,g=e.addToken,w=e.customAction,O=e.customText,C=(0,p.Z)().addERC20Token,k=(0,l.useState)(""),P=k[0],Z=k[1],A=(0,i.Z)(),T=g?null!==(n=g.iconSymbol)&&void 0!==n?n:g.symbol:"";return(0,h.jsx)(f.R,{txHash:t,children:(0,h.jsxs)(a.Z,{sx:{mt:2,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},children:[m&&j&&v&&(0,h.jsx)(s.Z,{children:(0,h.jsx)(r.cC,{id:"You {action} <0/> {symbol}",values:{action:m,symbol:v},components:{0:(0,h.jsx)(u.B,{value:Number(j),compact:!0,variant:"secondary14"})}})}),w&&(0,h.jsxs)(s.Z,{children:[O,w]}),!m&&!j&&v&&(0,h.jsxs)(s.Z,{children:["Your ",v," ",b?"now":"is not"," used as collateral"]}),y&&(0,h.jsx)(s.Z,{children:(0,h.jsx)(r.cC,{id:"You switched to {0} rate",values:{0:y===o.tk.Variable?"variable":"stable"}})}),g&&v&&(0,h.jsxs)(a.Z,{sx:function(e){return{border:"dark"===e.palette.mode?"1px solid ".concat(e.palette.divider):"none",background:"dark"===e.palette.mode?"none":"#F7F7F9",borderRadius:"12px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",mt:"24px"}},children:[(0,h.jsx)(x.T1,{symbol:T,aToken:!(!g||!g.aToken),sx:{fontSize:"32px",mt:"12px",mb:"8px"}}),(0,h.jsx)(s.Z,{variant:"description",color:"text.primary",sx:{mx:"24px"},children:(0,h.jsx)(r.cC,{id:"Add {0} to wallet to track your balance.",values:{0:g&&g.symbol+" "}})}),(0,h.jsxs)(c.Z,{onClick:function(){C({address:g.address,decimals:g.decimals,symbol:g.symbol,image:/_/.test(T)?void 0:P})},variant:"dark"===A.palette.mode?"outlined":"contained",size:"medium",sx:{mt:"8px",mb:"12px"},children:[T&&!/_/.test(T)&&(0,h.jsx)(x.Js,{symbol:T,onImageGenerated:Z,aToken:g.aToken}),(0,h.jsx)(d.o,{sx:{width:"20px",height:"20px"}}),(0,h.jsx)(s.Z,{variant:"buttonM",color:"white",ml:"4px",children:(0,h.jsx)(r.cC,{id:"Add to wallet"})})]})]})]})})}},59904:function(e,n,t){t.r(n),t.d(n,{StakeCooldownModal:function(){return K}});var r=t(67294),o=t(8195),i=t(31959),a=t(17674),s=t(49501),c=t(1279),l=t(52358),d=t(29630),u=t(30120),x=t(81645),p=t(22841),f=t(75158),h=t(56371),m=t(41024),j=t(72667),v=t(69331),b=t(77912),y=t(60265),g=t(77537),w=t(8656),O=t(84568),C=t(63206),k=t(57609),P=function(e){return e/60/60/24},Z=function(e){return e/60/60},A=t(68861),T=t(63491),D=t(67916),E=t(93608),I=t(78944),N=t(35643),R=t(10343),S=t(59499),B=t(50029),M=t(4730),_=t(87794),L=t.n(_),z=t(75331),H=t(89291),U=t(67489),Y=t(85893),W=["isWrongNetwork","sx","blocked","selectedToken","amountToCooldown"];function q(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var F,V=function(e){var n=e.isWrongNetwork,t=e.sx,r=e.blocked,o=e.selectedToken,i=e.amountToCooldown,a=(0,M.Z)(e,W),c=(0,w.Yh)((function(e){return e.cooldown})),l=(0,H.Q)({tryPermit:!1,handleGetTxns:function(){var e=(0,B.Z)(L().mark((function e(){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c(o));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),skip:r,deps:[],protocolAction:z.UQ.stakeCooldown,eventTxInfo:{amount:i,assetName:o}}),d=l.action,u=l.loadingTxns,x=l.mainTxState,p=l.requiresApproval;return(0,Y.jsx)(U.B,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?q(Object(t),!0).forEach((function(n){(0,S.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):q(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({requiresApproval:p,blocked:r,preparingTransactions:u,handleAction:d,actionText:(0,Y.jsx)(s.cC,{id:"Activate Cooldown"}),actionInProgressText:(0,Y.jsx)(s.cC,{id:"Activate Cooldown"}),mainTxState:x,isWrongNetwork:n,sx:t},a))};!function(e){e[e.NOT_ENOUGH_BALANCE=0]="NOT_ENOUGH_BALANCE",e[e.ALREADY_ON_COOLDOWN=1]="ALREADY_ON_COOLDOWN"}(F||(F={}));var G=function(e){var n,t,i,S,B,M,_=e.stakeAssetName,L=(0,g.Z)(),z=L.chainId,H=L.readOnlyModeAddress,U=(0,o.vR)(),W=U.gasLimit,q=U.mainTxState,G=U.txError,K=(0,w.Yh)((function(e){return e.trackEvent})),Q=(0,w.Yh)((function(e){return e.currentMarketData})),X=(0,w.Yh)((function(e){return e.currentNetworkConfig})),J=(0,w.Yh)((function(e){return e.currentChainId})),$=(0,y.f)(Q,_).data,ee=(0,b.I)(Q,_).data,ne=(0,r.useState)(!1),te=ne[0],re=ne[1];ee&&Array.isArray(ee.stakeData)&&(B=(0,a.Z)(ee.stakeData,1)[0]);$&&Array.isArray($.stakeUserData)&&(M=(0,a.Z)($.stakeUserData,1)[0]);var oe=(null===(n=B)||void 0===n?void 0:n.stakeCooldownSeconds)||0,ie=(null===(t=B)||void 0===t?void 0:t.stakeUnstakeWindow)||0,ae=(0,c.hE)(oe).dividedBy(oe+ie).multipliedBy(100).toNumber(),se=(0,c.hE)(ie).dividedBy(oe+ie).multipliedBy(100).toNumber(),ce=ae<15?15:ae>85?85:ae,le=se<15?15:se>85?85:se,de=null===(i=M)||void 0===i?void 0:i.stakeTokenRedeemableAmount,ue=void 0;"0"===de&&(ue=F.NOT_ENOUGH_BALANCE);var xe=X.isFork&&X.underlyingChainId===O.X.chainId?J:O.X.chainId,pe=z!==xe,fe=(0,C.Mo)(xe);if(G&&G.blocking)return(0,Y.jsx)(T.D,{txError:G});if(q.success)return(0,Y.jsx)(E.R,{action:(0,Y.jsx)(s.cC,{id:"Stake cooldown activated"})});var he=function(e){return"".concat(function(e){return P(e)<1?Z(e)<1?function(e){return e/60}(e):Z(e):P(e)}(e)," ").concat(function(e){return P(e)<1?Z(e)<1?"minutes":"hours":"days"}(e))},me=(0,h.formatEther)((null===(S=M)||void 0===S?void 0:S.stakeTokenRedeemableAmount)||0);return(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(I.E,{title:"Cooldown to unstake"}),pe&&!H&&(0,Y.jsx)(R.I,{networkName:fe.name,chainId:xe}),(0,Y.jsxs)(d.Z,{variant:"description",sx:{mb:6},children:[(0,Y.jsx)(s.cC,{id:"The cooldown period is {0}. After {1} of cooldown, you will enter unstake window of {2}. You will continue receiving rewards during cooldown and unstake window.",values:{0:he(oe),1:he(oe),2:he(ie)}})," ",(0,Y.jsx)(A.rU,{onClick:function(){return K(k.vh.EXTERNAL_LINK,{assetName:"ABPT",link:"Cooldown Learn More"})},variant:"description",href:"https://docs.aave.com/faq/migration-and-staking",sx:{textDecoration:"underline"},children:(0,Y.jsx)(s.cC,{id:"Learn more"})}),"."]}),(0,Y.jsxs)(u.Z,{sx:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between",pt:"6px",pb:"30px"},children:[(0,Y.jsx)(d.Z,{variant:"description",color:"text.primary",children:(0,Y.jsx)(s.cC,{id:"Amount to unstake"})}),(0,Y.jsxs)(u.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,Y.jsx)(j.T1,{symbol:_,sx:{mr:1,width:14,height:14}}),(0,Y.jsx)(m.B,{value:me,variant:"secondary14",color:"text.primary"})]})]}),(0,Y.jsxs)(u.Z,{mb:6,children:[(0,Y.jsxs)(u.Z,{sx:{width:"".concat(le,"%"),display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",flexDirection:"column",ml:"auto"},children:[(0,Y.jsx)(d.Z,{variant:"helperText",mb:1,children:(0,Y.jsx)(s.cC,{id:"You unstake here"})}),(0,Y.jsx)(x.Z,{sx:{fontSize:"13px"},children:(0,Y.jsx)(l.Z,{})})]}),(0,Y.jsxs)(u.Z,{sx:{display:"flex",alignItems:"center",my:3},children:[(0,Y.jsx)(u.Z,{sx:{height:"2px",width:"".concat(ce,"%"),bgcolor:"error.main",position:"relative","&:after":{content:"''",position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",bgcolor:"error.main",width:"2px",height:"8px",borderRadius:"2px"}}}),(0,Y.jsx)(u.Z,{sx:{height:"2px",width:"".concat(le,"%"),bgcolor:"success.main",position:"relative","&:after, &:before":{content:"''",position:"absolute",top:"50%",transform:"translateY(-50%)",bgcolor:"success.main",width:"2px",height:"8px",borderRadius:"2px"},"&:before":{left:0},"&:after":{right:0}}})]}),(0,Y.jsxs)(u.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,Y.jsxs)(u.Z,{children:[(0,Y.jsx)(d.Z,{variant:"helperText",mb:1,children:(0,Y.jsx)(s.cC,{id:"Cooldown period"})}),(0,Y.jsx)(d.Z,{variant:"subheader2",color:"error.main",children:(0,Y.jsx)(s.cC,{id:"{0}",values:{0:he(oe)}})})]}),(0,Y.jsxs)(u.Z,{sx:{textAlign:"right"},children:[(0,Y.jsx)(d.Z,{variant:"helperText",mb:1,children:(0,Y.jsx)(s.cC,{id:"Unstake window"})}),(0,Y.jsx)(d.Z,{variant:"subheader2",color:"success.main",children:(0,Y.jsx)(s.cC,{id:"{0}",values:{0:he(ie)}})})]})]})]}),void 0!==ue&&(0,Y.jsx)(d.Z,{variant:"helperText",color:"red",children:ue===F.NOT_ENOUGH_BALANCE?(0,Y.jsx)(s.cC,{id:"Nothing staked"}):null}),(0,Y.jsx)(v.v,{severity:"error",children:(0,Y.jsx)(d.Z,{variant:"caption",children:(0,Y.jsx)(s.cC,{id:"If you DO NOT unstake within {0} of unstake window, you will need to activate cooldown process again.",values:{0:he(ie)}})})}),(0,Y.jsx)(N.g,{gasLimit:(0,h.parseUnits)(W||"0","wei")}),(0,Y.jsx)(p.Z,{sx:{mt:12},control:(0,Y.jsx)(f.Z,{checked:te,onClick:function(){K(k.vh.ACCEPT_RISK,{asset:_,modal:"Cooldown"}),re(!te)},inputProps:{"aria-label":"controlled"},"data-cy":"cooldownAcceptCheckbox"}),label:(0,Y.jsx)(s.cC,{id:"I understand how cooldown ({0}) and unstaking ({1}) work",values:{0:he(oe),1:he(ie)}})}),G&&(0,Y.jsx)(D.Q,{txError:G}),(0,Y.jsx)(V,{sx:{mt:"48px"},isWrongNetwork:pe,blocked:void 0!==ue||!te,selectedToken:_,amountToCooldown:me})]})},K=function(){var e=(0,o.vR)(),n=e.type,t=e.close,r=e.args;return(0,Y.jsx)(i.P,{open:n===o.w8.StakeCooldown,setOpen:t,children:(null===r||void 0===r?void 0:r.stakeAssetName)&&(0,Y.jsx)(G,{stakeAssetName:r.stakeAssetName})})}},67489:function(e,n,t){t.d(n,{B:function(){return U}});var r=t(59499),o=t(4730),i=t(49501),a=t(58057),s=t(81645),c=t(30120),l=t(75084),d=t(90149),u=t(29630),x=t(8195),p=t(77537),f=t(39771),h=t(36864),m=t(68861),j=t(58527),v=t(85893);function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var g=function(e){var n=(0,h.Z)({},e);return(0,v.jsx)(j.G,y(y({},n),{},{children:(0,v.jsx)(i.cC,{id:"To continue, you need to grant Aave smart contracts permission to move your funds from your wallet. Depending on the asset and wallet you use, it is done by signing the permission message (gas free), or by submitting an approval transaction (requires gas). <0>Learn more</0>",components:{0:(0,v.jsx)(m.rU,{href:"https://eips.ethereum.org/EIPS/eip-2612",underline:"always"})}})}))},w=t(56365),O=t(68346),C=t(17674),k=t(64343),P=t(22659),Z=t(73812),A=t(31538),T=t(61702),D=t(29894),E=t(67294),I=t(32113),N=function(e){var n=e.currentMethod,t=e.setMethod,r=E.useState(null),o=(0,C.Z)(r,2),a=o[0],l=o[1],d=Boolean(a),x=function(){l(null)};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(c.Z,{onClick:function(e){l(e.currentTarget)},sx:{display:"flex",alignItems:"center",cursor:"pointer"},"data-cy":"approveButtonChange",children:[(0,v.jsx)(u.Z,{variant:"subheader2",color:"info.main",children:(0,v.jsx)(i.cC,{id:"{currentMethod}",values:{currentMethod:n}})}),(0,v.jsx)(s.Z,{sx:{fontSize:16,ml:1,color:"info.main"},children:(0,v.jsx)(P.Z,{})})]}),(0,v.jsxs)(Z.Z,{anchorEl:a,open:d,onClose:x,MenuListProps:{"aria-labelledby":"basic-button"},keepMounted:!0,"data-cy":"approveMenu_".concat(n),children:[(0,v.jsxs)(A.Z,{"data-cy":"approveOption_".concat(I.n.PERMIT),selected:n===I.n.PERMIT,value:I.n.PERMIT,onClick:function(){n===I.n.APPROVE&&t(I.n.PERMIT),x()},children:[(0,v.jsx)(T.Z,{primaryTypographyProps:{variant:"subheader1"},children:(0,v.jsx)(i.cC,{id:"{0}",values:{0:I.n.PERMIT}})}),(0,v.jsx)(D.Z,{children:(0,v.jsx)(s.Z,{children:n===I.n.PERMIT&&(0,v.jsx)(k.Z,{})})})]}),(0,v.jsxs)(A.Z,{"data-cy":"approveOption_".concat(I.n.APPROVE),selected:n===I.n.APPROVE,value:I.n.APPROVE,onClick:function(){n===I.n.PERMIT&&t(I.n.APPROVE),x()},children:[(0,v.jsx)(T.Z,{primaryTypographyProps:{variant:"subheader1"},children:(0,v.jsx)(i.cC,{id:"{0}",values:{0:I.n.APPROVE}})}),(0,v.jsx)(D.Z,{children:(0,v.jsx)(s.Z,{children:n===I.n.APPROVE&&(0,v.jsx)(k.Z,{})})})]})]})]})},R=t(89291),S=t(46930),B=t(8656),M=function(){return(0,v.jsx)(s.Z,{sx:{ml:"2px",fontSize:"11px"},children:(0,v.jsx)(w.Z,{})})},_=function(e){var n=e.approvalHash,t=e.tryPermit,r=(0,B.Yh)(),o=r.walletApprovalMethodPreference,a=r.setWalletApprovalMethodPreference,s=t&&o,l=(0,S.f)().currentNetworkConfig,d=n===R.Z;return n||d||!t?n&&!s?(0,v.jsx)(c.Z,{sx:{display:"flex",justifyContent:"flex-start",alignItems:"center",pb:1},children:n&&(0,v.jsxs)(O.Z,{variant:"helperText",href:l.explorerLinkBuilder({tx:n}),sx:{display:"inline-flex",alignItems:"center"},underline:"hover",target:"_blank",rel:"noreferrer noopener",children:[(0,v.jsx)(i.cC,{id:"Review approval tx details"}),(0,v.jsx)(M,{})]})}):(0,v.jsx)(v.Fragment,{}):(0,v.jsxs)(c.Z,{sx:{display:"inline-flex",alignItems:"center",mb:2},children:[(0,v.jsxs)(u.Z,{variant:"subheader2",color:"text.secondary",children:[(0,v.jsx)(i.cC,{id:"Approve with"}),"\xa0"]}),(0,v.jsx)(N,{currentMethod:o,setMethod:function(e){return a(e)}})]})},L=["actionInProgressText","actionText","amount","approvalTxState","handleApproval","handleAction","isWrongNetwork","mainTxState","preparingTransactions","requiresAmount","requiresApproval","sx","symbol","blocked","fetchingData","errorParams","tryPermit","event"];function z(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function H(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?z(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):z(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var U=function(e){var n=e.actionInProgressText,t=e.actionText,r=e.amount,h=e.approvalTxState,m=e.handleApproval,j=e.handleAction,b=e.isWrongNetwork,y=e.mainTxState,w=e.preparingTransactions,O=e.requiresAmount,C=e.requiresApproval,k=e.sx,P=e.symbol,Z=e.blocked,A=e.fetchingData,T=void 0!==A&&A,D=e.errorParams,E=e.tryPermit,I=(e.event,(0,o.Z)(e,L)),N=(0,x.vR)().txError,R=(0,p.Z)().readOnlyModeAddress,S=C&&(null===N||void 0===N?void 0:N.txAction)===f.aD.APPROVAL&&(null===N||void 0===N?void 0:N.actionBlocked),B=O&&O&&0===Number(r);var M=Z?{disabled:!0,content:t}:(null===N||void 0===N?void 0:N.txAction)!==f.aD.GAS_ESTIMATION&&(null===N||void 0===N?void 0:N.txAction)!==f.aD.MAIN_ACTION||null===N||void 0===N||!N.actionBlocked?b?{disabled:!0,content:(0,v.jsx)(i.cC,{id:"Wrong Network"})}:T?{disabled:!0,content:(0,v.jsx)(i.cC,{id:"Fetching data..."})}:B?{disabled:!0,content:(0,v.jsx)(i.cC,{id:"Enter an amount"})}:w?{disabled:!0,loading:!0}:null!==y&&void 0!==y&&y.loading?{loading:!0,disabled:!0,content:n}:!C||null!==h&&void 0!==h&&h.success?{content:t,handleClick:j}:{disabled:!0,content:t}:D||{loading:!1,disabled:!0,content:t},z=M.content,U=M.disabled,Y=M.loading,W=M.handleClick,q=!C||b||B||w||S?null:null!==h&&void 0!==h&&h.loading?{loading:!0,disabled:!0,content:(0,v.jsx)(i.cC,{id:"Approving {symbol}...",values:{symbol:P}})}:null!==h&&void 0!==h&&h.success?{disabled:!0,content:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(i.cC,{id:"Approve Confirmed"}),(0,v.jsx)(s.Z,{sx:{fontSize:20,ml:2},children:(0,v.jsx)(a.Z,{})})]})}:{content:(0,v.jsx)(g,{variant:"buttonL",iconSize:20,iconMargin:2,color:"white",text:(0,v.jsx)(i.cC,{id:"Approve {symbol} to continue",values:{symbol:P}})}),handleClick:m};return(0,v.jsxs)(c.Z,H(H({sx:H({display:"flex",flexDirection:"column",mt:12},k)},I),{},{children:[q&&!R&&(0,v.jsx)(c.Z,{sx:{display:"flex",justifyContent:"end",alignItems:"center"},children:(0,v.jsx)(_,{approvalHash:null===h||void 0===h?void 0:h.txHash,tryPermit:E})}),q&&!R&&(0,v.jsxs)(l.Z,{variant:"contained",disabled:q.disabled||Z,onClick:function(){return q.handleClick&&q.handleClick()},size:"large",sx:{minHeight:"44px"},"data-cy":"approvalButton",children:[q.loading&&(0,v.jsx)(d.Z,{color:"inherit",size:"16px",sx:{mr:2}}),q.content]}),(0,v.jsxs)(l.Z,{variant:"contained",disabled:U||Z||void 0!==R,onClick:W,size:"large",sx:H({minHeight:"44px"},q?{mt:2}:{}),"data-cy":"actionButton",children:[Y&&(0,v.jsx)(d.Z,{color:"inherit",size:"16px",sx:{mr:2}}),z]}),R&&(0,v.jsx)(u.Z,{variant:"helperText",color:"warning.main",sx:{textAlign:"center",mt:2},children:(0,v.jsx)(i.cC,{id:"Read-only mode. Connect to a wallet to perform transactions."})})]}))}},80664:function(e,n,t){t.d(n,{P:function(){return p}});var r=t(80854),o=t(1279),i=t(81206),a=t(82403),s=t(70794),c=t(8656),l=t(63206),d=t(52369),u=t(45257),x=function(e){var n=(0,c.Yh)((function(e){return e.account})),t=(0,u._)(e,n),x=(0,d.T)(e),p=t.find((function(e){return e.isLoading}))||x.find((function(e){return e.isLoading}));return{walletBalances:x.map((function(n,c){var d;return function(e){var n=e.reservesHumanized,t=e.balances,c=e.marketData,d=(null===n||void 0===n?void 0:n.reservesData)||[],u=(null===n||void 0===n?void 0:n.baseCurrencyData)||{marketReferenceCurrencyDecimals:0,marketReferenceCurrencyPriceInUsd:"0",networkBaseTokenPriceInUsd:"0",networkBaseTokenPriceDecimals:0},x=!0;return{walletBalances:(null!==t&&void 0!==t?t:[]).reduce((function(e,n){var t=d.find((function(e){var t;return n.address===r.hP.toLowerCase()?e.symbol.toLowerCase()===(null===(t=l.m5[c.chainId].wrappedBaseAssetSymbol)||void 0===t?void 0:t.toLowerCase()):e.underlyingAsset.toLowerCase()===n.address}));return"0"!==n.amount&&(x=!1),t&&(e[n.address]={amount:(0,o.Fv)(n.amount,t.decimals),amountUSD:(0,i.Z)({amount:new s.O(n.amount),currencyDecimals:t.decimals,priceInMarketReferenceCurrency:t.priceInMarketReferenceCurrency,marketReferenceCurrencyDecimals:u.marketReferenceCurrencyDecimals,normalizedMarketReferencePriceInUsd:(0,o.Fv)(u.marketReferenceCurrencyPriceInUsd,a.$3)})}),e}),{}),hasEmptyWallet:x}}({reservesHumanized:n.data,balances:null===(d=t[c])||void 0===d?void 0:d.data,marketData:e[c]})})),isLoading:p}},p=function(e){var n=x([e]),t=n.walletBalances,r=n.isLoading;return{walletBalances:t[0].walletBalances,hasEmptyWallet:t[0].hasEmptyWallet,loading:r}}},52369:function(e,n,t){t.d(n,{T:function(){return c},J:function(){return l}});var r=t(59499),o=t(87669),i=t(31001),a=t(16540);function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var c=function(e,n){var t=(0,a.z)().uiPoolService;return(0,o.h)({queries:e.map((function(e){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({queryKey:i.B.poolReservesDataHumanized(e),queryFn:function(){return t.getReservesHumanized(e)},refetchInterval:i.g,meta:{}},n)}))})},l=function(e){return c([e])[0]}},45257:function(e,n,t){t.d(n,{_:function(){return c}});var r=t(59499),o=t(87669),i=(t(8656),t(31001)),a=t(16540);function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var c=function(e,n,t){var c=(0,a.z)().poolTokensBalanceService;return(0,o.h)({queries:e.map((function(e){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({queryKey:i.B.poolTokens(n,e),queryFn:function(){return c.getPoolTokensBalances(e,n)},enabled:!!n,refetchInterval:i.g},t)}))})}}}]);