"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5385],{25563:function(e,t,r){r.d(t,{hu:function(){return x},St:function(){return v},gO:function(){return g},tF:function(){return y}});var n=r(59499),s=(r(49501),r(61782),r(30120)),i=r(72389),o=r(62097),a=r(61225),c=r(29630),u=(r(82334),r(81645),r(31538),r(61702),r(67294)),l=r(8656),d=(r(57609),r(46930)),p=r(63206),f=(r(34637),r(59379),r(85893));function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b,x=function(e){var t=p.ei[e];return{market:t,network:p.m5[t.chainId]}},v=function(e){var t=["G\xf6rli","Ropsten","Mumbai","Sepolia","Fuji","Testnet","Kovan","Rinkeby"],r=e.split(" "),n=r.filter((function(e){return t.indexOf(e)>-1}));return{name:r.filter((function(e){return!n.includes(e)})).join(" "),testChainName:n[0]}},g=function(e){var t=e.size,r=e.logo,n=e.testChainName,o=e.sx;return(0,f.jsxs)(s.Z,{sx:m({mr:2,width:t,height:t,position:"relative"},o),children:[(0,f.jsx)("img",{src:r,alt:"",width:"100%",height:"100%"}),n&&(0,f.jsx)(i.Z,{title:n,arrow:!0,children:(0,f.jsx)(s.Z,{sx:{bgcolor:"#29B6F6",width:"16px",height:"16px",borderRadius:"50%",color:"common.white",fontSize:"12px",lineHeight:"16px",display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",right:"-2px",bottom:"-2px"},children:n.split("")[0]})})]})};!function(e){e[e.V2=0]="V2",e[e.V3=1]="V3"}(b||(b={}));var y=function(){var e=(0,d.f)(),t=e.currentMarket,r=(e.setCurrentMarket,(0,u.useState)(b.V3)),n=(r[0],r[1],(0,o.Z)()),i=(0,a.Z)(n.breakpoints.up("lg")),p=(0,a.Z)(n.breakpoints.down("xsm")),h=((0,l.Yh)((function(e){return e.trackEvent})),x(t)),m=h.market,y=h.network;return(0,f.jsxs)(s.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,f.jsx)(g,{size:i?32:28,logo:y.networkLogoPath,testChainName:v(m.marketTitle).testChainName}),(0,f.jsx)(s.Z,{sx:{mr:1,display:"inline-flex",alignItems:"flex-start"},children:(0,f.jsxs)(c.Z,{variant:i?"display1":"h1",sx:{fontSize:p?"1.55rem":void 0,color:"common.white",mr:1},children:[v(m.marketTitle).name," ",m.isFork?"Fork":""]})})]})}},34637:function(e,t,r){r.d(t,{Y:function(){return p},Z:function(){return f}});var n=r(59499),s=r(77191),i=r(81719),o=r(87054),a=(r(67294),r(85893));function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l=(0,i.ZP)(o.Z)((function(e){return(0,s.Z)(e),{border:"0px",flex:1,backgroundColor:"#2f2f32",borderRadius:"4px","&.Mui-selected, &.Mui-selected:hover":{backgroundColor:"#FFFFFF",borderRadius:"4px !important"},"&.Mui-selected, &.Mui-disabled":{zIndex:100,height:"100%",display:"flex",justifyContent:"center",".MuiTypography-subheader1":{backgroundColor:"#44494f",backgroundClip:"text",textFillColor:"transparent"},".MuiTypography-secondary14":{backgroundColor:"#44494f",backgroundClip:"text",textFillColor:"transparent"}}}})),d=(0,i.ZP)(o.Z)((function(e){var t=e.theme;return{border:"0px",flex:1,color:t.palette.text.muted,borderRadius:"4px","&.Mui-selected, &.Mui-selected:hover":{border:"1px solid ".concat(t.palette.other.standardInputLine),backgroundColor:"#FFFFFF",borderRadius:"4px !important"},"&.Mui-selected, &.Mui-disabled":{zIndex:100,height:"100%",display:"flex",justifyContent:"center",color:t.palette.background.header}}}));function p(e){return(0,a.jsx)(d,u({},e))}function f(e){return(0,a.jsx)(l,u({},e))}},59379:function(e,t,r){r.d(t,{f:function(){return d},Z:function(){return p}});var n=r(59499),s=r(81719),i=r(85390),o=r(85893);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=(0,s.ZP)(i.Z)({backgroundColor:"#2f3236",border:"1px solid rgba(235, 235, 237, 0.12)",padding:"4px"}),l=(0,s.ZP)(i.Z)((function(e){return{backgroundColor:e.theme.palette.background.header,padding:"2px",height:"36px",width:"100%"}}));function d(e){return(0,o.jsx)(l,c({},e))}function p(e){return(0,o.jsx)(u,c({},e))}},3765:function(e,t,r){r.d(t,{p:function(){return d}});var n=r(49501),s=r(75084),i=r(5152),o=r(26074),a=r(8656),c=r(57609),u=r(85893),l=(0,i.default)((function(){return Promise.resolve().then(r.bind(r,58294)).then((function(e){return e.WalletModal}))}),{loadableGenerated:{webpack:function(){return[58294]}}}),d=function(e){var t=e.funnel,r=(0,o.q)().setWalletModalOpen,i=(0,a.Yh)((function(e){return e.trackEvent}));return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(s.Z,{variant:"gradient",onClick:function(){i(c.Bp.CONNECT_WALLET,{funnel:t}),r(!0)},children:(0,u.jsx)(n.cC,{id:"Connect wallet"})}),(0,u.jsx)(l,{})]})}},55385:function(e,t,r){r.r(t),r.d(t,{SwitchModal:function(){return qe}});var n=r(59499),s=r(80854),i=r(1279),o=r(30120),a=r(90149),c=r(67294),u=r(52369),l=r(45257),d=r(8195),p=r(8656),f=r(64771),h=r(63206),m=r(31959);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v=(0,h.c)().map((function(e){return x(x({},h.m5[e]),{},{chainId:e})})).filter((function(e){return Object.values(h.ei).find((function(t){var r;return t.chainId===e.chainId&&(null===(r=t.enabledFeatures)||void 0===r?void 0:r.switch)}))})),g=r(49501),y=r(67484),j=r(80562),O=r(81645),w=r(29630),k=r(96486),S=r(41024),C=r(92391),P=r(3765),Z=r(50029),D=r(87794),A=r.n(D),E=r(79643),T=r(36492),M=r(464),I=r(32161),N=r(89886),R=r(30081),F=r(33989);class L extends F.l{constructor(e,t){super(),this.client=e,this.setOptions(t),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var t;const r=this.options;this.options=this.client.defaultMutationOptions(e),(0,I.VS)(r,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),null==(t=this.currentMutation)||t.setOptions(this.options)}onUnsubscribe(){var e;this.listeners.length||(null==(e=this.currentMutation)||e.removeObserver(this))}onMutationUpdate(e){this.updateResult();const t={listeners:!0};"success"===e.type?t.onSuccess=!0:"error"===e.type&&(t.onError=!0),this.notify(t)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:"undefined"!==typeof e?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:(0,N.R)(),t={...e,isLoading:"loading"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset};this.currentResult=t}notify(e){R.V.batch((()=>{var t,r,n,s;if(this.mutateOptions&&this.hasListeners())if(e.onSuccess)null==(t=(r=this.mutateOptions).onSuccess)||t.call(r,this.currentResult.data,this.currentResult.variables,this.currentResult.context),null==(n=(s=this.mutateOptions).onSettled)||n.call(s,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context);else if(e.onError){var i,o,a,c;null==(i=(o=this.mutateOptions).onError)||i.call(o,this.currentResult.error,this.currentResult.variables,this.currentResult.context),null==(a=(c=this.mutateOptions).onSettled)||a.call(c,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}e.listeners&&this.listeners.forEach((e=>{e(this.currentResult)}))}))}}var V=r(85945),B=r(24798);function W(){}var U=r(2593),z=r(9279),H=r(31001),_=r(74119);function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var q=function(e){var t=(0,_.rG)(e);return function(e,t,r){const n=(0,I.lV)(e,t,r),s=(0,V.NL)({context:n.context}),[i]=c.useState((()=>new L(s,n)));c.useEffect((()=>{i.setOptions(n)}),[i,n]);const o=(0,M.$)(c.useCallback((e=>i.subscribe(R.V.batchCalls(e))),[i]),(()=>i.getCurrentResult()),(()=>i.getCurrentResult())),a=c.useCallback(((e,t)=>{i.mutate(e,t).catch(W)}),[i]);if(o.error&&(0,B.L)(i.options.useErrorBoundary,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}({mutationFn:function(){var r=(0,Z.Z)(A().mark((function r(n){var s,i,o,a,c,u,l,d,p,f,h,m;return A().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=n.srcToken,i=n.srcDecimals,o=n.destToken,a=n.destDecimals,c=n.user,u=n.route,l=n.maxSlippage,d=n.permit,p=n.deadline,f=n.partner,h=(0,_.w_)(e),r.next=4,h.buildTx({srcToken:s,srcDecimals:i,srcAmount:u.srcAmount,destToken:o,destDecimals:a,userAddress:c,priceRoute:u,slippage:l,takeSurplus:!0,partner:f,partnerAddress:t,permit:d,deadline:p},{ignoreChecks:!0});case 4:return m=r.sent,r.abrupt("return",Q(Q({},m),{},{gasLimit:U.O$.from("500000"),gasPrice:void 0,value:U.O$.from(m.value)}));case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()})},Y=r(66209),K=r(77537),$=r(57609),X=r(53601),J=r(57824),ee=r(78944),te=r(10343),re=r(99730),ne=r(61782),se=r(55343),ie=r(46541),oe=r(31538),ae=r(25563),ce=r(85893);function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var de=function(e){var t=e.networks,r=e.selectedNetwork,n=e.setSelectedNetwork;return(0,ce.jsx)(se.Z,{sx:{minWidth:"unset",width:"unset"},children:(0,ce.jsx)(ie.Z,{native:!1,value:String(r),onChange:function(e){n(Number(e.target.value))},IconComponent:function(e){return(0,ce.jsx)(O.Z,le(le({sx:{fontSize:"14px"}},e),{},{children:(0,ce.jsx)(ne.Z,{})}))},sx:{"&.MuiInputBase-root":{border:0,".MuiSelect-select":{display:"flex",backgroundColor:"transparent",border:0}},"& .MuiOutlinedInput-notchedOutline":{border:"none"}},children:t.map((function(e){return(0,ce.jsx)(oe.Z,{value:e.chainId,children:(0,ce.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,ce.jsx)(ae.gO,{size:16,logo:e.networkLogoPath,sx:{mr:1}}),(0,ce.jsx)(w.Z,{variant:"subheader2",color:"#4D6EEE",children:e.displayName||e.name})]})},"".concat(e.name))}))})})},pe=r(17674),fe=r(24243),he=r(75331),me=r(56371),be=r(30194),xe=r(89291),ve=r(32113),ge=r(39771),ye=r(64629),je=r(67489),Oe=r(94671);function we(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?we(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):we(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Se=function(e){var t,r,n=e.inputAmount,i=e.inputToken,o=e.inputName,a=e.outputName,u=e.outputToken,l=e.slippage,f=e.blocked,m=e.loading,b=e.isWrongNetwork,x=e.chainId,v=e.route,y=(0,p.Yh)((function(e){return[e.account,e.generateApproval,e.estimateGasLimit,e.walletApprovalMethodPreference,e.generateSignatureRequest,e.addTransaction,e.currentMarketData]})),j=(0,pe.Z)(y,7),O=j[0],w=j[1],k=j[2],S=j[3],C=j[4],P=j[5],D=j[6],E=(0,d.vR)(),T=E.approvalTxState,M=E.mainTxState,I=E.loadingTxns,N=E.setMainTxState,R=E.setTxError,F=E.setGasLimit,L=E.setLoadingTxns,V=E.setApprovalTxState,B=(0,K.Z)(),W=B.sendTx,U=B.signTxData,z=(0,h.Mo)(x),G=(0,c.useState)(),Q=G[0],Y=G[1],$=(0,c.useState)(void 0),X=$[0],J=$[1],ee=q(null!==(t=z.underlyingChainId)&&void 0!==t?t:x).mutateAsync,te=null===(r=ye.Q[x])||void 0===r?void 0:r[i],re=S===ve.n.PERMIT&&te,ne=(0,c.useMemo)((function(){return void 0!==X&&-1!==X&&"0"!==n&&!b&&X<Number(n)}),[X,n,b]),se=function(){var e=(0,Z.Z)(A().mark((function e(){var t,r,n,s,c,d;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v){e.next=35;break}return e.prev=1,N(ke(ke({},M),{},{loading:!0})),e.next=5,ee({srcToken:i,srcDecimals:v.srcDecimals,destDecimals:v.destDecimals,destToken:u,route:v,user:O,maxSlippage:1e4*Number(l),permit:Q&&Q.signature,deadline:Q&&Q.deadline,partner:"aave-widget"});case 5:return(t=e.sent).chainId=x,e.next=9,k(t,x);case 9:return r=e.sent,e.next=12,W(r);case 12:return n=e.sent,s={action:"switch",asset:v.srcToken,assetName:o,amount:(0,me.formatUnits)(v.srcAmount,v.srcDecimals),amountUsd:v.srcUSD,outAsset:v.destToken,outAmount:(0,me.formatUnits)(v.destAmount,v.destDecimals),outAmountUsd:v.destUSD,outAssetName:a},e.prev=14,e.next=17,n.wait(1);case 17:P(n.hash,ke({txState:"success"},s),{chainId:x}),N({txHash:n.hash,loading:!1,success:!0}),be.queryClient.invalidateQueries({queryKey:H.B.poolTokens(O,D)}),e.next=28;break;case 22:e.prev=22,e.t0=e.catch(14),c=(0,ge.WG)(e.t0,ge.aD.MAIN_ACTION,!1),R(c),N({txHash:n.hash,loading:!1}),P(n.hash,ke({txState:"failed"},s),{chainId:x});case 28:e.next=35;break;case 30:e.prev=30,e.t1=e.catch(1),d=(0,ge.WG)(e.t1,ge.aD.GAS_ESTIMATION,!1),R(d),N({txHash:void 0,loading:!1});case 35:case"end":return e.stop()}}),e,null,[[1,30],[14,22]])})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=(0,Z.Z)(A().mark((function e(){var t,r,s,o,a,c,u,l,d,p,f;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v){e.next=39;break}if(t=(0,_.sm)(n,v.srcDecimals,0),r={spender:v.tokenTransferProxy,user:O,token:i,amount:t},e.prev=3,!re){e.next=19;break}return s=Math.floor(Date.now()/1e3+3600).toString(),e.next=8,C(ke(ke({},r),{},{deadline:s}),{chainId:x});case 8:return o=e.sent,V(ke(ke({},T),{},{loading:!0})),e.next=12,U(o);case 12:a=e.sent,c=(0,me.splitSignature)(a),u=me.defaultAbiCoder.encode(["address","address","uint256","uint256","uint8","bytes32","bytes32"],[r.user,r.spender,r.amount,s,c.v,c.r,c.s]),Y({signature:u,deadline:s,amount:r.amount,approvedToken:r.spender}),V({txHash:xe.Z,loading:!1,success:!0}),e.next=32;break;case 19:return l=w(r,{chainId:x}),e.next=22,k(l);case 22:return d=e.sent,V(ke(ke({},T),{},{loading:!0})),e.next=26,W(d);case 26:return p=e.sent,e.next=29,p.wait(1);case 29:V({txHash:p.hash,loading:!1,success:!0}),R(void 0),oe();case 32:e.next=39;break;case 34:e.prev=34,e.t0=e.catch(3),f=(0,ge.WG)(e.t0,ge.aD.GAS_ESTIMATION,!1),R(f),V({txHash:void 0,loading:!1});case 39:case"end":return e.stop()}}),e,null,[[3,34]])})));return function(){return e.apply(this,arguments)}}(),oe=(0,c.useCallback)((0,Z.Z)(A().mark((function e(){var t,r,n;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===v||void 0===v||!v.tokenTransferProxy){e.next=11;break}return Y(void 0),V({txHash:void 0,loading:!1,success:!1}),L(!0),t=(0,h.VH)(x),r=new fe.A(t),e.next=8,r.approvedAmount({user:O,token:i,spender:v.tokenTransferProxy});case 8:n=e.sent,J(n),L(!1);case 11:case"end":return e.stop()}}),e)}))),[x,L,O,i,null===v||void 0===v?void 0:v.tokenTransferProxy,V]);return(0,c.useEffect)((function(){O&&oe()}),[oe,O]),(0,c.useEffect)((function(){var e=0;e=Number(s.eB[he.UQ.withdrawAndSwitch].recommended),ne&&!T.success&&(e+=Number(Oe.pQ)),F(e.toString())}),[ne,T,F]),(0,ce.jsx)(je.B,{mainTxState:M,approvalTxState:T,isWrongNetwork:b,preparingTransactions:I,handleAction:se,requiresAmount:!0,amount:n,handleApproval:function(){return ie()},requiresApproval:!f&&ne,actionText:(0,ce.jsx)(g.cC,{id:"Switch"}),actionInProgressText:(0,ce.jsx)(g.cC,{id:"Switching"}),errorParams:{loading:!1,disabled:f||!T.success&&ne,content:(0,ce.jsx)(g.cC,{id:"Switch"}),handleClick:se},fetchingData:m,blocked:f,tryPermit:te})},Ce=r(69331),Pe=function(e){var t=e.error;return(0,ce.jsx)(Ce.v,{severity:"error",icon:!1,sx:{mt:4},children:(0,ce.jsx)(w.Z,{variant:"caption",children:t instanceof Error?(0,_.aE)(t.message):"There was an issue fetching data from Paraswap"})})},Ze=function(e){var t=e.ratesError,r=e.balance,n=e.inputAmount;return t?(0,ce.jsx)(Pe,{error:t}):Number(n)>Number(r)?(0,ce.jsx)(Ce.v,{severity:"error",sx:{mt:4},icon:!1,children:(0,ce.jsx)(w.Z,{variant:"caption",children:(0,ce.jsx)(g.cC,{id:"Your balance is lower than the selected amount."})})}):null},De=r(58364),Ae=r(83187),Ee=r(41528),Te=function(e){var t=e.rates,r=e.srcSymbol,n=e.destSymbol,s=(0,c.useState)(!1),a=s[0],u=s[1],l=(0,c.useMemo)((function(){var e=(0,i.pV)(t.srcAmount,t.srcDecimals),r=(0,i.pV)(t.destAmount,t.destDecimals);return a?e.div(r):r.div(e)}),[a,t.srcAmount,t.destAmount]),d=(0,c.useMemo)((function(){var e=(0,i.hE)(t.srcUSD);return(0,i.hE)(t.destUSD).minus(e).div(e)}),[t.srcUSD,t.destUSD]);return(0,ce.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mt:6},children:[(0,ce.jsx)(S.B,{visibleDecimals:0,variant:"main12",symbol:a?n:r,symbolsVariant:"secondary12",symbolsColor:"text.secondary",value:"1"}),(0,ce.jsx)(Ae.Z,{onClick:function(){return u((function(e){return!e}))},disableTouchRipple:!0,sx:{mx:1},children:(0,ce.jsx)(O.Z,{sx:{fontSize:"12px"},children:(0,ce.jsx)(De.Z,{})})}),(0,ce.jsx)(S.B,{variant:"main12",symbol:a?r:n,symbolsVariant:"secondary12",symbolsColor:"text.secondary",value:l.toString(),visibleDecimals:3}),(0,ce.jsx)(Ee.y,{title:(0,ce.jsx)(w.Z,{variant:"caption",children:(0,ce.jsx)(g.cC,{id:"Price impact"})}),children:(0,ce.jsxs)(o.Z,{sx:{display:"flex",cursor:"pointer"},children:[(0,ce.jsx)(w.Z,{variant:"caption",children:"("}),(0,ce.jsx)(S.B,{variant:"caption",value:d.toString(),percent:!0}),(0,ce.jsx)(w.Z,{variant:"caption",children:")"})]})})]})},Me=r(22659),Ie=r(73812),Ne=r(85390),Re=r(87054),Fe=r(75084),Le=["0.001","0.005","0.01"],Ve=function(e){var t=e.slippage,r=e.setSlippage,n=(0,c.useState)(),s=n[0],i=n[1],a=Boolean(s);return(0,ce.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,ce.jsxs)(w.Z,{variant:"caption",color:"text.secondary",children:[(0,ce.jsx)(g.cC,{id:"Slippage"}),(0,ce.jsxs)(Ie.Z,{anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},anchorEl:s,id:"switch-slippage-selector",MenuListProps:{"aria-labelledby":"switch-slippage-selector-button",sx:{py:3,px:4}},open:a,onClose:function(){i(null)},children:[(0,ce.jsx)(w.Z,{variant:"subheader2",mb:5,children:(0,ce.jsx)(g.cC,{id:"Max slippage"})}),(0,ce.jsx)(o.Z,{sx:{display:"flex",alignItems:"center"},children:(0,ce.jsx)(Ne.Z,{sx:{backgroundColor:"background.surface",borderRadius:"6px",p:"2px"},exclusive:!0,onChange:function(e,t){return r(t)},children:Le.map((function(e){return(0,ce.jsx)(Re.Z,{sx:{borderRadius:1,py:1,px:2,borderColor:"transparent",backgroundColor:e===t?"background.paper":"transparent"},value:e,children:(0,ce.jsx)(S.B,{value:e,percent:!0,variant:"subheader2",color:"primary.main",symbolsColor:"primary.main"})},e)}))})})]})]}),(0,ce.jsx)(S.B,{variant:"caption",color:"text.primary",value:t,visibleDecimals:2,percent:!0}),(0,ce.jsx)(Fe.Z,{id:"switch-slippage-selector-button",sx:{padding:0,minWidth:0},onClick:function(e){i(e.currentTarget)},"aria-controls":"switch-slippage-selector",children:(0,ce.jsx)(O.Z,{sx:{fontSize:"16px"},children:(0,ce.jsx)(Me.Z,{})})})]})},Be=r(71335),We=r(72667),Ue=r(55200),ze=function(e){var t=e.txHash,r=e.amount,n=e.symbol,s=e.iconSymbol,i=e.outAmount,a=e.outSymbol,c=e.outIconSymbol;return(0,ce.jsx)(Ue.R,{txHash:t,children:(0,ce.jsxs)(o.Z,{sx:{mt:2,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},children:[(0,ce.jsx)(w.Z,{children:(0,ce.jsx)(g.cC,{id:"You've successfully switched tokens."})}),(0,ce.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",gap:2,mt:3},children:[(0,ce.jsx)(We.T1,{sx:{fontSize:"20px"},symbol:s}),(0,ce.jsx)(S.B,{value:Number(r),compact:!0,variant:"main14"}),(0,ce.jsx)(w.Z,{variant:"secondary14",children:n}),(0,ce.jsx)(O.Z,{sx:{fontSize:"14px"},children:(0,ce.jsx)(Be.Z,{fontSize:"14px"})}),(0,ce.jsx)(We.T1,{sx:{fontSize:"20px"},symbol:c}),(0,ce.jsx)(S.B,{value:Number(i),variant:"main14"}),(0,ce.jsx)(w.Z,{variant:"secondary14",children:a})]})]})})},He=function(e){var t,r=e.supportedNetworks,n=e.selectedChainId,s=e.setSelectedChainId,u=e.reserves,l=e.selectedNetworkConfig,f=e.defaultAsset,m=(0,c.useState)("0.001"),b=m[0],x=m[1],v=(0,c.useState)(""),Z=v[0],D=v[1],A=(0,c.useState)(""),M=A[0],I=A[1],N=(0,d.vR)(),R=N.mainTxState,F=N.gasLimit,L=N.txError,V=N.setTxError,B=(0,p.Yh)((function(e){return e.account})),W=(0,c.useState)((function(){var e=u.find((function(e){return e.underlyingAsset===f}));return e||("GHO"===u[0].symbol?u[1]:u[0])})),U=W[0],G=W[1],q=(0,K.Z)().readOnlyModeAddress,ne=(0,c.useState)((function(){var e=u.find((function(e){return"GHO"===e.symbol}));return e||(u.find((function(e){return e.underlyingAsset!==f&&e.underlyingAsset!==u[0].underlyingAsset}))||u[1])})),se=ne[0],ie=ne[1],oe=(0,Y.Q)(n),ae=(0,c.useMemo)((function(){return(0,k.debounce)((function(e){I(e)}),300)}),[I]),ue=function(e){var t=e.chainId,r=e.amount,n=e.srcToken,s=e.srcDecimals,i=e.destToken,o=e.destDecimals,a=e.user,c=e.options,u=void 0===c?{}:c;return(0,T.a)({queryFn:function(){return(0,_.w_)(t).getRate({amount:r,srcToken:n,srcDecimals:s,destToken:i,destDecimals:o,userAddress:a||z.d,side:E.PC.SELL,options:Q(Q({},u),{},{excludeDEXS:["ParaSwapPool","ParaSwapLimitOrders"]})})},queryKey:H.B.paraswapRates(t,r,n,i,a),enabled:"0"!==r,retry:0,refetchOnWindowFocus:function(e){return!e.state.error}})}({chainId:null!==(t=l.underlyingChainId)&&void 0!==t?t:n,amount:""===M?"0":(0,i.pV)(M,-1*U.decimals).toFixed(0),srcToken:U.underlyingAsset,srcDecimals:U.decimals,destToken:se.underlyingAsset,destDecimals:se.decimals,user:B,options:{partner:"aave-widget"}}),le=ue.data,pe=ue.error,fe=ue.isFetching;if(le&&R.success)return(0,ce.jsx)(ze,{txHash:R.txHash,amount:M,symbol:U.symbol,iconSymbol:U.iconSymbol,outSymbol:se.symbol,outIconSymbol:se.iconSymbol,outAmount:(Number((0,i.Fv)(le.destAmount,le.destDecimals))*(1-Number(b))).toString()});return(0,ce.jsxs)(ce.Fragment,{children:[(0,ce.jsx)(ee.E,{title:"Switch tokens"}),oe.isWrongNetwork&&!q&&(0,ce.jsx)(te.I,{networkName:(0,h.Mo)(n).name,chainId:n,event:{eventName:$.vh.SWITCH_NETWORK}}),(0,ce.jsxs)(o.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,ce.jsx)(de,{networks:r,selectedNetwork:n,setSelectedNetwork:function(e){V(void 0),s(e)}}),(0,ce.jsx)(Ve,{slippage:b,setSlippage:x})]}),U&&se?(0,ce.jsxs)(ce.Fragment,{children:[(0,ce.jsxs)(o.Z,{sx:{display:"flex",gap:"15px",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative"},children:[(0,ce.jsx)(X.W,{assets:u.filter((function(e){return e.underlyingAsset!==se.underlyingAsset})),value:Z,onChange:function(e){V(void 0),"-1"===e?(D(U.balance),ae(U.balance)):(D(e),ae(e))},usdValue:(null===le||void 0===le?void 0:le.srcUSD)||"0",symbol:null===U||void 0===U?void 0:U.symbol,onSelect:function(e){V(void 0),G(e)},inputTitle:" ",sx:{width:"100%"}}),(0,ce.jsx)(j.Z,{onClick:function(){var e=U,t=se,r=le?(0,i.pV)(le.destAmount,le.destDecimals).toString():"0";G(t),ie(e),D(r),I(r),V(void 0)},sx:{border:"1px solid",borderColor:"divider",position:"absolute",backgroundColor:"background.paper"},children:(0,ce.jsx)(O.Z,{sx:{color:"primary.main",fontSize:"18px"},children:(0,ce.jsx)(y.Z,{})})}),(0,ce.jsx)(X.W,{assets:u.filter((function(e){return e.underlyingAsset!==U.underlyingAsset})),value:le?(0,i.pV)(le.destAmount,le.destDecimals).toString():"0",usdValue:(null===le||void 0===le?void 0:le.destUSD)||"0",symbol:null===se||void 0===se?void 0:se.symbol,loading:"0"!==M&&""!==M&&fe&&!pe,onSelect:function(e){V(void 0),ie(e)},disableInput:!0,inputTitle:" ",sx:{width:"100%"}})]}),le&&(0,ce.jsx)(ce.Fragment,{children:(0,ce.jsx)(Te,{rates:le,srcSymbol:U.symbol,destSymbol:se.symbol})}),le&&B&&(0,ce.jsxs)(J.m6,{gasLimit:F,chainId:n,children:[(0,ce.jsx)(C.X,{caption:(0,ce.jsx)(g.cC,{id:"Minimum {0} received",values:{0:se.symbol}}),captionVariant:"caption",children:(0,ce.jsx)(S.B,{compact:!1,roundDown:!0,variant:"caption",value:Number((0,i.Fv)(le.destAmount,le.destDecimals))*(1-Number(b))})}),(0,ce.jsx)(C.X,{sx:{mt:1},caption:(0,ce.jsx)(g.cC,{id:"Minimum USD value received"}),captionVariant:"caption",children:(0,ce.jsx)(S.B,{symbol:"usd",symbolsVariant:"caption",variant:"caption",value:Number(le.destUSD)*(1-Number(b))})})]}),B?(0,ce.jsxs)(ce.Fragment,{children:[(0,ce.jsx)(Ze,{ratesError:pe,balance:U.balance,inputAmount:M}),L&&(0,ce.jsx)(re.f,{txError:L}),(0,ce.jsx)(Se,{isWrongNetwork:oe.isWrongNetwork,inputAmount:M,inputToken:U.underlyingAsset,outputToken:se.underlyingAsset,inputName:U.name,outputName:se.name,slippage:b,blocked:!le||Number(M)>Number(U.balance)||!B,chainId:n,route:le})]}):(0,ce.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"column",mt:4,alignItems:"center"},children:[(0,ce.jsx)(w.Z,{sx:{mb:6,textAlign:"center"},color:"text.secondary",children:(0,ce.jsx)(g.cC,{id:"Please connect your wallet to be able to switch your tokens."})}),(0,ce.jsx)(P.p,{})]})]}):(0,ce.jsx)(a.Z,{})]})};function _e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Qe=h.ei[h.el.proto_blast_sepolia_v3],qe=function(){var e=(0,d.vR)(),t=e.type,r=e.close,n=e.args,b=n.underlyingAsset,x=n.chainId,g=(0,p.Yh)((function(e){return e.currentChainId})),y=(0,p.Yh)((function(e){return e.account})),j=(0,c.useState)((function(){return v.find((function(e){return e.chainId===g}))?g:Qe.chainId})),O=j[0],w=j[1],k=(0,h.Mo)(O);(0,c.useEffect)((function(){x&&v.find((function(e){return e.chainId===x}))?w(x):v.find((function(e){return e.chainId===g}))?w(g):w(Qe.chainId)}),[g,x]);var S=(0,c.useMemo)((function(){return Object.values(h.ei).filter((function(e){var t;return e.chainId===O&&(null===(t=e.enabledFeatures)||void 0===t?void 0:t.switch)}))}),[O]),C=(0,u.T)(S,{refetchInterval:0}).reduce((function(e,t){if(t.data){var r=t.data.reservesData.find((function(e){return e.symbol===k.wrappedBaseAssetSymbol})),n=e.concat(t.data.reservesData.filter((function(t){return!e.find((function(e){return e.underlyingAsset===t.underlyingAsset}))})));return r&&!e.find((function(e){return e.underlyingAsset===s.hP}))?n.concat(Ge(Ge({},r),{},{underlyingAsset:s.hP,decimals:k.baseAssetDecimals},(0,f.QD)({underlyingAsset:s.hP,symbol:k.baseAssetSymbol}))):n}return e}),[]),P=(0,l._)(S,y,{refetchInterval:0}).reduce((function(e,t){return t.data?e.concat(t.data):e}),[]),Z=(0,c.useMemo)((function(){return C.map((function(e){var t;return Ge(Ge(Ge({},e),(0,f.QD)({underlyingAsset:e.underlyingAsset,symbol:e.symbol,name:e.name})),{},{balance:(0,i.Fv)((null===(t=P.find((function(t){return t.address.toLocaleLowerCase()===e.underlyingAsset.toLocaleLowerCase()})))||void 0===t?void 0:t.amount.toString())||"0",e.decimals)})}))}),[C,P]).sort((function(e,t){return Number(t.balance)-Number(e.balance)}));return(0,ce.jsx)(m.P,{open:t===d.w8.Switch,setOpen:r,children:Z.length>1?(0,ce.jsx)(He,{selectedChainId:O,setSelectedChainId:w,supportedNetworks:v,reserves:Z,selectedNetworkConfig:k,defaultAsset:b},O):(0,ce.jsx)(o.Z,{sx:{width:"100%",display:"flex",justifyContent:"center",my:"60px"},children:(0,ce.jsx)(a.Z,{})})})}},99730:function(e,t,r){r.d(t,{f:function(){return u}});var n=r(49501),s=r(30120),i=r(29630),o=r(69331),a=r(67916),c=r(85893),u=function(e){var t=e.txError;return(0,c.jsxs)(s.Z,{children:[(0,c.jsx)(a.Q,{txError:t}),"MetaMask Message Signature: User denied message signature."!==t.rawError.message&&"MetaMask Tx Signature: User denied transaction signature."!==t.rawError.message&&(0,c.jsx)(s.Z,{sx:{pt:4},children:(0,c.jsx)(o.v,{severity:"info",children:(0,c.jsxs)(i.Z,{variant:"description",children:[" ",(0,c.jsx)(n.cC,{id:"Tip: Try increasing slippage or reduce input amount"})]})})})]})}},71335:function(e,t,r){var n=r(67294);const s=n.forwardRef((function(e,t){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14 5l7 7m0 0l-7 7m7-7H3"}))}));t.Z=s},58364:function(e,t,r){var n=r(67294);const s=n.forwardRef((function(e,t){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"}))}));t.Z=s},67484:function(e,t,r){var n=r(67294);const s=n.forwardRef((function(e,t){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"}))}));t.Z=s},7687:function(e,t,r){r.d(t,{r:function(){return d}});var n=r(67294),s=r(464),i=r(30081),o=r(91784),a=r(85945),c=r(37122),u=r(91670),l=r(38381);function d(e,t){const r=(0,a.NL)({context:e.context}),d=(0,c.S)(),p=(0,o._)(),f=r.defaultQueryOptions(e);f._optimisticResults=d?"isRestoring":"optimistic",f.onError&&(f.onError=i.V.batchCalls(f.onError)),f.onSuccess&&(f.onSuccess=i.V.batchCalls(f.onSuccess)),f.onSettled&&(f.onSettled=i.V.batchCalls(f.onSettled)),(0,l.Fb)(f),(0,u.pf)(f,p),(0,u.JN)(p);const[h]=n.useState((()=>new t(r,f))),m=h.getOptimisticResult(f);if((0,s.$)(n.useCallback((e=>d?()=>{}:h.subscribe(i.V.batchCalls(e))),[h,d]),(()=>h.getCurrentResult()),(()=>h.getCurrentResult())),n.useEffect((()=>{h.setOptions(f,{listeners:!1})}),[f,h]),(0,l.SB)(f,m,d))throw(0,l.j8)(f,h,p);if((0,u.KJ)({result:m,errorResetBoundary:p,useErrorBoundary:f.useErrorBoundary,query:h.getCurrentQuery()}))throw m.error;return f.notifyOnChangeProps?m:h.trackResult(m)}},36492:function(e,t,r){r.d(t,{a:function(){return o}});var n=r(32161),s=r(52924),i=r(7687);function o(e,t,r){const o=(0,n._v)(e,t,r);return(0,i.r)(o,s.z)}}}]);