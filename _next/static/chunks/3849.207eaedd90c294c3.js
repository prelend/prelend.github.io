(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3849],{96875:function(e,t,n){"use strict";n.d(t,{o:function(){return x}});var r=n(59499),i=n(4730),a=n(49501),o=n(1279),s=n(62097),u=n(30120),c=n(29630),l=n(75084),p=n(70794),d=n(41024),y=n(85893),m=["value","onInfoClick","HALIntegrationComponent"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(e){var t=e.value,n=e.onInfoClick,r=e.HALIntegrationComponent,f=(0,i.Z)(e,m),x=(0,s.Z)().palette,b=Number((0,o.hE)(t).toFixed(2,p.Z.ROUND_DOWN)),g="";return g=b>=3?x.success.main:b<1.1?x.error.main:x.warning.main,(0,y.jsxs)(u.Z,{sx:{display:"inline-flex",alignItems:{xs:"flex-start",xsm:"center"},flexDirection:{xs:"column",xsm:"row"}},"data-cy":"HealthFactorTopPannel",children:["-1"===t?(0,y.jsx)(c.Z,{variant:"secondary14",color:x.success.main,children:"\u221e"}):(0,y.jsx)(d.B,v({value:b,sx:v({color:g},f.sx),visibleDecimals:2,compact:!0},f)),n&&(0,y.jsx)(l.Z,{onClick:n,variant:"surface",size:"small",sx:{minWidth:"unset",ml:{xs:0,xsm:2}},children:(0,y.jsx)(a.cC,{id:"Risk details"})}),r&&(0,y.jsx)(u.Z,{ml:{xs:0,xsm:2},mt:{xs:1,xsm:0},children:r})]})}},29002:function(e,t,n){"use strict";n.d(t,{o:function(){return l}});var r=n(59499),i=n(4730),a=n(81645),o=n(85893),s=["sx"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e){var t=e.sx,n=(0,i.Z)(e,s);return(0,o.jsxs)(a.Z,c(c({sx:c({fill:"none",stroke:"#A5A8B6"},t),viewBox:"0 0 21 19",xmlns:"http://www.w3.org/2000/svg","aria-label":"Wallet"},n),{},{children:[(0,o.jsxs)("g",{clipPath:"url(#clip0_3719_3323)",strokeWidth:"2",children:[(0,o.jsx)("path",{d:"M17.3203 17.398H3.32031C2.78988 17.398 2.28117 17.1872 1.9061 16.8122C1.53103 16.4371 1.32031 15.9284 1.32031 15.3979V6.39795C1.32031 5.86752 1.53103 5.35881 1.9061 4.98374C2.28117 4.60866 2.78988 4.39795 3.32031 4.39795H17.3203C17.8507 4.39795 18.3595 4.60866 18.7345 4.98374C19.1096 5.35881 19.3203 5.86752 19.3203 6.39795V15.3979C19.3203 15.9284 19.1096 16.4371 18.7345 16.8122C18.3595 17.1872 17.8507 17.398 17.3203 17.398Z"}),(0,o.jsx)("path",{d:"M14.8203 11.3979C14.6877 11.3979 14.5605 11.3453 14.4668 11.2515C14.373 11.1577 14.3203 11.0306 14.3203 10.8979C14.3203 10.7653 14.373 10.6382 14.4668 10.5444C14.5605 10.4506 14.6877 10.3979 14.8203 10.3979C14.9529 10.3979 15.0801 10.4506 15.1739 10.5444C15.2676 10.6382 15.3203 10.7653 15.3203 10.8979C15.3203 11.0306 15.2676 11.1577 15.1739 11.2515C15.0801 11.3453 14.9529 11.3979 14.8203 11.3979Z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsx)("path",{d:"M16.3203 4.39793V2.99993C16.3202 2.69343 16.2497 2.39106 16.1142 2.11615C15.9787 1.84124 15.7818 1.60116 15.5387 1.41444C15.2956 1.22773 15.0129 1.09937 14.7124 1.03929C14.4118 0.979209 14.1015 0.989009 13.8053 1.06793L2.80531 4.00093C2.37937 4.11444 2.00285 4.36549 1.7343 4.71506C1.46575 5.06462 1.32021 5.49312 1.32031 5.93393V6.39793"})]}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"clip0_3719_3323",children:(0,o.jsx)("rect",{width:"20",height:"19",fill:"white",transform:"translate(0.320312)"})})})]}))}},12349:function(e,t,n){"use strict";n.d(t,{M:function(){return g}});var r=n(1279),i=n(80059),a=n(30120),o=n(29630),s=n(81645),u=n(67294),c=n(8656),l=n(57609),p=n(97563),d=n(41024),y=n(72667),m=n(49501),f=n(92391),v=n(85893),x=function(e){var t=e.incentives,n=e.incentivesNetAPR,r=e.symbol,i="secondary12",s=function(e){var t=e.incentiveAPR;return(0,v.jsx)(a.Z,{sx:{display:"inline-flex",alignItems:"center"},children:"Infinity"!==t?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(d.B,{value:+t,percent:!0,variant:i}),(0,v.jsx)(o.Z,{variant:i,sx:{ml:1},children:(0,v.jsx)(m.cC,{id:"APR"})})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(o.Z,{variant:i,children:"\u221e %"}),(0,v.jsx)(o.Z,{variant:i,sx:{ml:1},children:(0,v.jsx)(m.cC,{id:"APR"})})]})})};return(0,v.jsxs)(a.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[(0,v.jsx)(o.Z,{variant:"caption",color:"text.secondary",mb:3,children:(0,v.jsx)(m.cC,{id:"Participating in this {symbol} reserve gives annualized rewards.",values:{symbol:r}})}),(0,v.jsxs)(a.Z,{sx:{width:"100%"},children:[t.map((function(e){return(0,v.jsx)(f.X,{height:32,caption:(0,v.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",mb:t.length>1?2:0},children:[(0,v.jsx)(y.T1,{symbol:e.rewardTokenSymbol,sx:{fontSize:"20px",mr:1}}),(0,v.jsx)(o.Z,{variant:i,children:e.rewardTokenSymbol})]}),width:"100%",children:(0,v.jsx)(s,{incentiveAPR:e.incentiveAPR})},e.rewardTokenAddress)})),t.length>1&&(0,v.jsx)(a.Z,{sx:function(e){return{pt:1,mt:1,border:"1px solid ".concat(e.palette.divider)}},children:(0,v.jsx)(f.X,{caption:(0,v.jsx)(m.cC,{id:"Net APR"}),height:32,children:(0,v.jsx)(s,{incentiveAPR:n})})})]})]})},b=function(){return(0,v.jsx)(a.Z,{sx:{p:{xs:"0 4px",xsm:"3.625px 4px"},display:"flex",alignItems:"center",justifyContent:"center"},children:(0,v.jsx)(o.Z,{variant:"main12",color:"text.secondary",children:"\xa0"})})},g=function(e){var t=e.incentives,n=e.symbol,m=e.displayBlank,f=(0,u.useState)(!1),g=f[0],h=f[1],T=(0,c.Yh)((function(e){return e.trackEvent}));if(!(t&&t.length>0))return m?(0,v.jsx)(b,{}):null;var j=t.some((function(e){return"Infinity"===e.incentiveAPR})),w=j?"Infinity":t.reduce((function(e,t){return e+ +t.incentiveAPR}),0),O=j?"Infinity":"Infinity"!==w?(0,r.hE)(w||0).toNumber():"Infinity";if(0===O)return m?(0,v.jsx)(b,{}):null;return(0,v.jsx)(p.a,{tooltipContent:(0,v.jsx)(x,{incentives:t,incentivesNetAPR:O,symbol:n}),withoutHover:!0,setOpen:h,open:g,children:(0,v.jsxs)(a.Z,{sx:function(e){return{p:{xs:"0 4px",xsm:"2px 4px"},border:"1px solid ".concat(g?e.palette.action.disabled:e.palette.divider),borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s ease",bgcolor:g?"action.hover":"transparent","&:hover":{bgcolor:"action.hover",borderColor:"action.disabled"}}},onClick:function(){T(l.h1.VIEW_LM_DETAILS_DASHBOARD,{}),h(!g)},children:[(0,v.jsx)(a.Z,{sx:{mr:2},children:"Infinity"!==O&&O<1e4?(0,v.jsx)(d.B,{value:O,percent:!0,variant:"secondary12",color:"text.secondary"}):"Infinity"!==O&&O>9999?(0,v.jsx)(d.B,{value:O,percent:!0,compact:!0,variant:"secondary12",color:"text.secondary"}):"Infinity"===O?(0,v.jsx)(o.Z,{variant:"main12",color:"text.secondary",children:"\u221e"}):void 0}),(0,v.jsx)(a.Z,{sx:{display:"inline-flex"},children:(0,v.jsx)(v.Fragment,{children:t.length<5?(0,v.jsx)(v.Fragment,{children:t.map((function(e){return(0,v.jsx)(y.T1,{symbol:e.rewardTokenSymbol,sx:{fontSize:"".concat(12,"px"),ml:-1}},e.rewardTokenSymbol)}))}):(0,v.jsxs)(v.Fragment,{children:[t.slice(0,3).map((function(e){return(0,v.jsx)(y.T1,{symbol:e.rewardTokenSymbol,sx:{fontSize:"".concat(12,"px"),ml:-1}},e.rewardTokenSymbol)})),(0,v.jsx)(s.Z,{sx:{fontSize:"".concat(12,"px"),borderRadius:"50%",bgcolor:"common.white",color:"common.black",ml:-1,zIndex:5},children:(0,v.jsx)(i.Z,{})})]})})})]})})}},44749:function(e,t,n){"use strict";n.d(t,{Ch:function(){return x},r$:function(){return b},a9:function(){return g}});var r=n(59499),i=n(49501),a=n(38264),o=n(81645),s=n(62097),u=n(30120),c=n(29630),l=n(68346),p=n(97563),d=n(85893);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={borderRadius:"4px",display:"inline-flex",alignItems:"center",p:"2px",mt:"2px",cursor:"pointer","&:hover":{opacity:.6}},v=function(e){var t=e.color;return(0,d.jsx)(o.Z,{sx:{ml:"3px",color:t||"text.muted",fontSize:"14px"},children:(0,d.jsx)(a.Z,{})})},x=function(e){var t=e.typographyProps,n=(0,s.Z)(),r=m({border:"1px solid ".concat(n.palette.warning.main),color:n.palette.warning.main},f);return(0,d.jsx)(p.a,{withoutHover:!0,tooltipContent:(0,d.jsx)(h,{content:(0,d.jsx)(i.cC,{id:"Isolated assets have limited borrowing power and other assets cannot be used as collateral."})}),children:(0,d.jsxs)(u.Z,{sx:r,children:[(0,d.jsx)(c.Z,m(m({variant:"secondary12",sx:{lineHeight:"0.75rem"},color:n.palette.warning.main},t),{},{children:(0,d.jsx)(i.cC,{id:"Isolated"})})),(0,d.jsx)(v,{color:n.palette.warning.main})]})})},b=function(){return(0,d.jsx)(p.a,{tooltipContent:(0,d.jsx)(h,{content:(0,d.jsx)(i.cC,{id:"Asset can be only used as collateral in isolation mode with limited borrowing power. To enter isolation mode, disable all other collateral."})}),children:(0,d.jsxs)(u.Z,{sx:f,children:[(0,d.jsx)(c.Z,{variant:"description",color:"error.main",children:(0,d.jsx)(i.cC,{id:"Unavailable"})}),(0,d.jsx)(v,{})]})})},g=function(){return(0,d.jsx)(p.a,{tooltipContent:(0,d.jsx)(h,{content:(0,d.jsx)(i.cC,{id:"Collateral usage is limited because of isolation mode."})}),children:(0,d.jsxs)(u.Z,{sx:f,children:[(0,d.jsx)(c.Z,{variant:"description",color:"error.main",children:(0,d.jsx)(i.cC,{id:"Unavailable"})}),(0,d.jsx)(v,{})]})})},h=function(e){var t=e.content;return(0,d.jsxs)(u.Z,{children:[(0,d.jsx)(u.Z,{sx:{mb:4},children:t}),(0,d.jsx)(c.Z,{variant:"subheader2",color:"text.secondary",children:(0,d.jsx)(i.cC,{id:"Learn more in our <0>FAQ guide</0>",components:{0:(0,d.jsx)(l.Z,{href:"https://docs.aave.com/faq/aave-v3-features#isolation-mode",fontWeight:500})}})})]})}},72667:function(e,t,n){"use strict";n.d(t,{Js:function(){return v},T1:function(){return h}});var r=n(83618),i=n(59499),a=n(4730),o=n(89722),s=n(30120),u=n(60082),c=n(67294),l=n(85893),p=["symbol","aToken"],d=["symbols","badgeSymbol"],y=["symbol"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e){var t=e.symbol,n=e.onImageGenerated,r=e.aToken,i=(0,c.useRef)(null),a=(0,c.useRef)(null),o=(0,c.useState)(!0),s=o[0],u=o[1];return(0,c.useEffect)((function(){var e;if(!s&&i.current&&null!==(e=i.current)&&void 0!==e&&e.contentDocument)if(r){var t,o,u,c,l=null===(t=i.current)||void 0===t||null===(o=t.contentDocument)||void 0===o||null===(u=o.childNodes)||void 0===u?void 0:u[0],p=l.getAttribute("width"),d=l.getAttribute("height"),y=l.getAttribute("viewBox");l.setAttribute("x",25),l.setAttribute("width",206),l.setAttribute("y",25),l.setAttribute("height",206),y||l.setAttribute("viewBox","0 0 ".concat(p," ").concat(d)),null===(c=a.current)||void 0===c||c.appendChild(l);var m=(new XMLSerializer).serializeToString(a.current);n("data:image/svg+xml;base64,".concat(window.btoa(unescape(encodeURIComponent(m)))))}else{var f,v=(new XMLSerializer).serializeToString(null===(f=i.current)||void 0===f?void 0:f.contentDocument);n("data:image/svg+xml;base64,".concat(window.btoa(unescape(encodeURIComponent(v)))))}}),[s,r]),(0,l.jsxs)("div",{style:{visibility:"hidden",height:0,width:0,overflow:"hidden"},children:[(0,l.jsx)("object",{style:{opacity:1},ref:i,id:"svg",data:"/icons/tokens/".concat(t.toLowerCase(),".svg"),onLoad:function(){return u(!1)}}),r&&(0,l.jsx)(x,{ref:a})]})}var x=(0,c.forwardRef)((function(e,t){var n=e.symbol;return(0,l.jsxs)("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},ref:t,id:"Group_30952",width:"256",height:"256",viewBox:"0 0 256 256",children:[(0,l.jsxs)("defs",{id:"defs10",children:[(0,l.jsxs)("linearGradient",{id:"linear-gradient",x1:".843",x2:".206",y1:".135",y2:".886",gradientUnits:"objectBoundingBox",children:[(0,l.jsx)("stop",{offset:"0",stopColor:"#b6509e",id:"stop2"}),(0,l.jsx)("stop",{offset:"1",stopColor:"#2ebac6",id:"stop4"})]}),(0,l.jsx)("linearGradient",{id:"linear-gradient-2",x1:".907",x2:".163",y1:".227",y2:".853"})]}),(0,l.jsxs)("g",{id:"Group_29109",children:[(0,l.jsx)("path",{id:"Subtraction_108",fill:"url(#linear-gradient)",d:"M128 256a128.976 128.976 0 0 1-25.8-2.6 127.309 127.309 0 0 1-45.77-19.261 128.366 128.366 0 0 1-46.375-56.315A127.357 127.357 0 0 1 2.6 153.8a129.251 129.251 0 0 1 0-51.593 127.31 127.31 0 0 1 19.26-45.77 128.372 128.372 0 0 1 56.317-46.378A127.33 127.33 0 0 1 102.2 2.6a129.244 129.244 0 0 1 51.593 0 127.308 127.308 0 0 1 45.77 19.26 128.367 128.367 0 0 1 46.375 56.316A127.343 127.343 0 0 1 253.4 102.2a129.248 129.248 0 0 1 0 51.593 127.3 127.3 0 0 1-19.26 45.77 128.382 128.382 0 0 1-56.316 46.375A127.4 127.4 0 0 1 153.8 253.4 128.977 128.977 0 0 1 128 256zm0-242.287a115.145 115.145 0 0 0-23.033 2.322A113.657 113.657 0 0 0 64.1 33.232a114.622 114.622 0 0 0-41.4 50.283 113.7 113.7 0 0 0-6.659 21.452 115.4 115.4 0 0 0 0 46.065 113.66 113.66 0 0 0 17.2 40.866 114.627 114.627 0 0 0 50.282 41.407 113.75 113.75 0 0 0 21.453 6.658 115.381 115.381 0 0 0 46.065 0 113.609 113.609 0 0 0 40.866-17.2 114.622 114.622 0 0 0 41.393-50.278 113.741 113.741 0 0 0 6.659-21.453 115.4 115.4 0 0 0 0-46.065 113.662 113.662 0 0 0-17.2-40.865A114.619 114.619 0 0 0 172.485 22.7a113.74 113.74 0 0 0-21.453-6.659A115.145 115.145 0 0 0 128 13.714z"}),n&&(0,l.jsx)("image",{x:"25",y:"25",href:"/icons/tokens/".concat(n.toLowerCase(),".svg"),width:"206",height:"206"})]})]})}));function b(e){var t=e.symbol,n=e.aToken,r=(0,a.Z)(e,p);return(0,l.jsx)(o.Z,f(f({},r),{},{sx:f({display:"flex",position:"relative",borderRadius:"50%"},r.sx),children:n?(0,l.jsx)(x,{symbol:t}):(0,l.jsx)("img",{src:"/icons/tokens/".concat(t.toLowerCase(),".svg"),width:"100%",height:"100%",alt:"".concat(t," icon")})}))}function g(e){var t=e.symbols,n=e.badgeSymbol,r=(0,a.Z)(e,d);return n?(0,l.jsx)(u.Z,{badgeContent:(0,l.jsx)(b,{symbol:n,sx:{border:"1px solid #fff"},fontSize:"small"}),sx:{".MuiBadge-anchorOriginTopRight":{top:9}},children:t.map((function(e,t){return(0,c.createElement)(b,f(f({},r),{},{key:e,symbol:e,sx:f({ml:0===t?0:"calc(-1 * 0.5em)"},r.sx)}))}))}):(0,l.jsx)(s.Z,{sx:{display:"inline-flex",position:"relative"},children:t.map((function(e,t){return(0,c.createElement)(b,f(f({},r),{},{key:e,symbol:e,sx:f({ml:0===t?0:"calc(-1 * 0.5em)"},r.sx)}))}))})}function h(e){var t=e.symbol,n=(0,a.Z)(e,y),i=t.split("_");if(i.length>1){var o=(0,r.Z)(i),s=o[0],u=o.slice(1);return(0,l.jsx)(g,f(f({},n),{},{symbols:u,badgeSymbol:"/pools/"+s}))}return(0,l.jsx)(b,f({symbol:t},n))}x.displayName="ATokenIcon"},63491:function(e,t,n){"use strict";n.d(t,{D:function(){return y}});var r=n(49501),i=n(5506),a=n(52758),o=n(30120),s=n(81645),u=n(29630),c=n(68346),l=n(75084),p=n(8195),d=n(85893),y=function(e){var t=e.txError,n=(0,p.vR)().close;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",mb:"92px"},children:[(0,d.jsx)(o.Z,{sx:{width:"48px",height:"48px",backgroundColor:"error.200",borderRadius:"50%",mt:14,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,d.jsx)(s.Z,{sx:{color:"error.main",fontSize:"32px"},children:(0,d.jsx)(i.Z,{})})}),(0,d.jsx)(u.Z,{sx:{mt:2},variant:"h2",children:(0,d.jsx)(r.cC,{id:"Transaction failed"})}),(0,d.jsx)(u.Z,{children:(0,d.jsx)(r.cC,{id:"You can report incident to our <0>Discord</0> or<1>Github</1>.",components:{0:(0,d.jsx)(c.Z,{href:"https://discord.com/invite/aave"}),1:(0,d.jsx)(c.Z,{href:"https://github.com/aave/interface"})}})}),(0,d.jsxs)(l.Z,{variant:"outlined",onClick:function(){return navigator.clipboard.writeText(t.rawError.message.toString())},size:"small",sx:{mt:6},children:[(0,d.jsx)(r.cC,{id:"Copy error text"}),(0,d.jsx)(s.Z,{sx:{ml:.5,fontSize:"12px"},children:(0,d.jsx)(a.Z,{})})]})]}),(0,d.jsx)(o.Z,{sx:{display:"flex",flexDirection:"column",mt:12},children:(0,d.jsx)(l.Z,{onClick:n,variant:"contained",size:"large",sx:{minHeight:"44px"},children:(0,d.jsx)(r.cC,{id:"Close"})})})]})}},93608:function(e,t,n){"use strict";n.d(t,{R:function(){return v}});var r=n(49501),i=n(75331),a=n(62097),o=n(30120),s=n(29630),u=n(75084),c=n(67294),l=n(29002),p=n(41024),d=n(72667),y=n(77537),m=n(55200),f=n(85893),v=function(e){var t,n=e.txHash,v=e.action,x=e.amount,b=e.symbol,g=e.collateral,h=e.rate,T=e.addToken,j=e.customAction,w=e.customText,O=(0,y.Z)().addERC20Token,P=(0,c.useState)(""),C=P[0],A=P[1],k=(0,a.Z)(),I=T?null!==(t=T.iconSymbol)&&void 0!==t?t:T.symbol:"";return(0,f.jsx)(m.R,{txHash:n,children:(0,f.jsxs)(o.Z,{sx:{mt:2,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},children:[v&&x&&b&&(0,f.jsx)(s.Z,{children:(0,f.jsx)(r.cC,{id:"You {action} <0/> {symbol}",values:{action:v,symbol:b},components:{0:(0,f.jsx)(p.B,{value:Number(x),compact:!0,variant:"secondary14"})}})}),j&&(0,f.jsxs)(s.Z,{children:[w,j]}),!v&&!x&&b&&(0,f.jsxs)(s.Z,{children:["Your ",b," ",g?"now":"is not"," used as collateral"]}),h&&(0,f.jsx)(s.Z,{children:(0,f.jsx)(r.cC,{id:"You switched to {0} rate",values:{0:h===i.tk.Variable?"variable":"stable"}})}),T&&b&&(0,f.jsxs)(o.Z,{sx:function(e){return{border:"dark"===e.palette.mode?"1px solid ".concat(e.palette.divider):"none",background:"dark"===e.palette.mode?"none":"#F7F7F9",borderRadius:"12px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",mt:"24px"}},children:[(0,f.jsx)(d.T1,{symbol:I,aToken:!(!T||!T.aToken),sx:{fontSize:"32px",mt:"12px",mb:"8px"}}),(0,f.jsx)(s.Z,{variant:"description",color:"text.primary",sx:{mx:"24px"},children:(0,f.jsx)(r.cC,{id:"Add {0} to wallet to track your balance.",values:{0:T&&T.symbol+" "}})}),(0,f.jsxs)(u.Z,{onClick:function(){O({address:T.address,decimals:T.decimals,symbol:T.symbol,image:/_/.test(I)?void 0:C})},variant:"dark"===k.palette.mode?"outlined":"contained",size:"medium",sx:{mt:"8px",mb:"12px"},children:[I&&!/_/.test(I)&&(0,f.jsx)(d.Js,{symbol:I,onImageGenerated:A,aToken:T.aToken}),(0,f.jsx)(l.o,{sx:{width:"20px",height:"20px"}}),(0,f.jsx)(s.Z,{variant:"buttonM",color:"white",ml:"4px",children:(0,f.jsx)(r.cC,{id:"Add to wallet"})})]})]})]})})}},74520:function(e,t,n){"use strict";n.r(t),n.d(t,{GovVoteModal:function(){return te}});var r=n(67294),i=n(8195),a=n(31959),o=n(49501),s=n(62097),u=n(29630),c=n(30120),l=n(75084),p=n(77537),d=n(8656),y=n(63206),m=n(57609),f=n(44304),v=n(63491),x=n(67916),b=n(93608),g=n(57824),h=n(78944),T=n(10343),j=n(59499),w=n(50029),O=n(87794),P=n.n(O),C=n(75331),A=n(43352),k=n(56371),I=n(89291),S=n(61744),Z=n(5151),D=n(79979),E=n(85895);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,j.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=n(34841),_=n(67489),B=n(92777),N=n(2593),L=n(82262),W=n(64146),H=n(8198),z=[{inputs:[{internalType:"address",name:"crossChainController",type:"address"},{internalType:"uint256",name:"gasLimit",type:"uint256"},{internalType:"uint256",name:"l1VotingPortalChainId",type:"uint256"},{internalType:"contract IVotingStrategy",name:"votingStrategy",type:"address"},{internalType:"address",name:"l1VotingPortal",type:"address"},{internalType:"address",name:"governance",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"ECDSAInvalidSignature",type:"error"},{inputs:[{internalType:"uint256",name:"length",type:"uint256"}],name:"ECDSAInvalidSignatureLength",type:"error"},{inputs:[{internalType:"bytes32",name:"s",type:"bytes32"}],name:"ECDSAInvalidSignatureS",type:"error"},{inputs:[],name:"InvalidShortString",type:"error"},{inputs:[{internalType:"string",name:"str",type:"string"}],name:"StringTooLong",type:"error"},{anonymous:!1,inputs:[],name:"EIP712DomainChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"gasLimit",type:"uint256"}],name:"GasLimitUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"originSender",type:"address"},{indexed:!0,internalType:"uint256",name:"originChainId",type:"uint256"},{indexed:!1,internalType:"bytes",name:"message",type:"bytes"},{indexed:!1,internalType:"bytes",name:"reason",type:"bytes"}],name:"IncorrectTypeMessageReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"originSender",type:"address"},{indexed:!0,internalType:"uint256",name:"originChainId",type:"uint256"},{indexed:!0,internalType:"bool",name:"delivered",type:"bool"},{indexed:!1,internalType:"enum IVotingPortal.MessageType",name:"messageType",type:"uint8"},{indexed:!1,internalType:"bytes",name:"message",type:"bytes"},{indexed:!1,internalType:"bytes",name:"reason",type:"bytes"}],name:"MessageReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"proposalId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"forVotes",type:"uint256"},{indexed:!1,internalType:"uint256",name:"againstVotes",type:"uint256"}],name:"ProposalResultsSent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"proposalId",type:"uint256"},{indexed:!0,internalType:"bytes32",name:"blockHash",type:"bytes32"},{indexed:!1,internalType:"uint24",name:"votingDuration",type:"uint24"},{indexed:!0,internalType:"bool",name:"voteCreated",type:"bool"}],name:"ProposalVoteConfigurationBridged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"proposalId",type:"uint256"},{indexed:!0,internalType:"bytes32",name:"l1BlockHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"startTime",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endTime",type:"uint256"}],name:"ProposalVoteStarted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"proposalId",type:"uint256"},{indexed:!0,internalType:"address",name:"voter",type:"address"},{indexed:!0,internalType:"bool",name:"support",type:"bool"},{indexed:!1,internalType:"uint256",name:"votingPower",type:"uint256"}],name:"VoteEmitted",type:"event"},{inputs:[],name:"CROSS_CHAIN_CONTROLLER",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"DATA_WAREHOUSE",outputs:[{internalType:"contract IDataWarehouse",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"GOVERNANCE",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"L1_VOTING_PORTAL",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"L1_VOTING_PORTAL_CHAIN_ID",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"NAME",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"REPRESENTATIVES_SLOT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"VOTE_SUBMITTED_BY_REPRESENTATIVE_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"VOTE_SUBMITTED_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"VOTING_ASSET_WITH_SLOT_RAW",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"VOTING_ASSET_WITH_SLOT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"VOTING_STRATEGY",outputs:[{internalType:"contract IVotingStrategy",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"closeAndSendVote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"message",type:"bytes"}],name:"decodeMessage",outputs:[{internalType:"enum IVotingPortal.MessageType",name:"",type:"uint8"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes",name:"message",type:"bytes"}],name:"decodeProposalMessage",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"uint24",name:"",type:"uint24"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes",name:"message",type:"bytes"}],name:"decodeVoteMessage",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"},{internalType:"bool",name:"",type:"bool"},{components:[{internalType:"address",name:"underlyingAsset",type:"address"},{internalType:"uint128",name:"slot",type:"uint128"}],internalType:"struct IVotingMachineWithProofs.VotingAssetWithSlot[]",name:"",type:"tuple[]"}],stateMutability:"pure",type:"function"},{inputs:[],name:"eip712Domain",outputs:[{internalType:"bytes1",name:"fields",type:"bytes1"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"version",type:"string"},{internalType:"uint256",name:"chainId",type:"uint256"},{internalType:"address",name:"verifyingContract",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"uint256[]",name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getGasLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"getProposalById",outputs:[{components:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"bool",name:"sentToGovernance",type:"bool"},{internalType:"uint40",name:"startTime",type:"uint40"},{internalType:"uint40",name:"endTime",type:"uint40"},{internalType:"uint40",name:"votingClosedAndSentTimestamp",type:"uint40"},{internalType:"uint128",name:"forVotes",type:"uint128"},{internalType:"uint128",name:"againstVotes",type:"uint128"},{internalType:"uint256",name:"creationBlockNumber",type:"uint256"},{internalType:"uint256",name:"votingClosedAndSentBlockNumber",type:"uint256"}],internalType:"struct IVotingMachineWithProofs.ProposalWithoutVotes",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"getProposalState",outputs:[{internalType:"enum IVotingMachineWithProofs.ProposalState",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"getProposalVoteConfiguration",outputs:[{components:[{internalType:"uint24",name:"votingDuration",type:"uint24"},{internalType:"bytes32",name:"l1ProposalBlockHash",type:"bytes32"}],internalType:"struct IVotingMachineWithProofs.ProposalVoteConfiguration",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"skip",type:"uint256"},{internalType:"uint256",name:"size",type:"uint256"}],name:"getProposalsVoteConfigurationIds",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"getUserProposalVote",outputs:[{components:[{internalType:"bool",name:"support",type:"bool"},{internalType:"uint248",name:"votingPower",type:"uint248"}],internalType:"struct IVotingMachineWithProofs.Vote",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"originSender",type:"address"},{internalType:"uint256",name:"originChainId",type:"uint256"},{internalType:"bytes",name:"messageWithType",type:"bytes"}],name:"receiveCrossChainMessage",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"startProposalVote",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"},{internalType:"bool",name:"support",type:"bool"},{components:[{internalType:"address",name:"underlyingAsset",type:"address"},{internalType:"uint128",name:"slot",type:"uint128"},{internalType:"bytes",name:"proof",type:"bytes"}],internalType:"struct IVotingMachineWithProofs.VotingBalanceProof[]",name:"votingBalanceProofs",type:"tuple[]"}],name:"submitVote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"},{internalType:"bool",name:"support",type:"bool"},{internalType:"address",name:"voter",type:"address"},{internalType:"bytes",name:"proofOfRepresentation",type:"bytes"},{components:[{internalType:"address",name:"underlyingAsset",type:"address"},{internalType:"uint128",name:"slot",type:"uint128"},{internalType:"bytes",name:"proof",type:"bytes"}],internalType:"struct IVotingMachineWithProofs.VotingBalanceProof[]",name:"votingBalanceProofs",type:"tuple[]"}],name:"submitVoteAsRepresentative",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"},{internalType:"address",name:"voter",type:"address"},{internalType:"address",name:"representative",type:"address"},{internalType:"bool",name:"support",type:"bool"},{internalType:"bytes",name:"proofOfRepresentation",type:"bytes"},{components:[{internalType:"address",name:"underlyingAsset",type:"address"},{internalType:"uint128",name:"slot",type:"uint128"},{internalType:"bytes",name:"proof",type:"bytes"}],internalType:"struct IVotingMachineWithProofs.VotingBalanceProof[]",name:"votingBalanceProofs",type:"tuple[]"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct IVotingMachineWithProofs.SignatureParams",name:"signatureParams",type:"tuple"}],name:"submitVoteAsRepresentativeBySignature",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"},{internalType:"address",name:"voter",type:"address"},{internalType:"bool",name:"support",type:"bool"},{components:[{internalType:"address",name:"underlyingAsset",type:"address"},{internalType:"uint128",name:"slot",type:"uint128"},{internalType:"bytes",name:"proof",type:"bytes"}],internalType:"struct IVotingMachineWithProofs.VotingBalanceProof[]",name:"votingBalanceProofs",type:"tuple[]"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"submitVoteBySignature",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"gasLimit",type:"uint256"}],name:"updateGasLimit",outputs:[],stateMutability:"nonpayable",type:"function"}],G=function(){function e(){(0,B.Z)(this,e)}return(0,L.Z)(e,null,[{key:"createInterface",value:function(){return new H.vU(z)}},{key:"connect",value:function(e,t){return new W.Contract(e,z,t)}}]),e}();(0,j.Z)(G,"abi",z);var U=function e(t){var n=this;(0,B.Z)(this,e),this.votingMachineContractAddress=t,(0,j.Z)(this,"_interface",void 0),(0,j.Z)(this,"generateSubmitVoteTxData",function(){var e=(0,w.Z)(P().mark((function e(t,r,i,a){var o,s;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={},s=n._interface.encodeFunctionData("submitVote",[r,i,a]),o.to=n.votingMachineContractAddress,o.from=t,o.data=s,o.gasLimit=N.O$.from(1e6),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()),(0,j.Z)(this,"generateSubmitVoteBySignatureTxData",function(){var e=(0,w.Z)(P().mark((function e(t,r,i,a,o){var s,u,c,l,p,d;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,k.splitSignature)(o),u=s.v,c=s.r,l=s.s,p={},d=n._interface.encodeFunctionData("submitVoteBySignature",[r,t,i,a,u,c,l]),p.to=n.votingMachineContractAddress,p.from=t,p.data=d,p.gasLimit=N.O$.from(1e6),e.abrupt("return",p);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}()),this._interface=G.createInterface()},F=n(85893);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){(0,j.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J,K=function(e,t,n,r,i,a){var o={types:{EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],VotingAssetWithSlot:[{name:"underlyingAsset",type:"address"},{name:"slot",type:"uint128"}],SubmitVote:[{name:"proposalId",type:"uint256"},{name:"voter",type:"address"},{name:"support",type:"bool"},{name:"votingAssetsWithSlot",type:"VotingAssetWithSlot[]"}]},primaryType:"SubmitVote",domain:{name:"Aave Voting Machine",version:"V1",chainId:e,verifyingContract:t},message:{proposalId:n,voter:r,support:i,votingAssetsWithSlot:a}};return JSON.stringify(o)},X=function(e,t){return e===R.B2.votingAssets.aAaveTokenAddress?t?64:52:0},$=function(e,t,n,r){var i=(0,y.VH)(n),a=new k.AbiCoder;return Promise.all(t.map((function(t){var n=X(t.underlyingAsset,t.isWithDelegatedPower),o=(0,k.keccak256)(a.encode(["address","uint256"],[e,n]));return i.send("eth_getProof",[t.underlyingAsset,[o],r]).then((function(e){return{underlyingAsset:t.underlyingAsset,slot:"".concat(n),proof:k.RLP.encode(e.storageProof[0].proof.map((function(e){return k.RLP.decode(e)})))}}))})))},Q=function(e){var t=e.isWrongNetwork,n=e.blocked,a=e.proposal,s=e.support,u=(0,i.vR)(),c=u.mainTxState,l=u.loadingTxns,y=u.setMainTxState,m=u.setApprovalTxState,f=u.approvalTxState,v=u.setTxError,x=(0,d.Yh)((function(e){return e.account})),b=(0,d.Yh)((function(e){return e.estimateGasLimit})),g=(0,p.Z)(),h=g.sendTx,T=g.signTxData,j=function(){var e=(0,E.c)(),t=e.data,n=e.refetch,r=(0,D.S)().data;if(t&&r){var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;return e?S.parseUnits(e.toString(),t):Z.BigNumber.from(0)},a=t.aaveTokenPower.votingPower,o=i(r.aAave),s=t.aaveTokenPower.votingPower,u=i(r.aave),c=t.stkAaveTokenPower.votingPower,l=i(r.stkAave);return V(V(V({},t),r),{},{isAAaveTokenWithDelegatedPower:a.gt(o),isAaveTokenWithDelegatedPower:s.gt(u),isStkAaveTokenWithDelegatedPower:c.gt(l),refetchPowers:n})}}(),O=(0,r.useState)(void 0),k=(O[0],O[1]),M=+a.proposal.id,B=a.proposal.snapshotBlockHash,N=+a.proposal.votingPortal.votingMachineChainId,L=R.B2.votingChainConfig[N].votingMachineAddress,W=[];"0"!==(null===j||void 0===j?void 0:j.aAave)&&W.push({underlyingAsset:R.B2.votingAssets.aAaveTokenAddress,isWithDelegatedPower:(null===j||void 0===j?void 0:j.isAAaveTokenWithDelegatedPower)||!1}),"0"!==(null===j||void 0===j?void 0:j.stkAave)&&W.push({underlyingAsset:R.B2.votingAssets.stkAaveTokenAddress,isWithDelegatedPower:(null===j||void 0===j?void 0:j.isStkAaveTokenWithDelegatedPower)||!1}),"0"!==(null===j||void 0===j?void 0:j.aave)&&W.push({underlyingAsset:R.B2.votingAssets.aaveTokenAddress,isWithDelegatedPower:(null===j||void 0===j?void 0:j.isAaveTokenWithDelegatedPower)||!1});var H=function(){var e=(0,w.Z)(P().mark((function e(){var t,n,r,i,a,o,u,l,p;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(q(q({},c),{},{loading:!0})),e.prev=1,e.next=4,$(x,W,C.a_.mainnet,B);case 4:t=e.sent,n=new U(L),e.next=18;break;case 9:return r=e.sent,i=new A.GelatoRelay,a={chainId:BigInt(N),target:L,data:r.data||""},e.next=14,i.sponsoredCall(a,"");case 14:o=e.sent,setTimeout(function(){var e=(0,w.Z)(P().mark((function e(){var n;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getTaskStatus(o.taskId);case 2:if(null===(n=e.sent)||void 0===n||!n.blockNumber||!n.transactionHash){e.next=8;break}return y({txHash:n.transactionHash,loading:!1,success:!0}),e.abrupt("return");case 8:return setTimeout(t,5e3),e.abrupt("return");case 10:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),5e3),e.next=30;break;case 18:return e.next=20,n.generateSubmitVoteTxData(x,M,s,t);case 20:return u=e.sent,e.next=23,b(u,N);case 23:return l=e.sent,e.next=26,h(l);case 26:return p=e.sent,e.next=29,p.wait(1);case 29:y({txHash:p.hash,loading:!1,success:!0});case 30:e.next=35;break;case 32:e.prev=32,e.t0=e.catch(1),y({txHash:void 0,loading:!1});case 35:case"end":return e.stop()}}),e,null,[[1,32]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=(0,w.Z)(P().mark((function e(){var t,n;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(q(q({},f),{},{loading:!0})),t=K(N,L,M,x,s,W.map((function(e){return{underlyingAsset:e.underlyingAsset,slot:X(e.underlyingAsset,e.isWithDelegatedPower)}}))),e.next=5,T(t);case 5:n=e.sent,k(n.toString()),v(void 0),m({txHash:I.Z,loading:!1,success:!0}),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return(0,F.jsx)(_.B,{requiresApproval:!1,blocked:n,mainTxState:c,preparingTransactions:l,handleAction:H,actionText:s?(0,F.jsx)(o.cC,{id:"VOTE YAE"}):(0,F.jsx)(o.cC,{id:"VOTE NAY"}),actionInProgressText:s?(0,F.jsx)(o.cC,{id:"VOTE YAE"}):(0,F.jsx)(o.cC,{id:"VOTE NAY"}),isWrongNetwork:t,handleApproval:z})};!function(e){e[e.NOT_ENOUGH_VOTING_POWER=0]="NOT_ENOUGH_VOTING_POWER"}(J||(J={}));var ee=function(e){var t=e.proposal,n=e.support,r=e.power,a=(0,p.Z)(),j=a.chainId,w=a.readOnlyModeAddress,O=(0,i.vR)(),P=O.gasLimit,C=O.mainTxState,A=O.txError,k=(0,s.Z)().palette,I=(0,d.Yh)((function(e){return e.trackEvent})),S=void 0;"0"===r&&(S=J.NOT_ENOUGH_VOTING_POWER);var Z=+t.proposal.votingPortal.votingMachineChainId,D=j!==Z,E=(0,y.Mo)(Z);return A&&A.blocking?(0,F.jsx)(v.D,{txError:A}):C.success?(0,F.jsx)(b.R,{customAction:(0,F.jsx)(c.Z,{mt:5,children:(0,F.jsx)(l.Z,{component:"a",target:"_blank",rel:"noopener noreferrer",onClick:function(){return I(m.cD.SHARE_VOTE_ON_LENS)},href:"https://hey.xyz/?url=".concat(window.location.href,"&text=","I just voted on the latest active proposal on aave governance","&hashtags=Aave&preview=true"),startIcon:(0,F.jsx)(f.M,{color:"dark"===k.mode?k.primary.light:k.text.primary}),children:(0,F.jsx)(o.cC,{id:"Share on Lens"})})}),customText:(0,F.jsx)(o.cC,{id:"Thank you for voting!!"})}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(h.E,{title:"Governance vote"}),D&&!w&&(0,F.jsx)(T.I,{networkName:E.name,chainId:Z}),void 0!==S&&(0,F.jsx)(u.Z,{variant:"helperText",color:"red",children:S===J.NOT_ENOUGH_VOTING_POWER?(0,F.jsx)(u.Z,{children:(0,F.jsx)(o.cC,{id:"No voting power"})}):null}),(0,F.jsx)(g.m6,{gasLimit:P,chainId:Z,children:(0,F.jsx)(g.oD,{description:(0,F.jsx)(o.cC,{id:"Voting power"}),value:r})}),A&&(0,F.jsx)(x.Q,{txError:A}),(0,F.jsx)(Q,{proposal:t,support:n,isWrongNetwork:D,blocked:void 0!==S})]})},te=function(){var e=(0,i.vR)(),t=e.type,n=e.close,r=e.args;return(0,F.jsx)(a.P,{open:t===i.w8.GovVote,setOpen:n,children:(null===r||void 0===r?void 0:r.power)&&(null===r||void 0===r?void 0:r.proposal)&&void 0!==(null===r||void 0===r?void 0:r.support)&&(0,F.jsx)(ee,{proposal:r.proposal,support:r.support,power:r.power})})}},80664:function(e,t,n){"use strict";n.d(t,{P:function(){return y}});var r=n(80854),i=n(1279),a=n(81206),o=n(82403),s=n(70794),u=n(8656),c=n(63206),l=n(52369),p=n(45257),d=function(e){var t=(0,u.Yh)((function(e){return e.account})),n=(0,p._)(e,t),d=(0,l.T)(e),y=n.find((function(e){return e.isLoading}))||d.find((function(e){return e.isLoading}));return{walletBalances:d.map((function(t,u){var l;return function(e){var t=e.reservesHumanized,n=e.balances,u=e.marketData,l=(null===t||void 0===t?void 0:t.reservesData)||[],p=(null===t||void 0===t?void 0:t.baseCurrencyData)||{marketReferenceCurrencyDecimals:0,marketReferenceCurrencyPriceInUsd:"0",networkBaseTokenPriceInUsd:"0",networkBaseTokenPriceDecimals:0},d=!0;return{walletBalances:(null!==n&&void 0!==n?n:[]).reduce((function(e,t){var n=l.find((function(e){var n;return t.address===r.hP.toLowerCase()?e.symbol.toLowerCase()===(null===(n=c.m5[u.chainId].wrappedBaseAssetSymbol)||void 0===n?void 0:n.toLowerCase()):e.underlyingAsset.toLowerCase()===t.address}));return"0"!==t.amount&&(d=!1),n&&(e[t.address]={amount:(0,i.Fv)(t.amount,n.decimals),amountUSD:(0,a.Z)({amount:new s.O(t.amount),currencyDecimals:n.decimals,priceInMarketReferenceCurrency:n.priceInMarketReferenceCurrency,marketReferenceCurrencyDecimals:p.marketReferenceCurrencyDecimals,normalizedMarketReferencePriceInUsd:(0,i.Fv)(p.marketReferenceCurrencyPriceInUsd,o.$3)})}),e}),{}),hasEmptyWallet:d}}({reservesHumanized:t.data,balances:null===(l=n[u])||void 0===l?void 0:l.data,marketData:e[u]})})),isLoading:y}},y=function(e){var t=d([e]),n=t.walletBalances,r=t.isLoading;return{walletBalances:n[0].walletBalances,hasEmptyWallet:n[0].hasEmptyWallet,loading:r}}},79979:function(e,t,n){"use strict";n.d(t,{S:function(){return u}});var r=n(36492),i=n(8656),a=n(34841),o=n(31001),s=n(16540),u=function(){var e=(0,s.z)().governanceWalletBalanceService,t=(0,i.Yh)((function(e){return e.currentMarketData})),n=(0,i.Yh)((function(e){return e.account}));return(0,r.a)({queryFn:function(){return e.getGovernanceTokensBalance(a.B2.coreChainId,a.B2.addresses.WALLET_BALANCE_PROVIDER,n)},queryKey:o.B.governanceTokens(n,t),enabled:!!n,refetchInterval:o.g,initialData:{aave:"0",stkAave:"0",aAave:"0"}})}},85895:function(e,t,n){"use strict";n.d(t,{c:function(){return u}});var r=n(36492),i=n(8656),a=n(34841),o=n(31001),s=n(16540),u=function(){var e=(0,s.z)().governanceService,t=(0,i.Yh)((function(e){return e.account}));return(0,r.a)({queryFn:function(){return e.getPowers(a.B2.coreChainId,t)},queryKey:o.B.powers(t,a.B2.coreChainId),enabled:!!t,refetchInterval:o.g})}},52369:function(e,t,n){"use strict";n.d(t,{T:function(){return u},J:function(){return c}});var r=n(59499),i=n(87669),a=n(31001),o=n(16540);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var u=function(e,t){var n=(0,o.z)().uiPoolService;return(0,i.h)({queries:e.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({queryKey:a.B.poolReservesDataHumanized(e),queryFn:function(){return n.getReservesHumanized(e)},refetchInterval:a.g,meta:{}},t)}))})},c=function(e){return u([e])[0]}},45257:function(e,t,n){"use strict";n.d(t,{_:function(){return u}});var r=n(59499),i=n(87669),a=(n(8656),n(31001)),o=n(16540);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var u=function(e,t,n){var u=(0,o.z)().poolTokensBalanceService;return(0,i.h)({queries:e.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({queryKey:a.B.poolTokens(t,e),queryFn:function(){return u.getPoolTokensBalances(e,t)},enabled:!!t,refetchInterval:a.g},n)}))})}},69159:function(){}}]);