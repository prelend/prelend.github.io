"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8547],{34637:function(e,t,r){r.d(t,{Y:function(){return p},Z:function(){return b}});var n=r(59499),o=r(77191),a=r(81719),s=r(87054),i=(r(67294),r(85893));function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=(0,a.ZP)(s.Z)((function(e){return(0,o.Z)(e),{border:"0px",flex:1,backgroundColor:"#2f2f32",borderRadius:"4px","&.Mui-selected, &.Mui-selected:hover":{backgroundColor:"#FFFFFF",borderRadius:"4px !important"},"&.Mui-selected, &.Mui-disabled":{zIndex:100,height:"100%",display:"flex",justifyContent:"center",".MuiTypography-subheader1":{backgroundColor:"#44494f",backgroundClip:"text",textFillColor:"transparent"},".MuiTypography-secondary14":{backgroundColor:"#44494f",backgroundClip:"text",textFillColor:"transparent"}}}})),d=(0,a.ZP)(s.Z)((function(e){var t=e.theme;return{border:"0px",flex:1,color:t.palette.text.muted,borderRadius:"4px","&.Mui-selected, &.Mui-selected:hover":{border:"1px solid ".concat(t.palette.other.standardInputLine),backgroundColor:"#FFFFFF",borderRadius:"4px !important"},"&.Mui-selected, &.Mui-disabled":{zIndex:100,height:"100%",display:"flex",justifyContent:"center",color:t.palette.background.header}}}));function p(e){return(0,i.jsx)(d,l({},e))}function b(e){return(0,i.jsx)(u,l({},e))}},59379:function(e,t,r){r.d(t,{f:function(){return d},Z:function(){return p}});var n=r(59499),o=r(81719),a=r(85390),s=r(85893);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l=(0,o.ZP)(a.Z)({backgroundColor:"#2f3236",border:"1px solid rgba(235, 235, 237, 0.12)",padding:"4px"}),u=(0,o.ZP)(a.Z)((function(e){return{backgroundColor:e.theme.palette.background.header,padding:"2px",height:"36px",width:"100%"}}));function d(e){return(0,s.jsx)(u,c({},e))}function p(e){return(0,s.jsx)(l,c({},e))}},81902:function(e,t,r){var n;r.d(t,{R:function(){return n}}),function(e){e.supplyCap="supplyCap",e.borrowCap="borrowCap"}(n||(n={}))},25049:function(e,t,r){r.d(t,{Y:function(){return p}});var n=r(59499),o=r(4730),a=r(49501),s=r(81902),i=r(58527),c=r(85893),l=["capType"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=function(e){var t=e.capType,r=(0,o.Z)(e,l),n=t===s.R.supplyCap?(0,c.jsx)(a.cC,{id:"This is the total amount that you are able to supply to in this reserve. You are able to supply your wallet balance up until the supply cap is reached."}):(0,c.jsx)(a.cC,{id:"This is the total amount available for you to borrow. You can borrow based on your collateral and until the borrow cap is reached."});return(0,c.jsx)(i.G,d(d({},r),{},{children:n}))}},53601:function(e,t,r){r.d(t,{l:function(){return E},W:function(){return B}});var n=r(59499),o=r(4730),a=r(49501),s=r(33740),i=r(62097),c=r(30120),l=r(29630),u=r(90149),d=r(81011),p=r(80562),b=r(55343),x=r(46541),h=r(31538),f=r(61702),m=r(75084),y=r(67294),v=r(57333),j=r(8656),g=r(25049),O=r(41024),w=r(72667),A=r(85893),C=["onChange"];function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var E=y.forwardRef((function(e,t){var r=e.onChange,n=(0,o.Z)(e,C);return(0,A.jsx)(v.Z,T(T({},n),{},{getInputRef:t,onValueChange:function(t){t.value!==e.value&&r({target:{name:e.name,value:t.value||""}})},thousandSeparator:!0,isNumericString:!0,allowNegative:!1}))})),B=function(e){var t=e.value,r=e.usdValue,n=e.symbol,o=e.onChange,y=e.disabled,v=e.disableInput,C=e.onSelect,k=e.assets,B=e.capType,P=e.maxValue,S=e.isMaxSelected,D=e.inputTitle,R=e.balanceText,_=e.loading,Z=void 0!==_&&_,I=e.event,N=e.selectOptionHeader,L=e.selectOption,M=e.sx,F=void 0===M?{}:M,W=(0,i.Z)(),G=(0,j.Yh)((function(e){return e.trackEvent})),Y=1===k.length?k[0]:k&&k.find((function(e){return e.symbol===n}));return(0,A.jsxs)(c.Z,T(T({},F),{},{children:[(0,A.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,A.jsx)(l.Z,{color:"text.secondary",children:D||(0,A.jsx)(a.cC,{id:"Amount"})}),B&&(0,A.jsx)(g.Y,{capType:B})]}),(0,A.jsxs)(c.Z,{sx:function(e){return{p:"8px 12px",border:"1px solid ".concat(e.palette.divider),borderRadius:"6px",mb:1}},children:[(0,A.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center",mb:.5},children:[Z?(0,A.jsx)(c.Z,{sx:{flex:1},children:(0,A.jsx)(u.Z,{color:"inherit",size:"16px"})}):(0,A.jsx)(d.ZP,{sx:{flex:1},placeholder:"0.00",disabled:y||v,value:t,autoFocus:!0,onChange:function(e){o&&(Number(e.target.value)>Number(P)?o("-1"):o(e.target.value))},inputProps:{"aria-label":"amount input",style:{fontSize:"21px",lineHeight:"28,01px",padding:0,height:"28px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},inputComponent:E}),""!==t&&!v&&(0,A.jsx)(p.Z,{sx:{minWidth:0,p:0,left:8,zIndex:1,color:"text.muted","&:hover":{color:"text.secondary"}},onClick:function(){o&&o("")},disabled:y,children:(0,A.jsx)(s.Z,{height:16})}),C&&1!==k.length?(0,A.jsx)(b.Z,{children:(0,A.jsxs)(x.Z,{disabled:y,value:Y.symbol,onChange:function(e){var t=k.find((function(t){return t.symbol===e.target.value}));C&&C(t),o&&o("")},variant:"outlined",className:"AssetInput__select","data-cy":"assetSelect",MenuProps:{sx:{maxHeight:"240px",".MuiPaper-root":{border:"dark"===W.palette.mode?"1px solid #EBEBED1F":"unset",boxShadow:"0px 2px 10px 0px #0000001A"}}},sx:{p:0,"&.AssetInput__select .MuiOutlinedInput-input":{p:0,backgroundColor:"transparent",pr:"24px !important"},"&.AssetInput__select .MuiOutlinedInput-notchedOutline":{display:"none"},"&.AssetInput__select .MuiSelect-icon":{color:"text.primary",right:"0%"}},renderValue:function(e){var t=1===k.length?k[0]:k&&k.find((function(t){return t.symbol===e}));return(0,A.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center"},"data-cy":"assetsSelectedOption_".concat(t.symbol.toUpperCase()),children:[(0,A.jsx)(w.T1,{symbol:t.iconSymbol||t.symbol,aToken:t.aToken,sx:{mr:2,ml:4}}),(0,A.jsx)(l.Z,{variant:"main16",color:"text.primary",children:e})]})},children:[N||void 0,k.map((function(e){return(0,A.jsx)(h.Z,{value:e.symbol,"data-cy":"assetsSelectOption_".concat(e.symbol.toUpperCase()),children:L?L(e):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(w.T1,{aToken:e.aToken,symbol:e.iconSymbol||e.symbol,sx:{fontSize:"22px",mr:1}}),(0,A.jsx)(f.Z,{sx:{mr:6},children:e.symbol}),e.balance&&(0,A.jsx)(O.B,{value:e.balance,compact:!0})]})},e.symbol)}))]})}):(0,A.jsxs)(c.Z,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,A.jsx)(w.T1,{aToken:Y.aToken,symbol:Y.iconSymbol||Y.symbol,sx:{mr:2,ml:4}}),(0,A.jsx)(l.Z,{variant:"h3",sx:{lineHeight:"28px"},"data-cy":"inputAsset",children:n})]})]}),(0,A.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center",height:"16px"},children:[Z?(0,A.jsx)(c.Z,{sx:{flex:1}}):(0,A.jsx)(O.B,{value:isNaN(Number(r))?0:Number(r),compact:!0,symbol:"USD",variant:"secondary12",color:"text.muted",symbolsColor:"text.muted",flexGrow:1}),Y.balance&&o&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(l.Z,{component:"div",variant:"secondary12",color:"text.secondary",children:[R&&""!==R?R:(0,A.jsx)(a.cC,{id:"Balance"})," ",(0,A.jsx)(O.B,{value:Y.balance,compact:!0,variant:"secondary12",color:"text.secondary",symbolsColor:"text.disabled"})]}),!v&&(0,A.jsx)(m.Z,{size:"small",sx:{minWidth:0,ml:"7px",p:0},onClick:function(){I&&G(I.eventName,T({},I.eventParams)),o("-1")},disabled:y||S,children:(0,A.jsx)(a.cC,{id:"Max"})})]})]})]})]}))}},88547:function(e,t,r){r.r(t),r.d(t,{BorrowModal:function(){return qe}});var n=r(59499),o=r(17674),a=r(49501),s=r(23286),i=r(67294),c=r(8195),l=r(46930),u=r(8656),d=r(57609),p=r(31959),b=r(94635),x=r(75331),h=r(80854),f=r(1279),m=r(82403),y=r(20854),v=r(29630),j=r(36864),g=r(58527),O=r(85893);function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C=function(e){var t=(0,j.Z)({},e);return(0,O.jsx)(g.G,A(A({},t),{},{children:(0,O.jsx)(a.cC,{id:"Allows you to switch between <0>variable</0> and <1>stable</1> interest rates, where variable rate can increase and decrease depending on the amount of liquidity in the reserve, and stable rate will stay the same for the duration of your loan.",components:{0:(0,O.jsx)("b",{}),1:(0,O.jsx)("b",{})}})}))},k=r(41024),T=r(92391),E=r(34637),B=r(59379),P=r(34220),S=r(43629),D=r(59286),R=r(87385),_=r(81902),Z=r(53601),I=r(67916),N=r(93608),L=r(57824),M=r(50029),F=r(87794),W=r.n(F),G=r(56371),Y=r(30194),H=r(19419),U=r(77537),V=r(39771),z=r(31001),q=r(67489),Q=r(94671);function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var K,$=i.memo((function(e){var t=e.symbol,r=e.poolReserve,n=e.amountToBorrow,s=e.poolAddress,l=e.interestRateMode,d=e.isWrongNetwork,p=e.blocked,b=e.sx,f=(0,u.Yh)((function(e){return[e.borrow,e.getCreditDelegationApprovedAmount,e.currentMarketData,e.generateApproveDelegation,e.estimateGasLimit,e.addTransaction]})),m=(0,o.Z)(f,6),y=m[0],v=m[1],j=m[2],g=m[3],w=m[4],A=m[5],C=(0,c.vR)(),k=C.approvalTxState,T=C.mainTxState,E=C.loadingTxns,B=C.setMainTxState,P=C.setTxError,S=C.setGasLimit,D=C.setLoadingTxns,R=C.setApprovalTxState,_=(0,H.n)(),Z=_.refetchPoolData,I=_.refetchIncentiveData,N=_.refetchGhoData,L=(0,U.Z)().sendTx,F=(0,i.useState)(!1),X=F[0],K=F[1],$=(0,i.useState)(),ee=$[0],te=$[1],re=function(){var e=(0,M.Z)(W().mark((function e(){var t,n,o,a;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!X||!ee){e.next=14;break}return n=g({debtTokenAddress:l===x.tk.Variable?r.variableDebtTokenAddress:r.stableDebtTokenAddress,delegatee:null!==(t=j.addresses.WETH_GATEWAY)&&void 0!==t?t:"",amount:h.ke}),R(J(J({},k),{},{loading:!0})),e.next=6,w(n);case 6:return n=e.sent,e.next=9,L(n);case 9:return o=e.sent,e.next=12,o.wait(1);case 12:R({txHash:o.hash,loading:!1,success:!0}),oe(!0);case 14:e.next=21;break;case 16:e.prev=16,e.t0=e.catch(0),a=(0,V.WG)(e.t0,V.aD.GAS_ESTIMATION,!1),P(a),R({txHash:void 0,loading:!1});case 21:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=(0,M.Z)(W().mark((function e(){var t,o,a;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,B(J(J({},T),{},{loading:!0})),t=y({amount:(0,G.parseUnits)(n,r.decimals).toString(),reserve:s,interestRateMode:l,debtTokenAddress:l===x.tk.Variable?r.variableDebtTokenAddress:r.stableDebtTokenAddress}),e.next=5,w(t);case 5:return t=e.sent,e.next=8,L(t);case 8:return o=e.sent,e.next=11,o.wait(1);case 11:B({txHash:o.hash,loading:!1,success:!0}),A(o.hash,{action:x.UQ.borrow,txState:"success",asset:s,amount:n,assetName:r.name}),Y.queryClient.invalidateQueries({queryKey:z.B.pool}),Z&&Z(),I&&I(),N&&N(),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(0),a=(0,V.WG)(e.t0,V.aD.GAS_ESTIMATION,!1),P(a),B({txHash:void 0,loading:!1});case 24:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(){return e.apply(this,arguments)}}(),oe=(0,i.useCallback)(function(){var e=(0,M.Z)(W().mark((function e(t){var o,a,i;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s!==h.hP||void 0!==ee&&!t){e.next=8;break}return D(!0),e.next=4,v({debtTokenAddress:l===x.tk.Variable?r.variableDebtTokenAddress:r.stableDebtTokenAddress,delegatee:null!==(o=j.addresses.WETH_GATEWAY)&&void 0!==o?o:""});case 4:a=e.sent,te(a),e.next=10;break;case 8:K(!1),R({});case 10:ee&&s===h.hP&&(i=(0,Q.iv)({approvedAmount:ee.amount,amount:n,signedAmount:"0"}),K(i),i&&R({})),D(!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,ee,j.addresses.WETH_GATEWAY,v,l,s,r.stableDebtTokenAddress,r.variableDebtTokenAddress,R,D]);return(0,i.useEffect)((function(){oe()}),[oe,s]),(0,i.useEffect)((function(){var e=0;e=Number(h.eB[x.UQ.borrow].recommended),X&&!k.success&&(e+=Number(Q.Fi)),S(e.toString())}),[X,k,S]),(0,O.jsx)(q.B,{blocked:p,mainTxState:T,approvalTxState:k,requiresAmount:!0,amount:n,isWrongNetwork:d,handleAction:ne,actionText:(0,O.jsx)(a.cC,{id:"Borrow {symbol}",values:{symbol:t}}),actionInProgressText:(0,O.jsx)(a.cC,{id:"Borrowing {symbol}",values:{symbol:t}}),handleApproval:function(){return re()},requiresApproval:X,preparingTransactions:E,sx:b})})),ee=r(30120),te=r(75158),re=r(69331),ne=function(e){var t=e.riskCheckboxAccepted,r=e.onRiskCheckboxChange,n=(0,u.Yh)((function(e){return e.trackEvent}));return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(re.v,{severity:"error",sx:{my:6},children:(0,O.jsx)(a.cC,{id:"Borrowing this amount will reduce your health factor and increase risk of liquidation."})}),(0,O.jsxs)(ee.Z,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",mx:"24px",mb:"12px"},children:[(0,O.jsx)(te.Z,{checked:t,onChange:function(e){n(d.vh.ACCEPT_RISK,{modal:"Borrow",riskCheckboxAccepted:e.target.checked}),r()},size:"small","data-cy":"risk-checkbox"}),(0,O.jsx)(v.Z,{variant:"description",children:(0,O.jsx)(a.cC,{id:"I acknowledge the risks involved."})})]})]})};!function(e){e[e.STABLE_RATE_NOT_ENABLED=0]="STABLE_RATE_NOT_ENABLED",e[e.NOT_ENOUGH_LIQUIDITY=1]="NOT_ENOUGH_LIQUIDITY",e[e.BORROWING_NOT_AVAILABLE=2]="BORROWING_NOT_AVAILABLE",e[e.NOT_ENOUGH_BORROWED=3]="NOT_ENOUGH_BORROWED"}(K||(K={}));var oe=function(e){var t=e.setInterestRateMode,r=e.interestRateMode,n=e.variableRate,o=e.stableRate;return(0,O.jsx)(T.X,{caption:(0,O.jsx)(C,{text:(0,O.jsx)(a.cC,{id:"Borrow APY rate"}),variant:"description"},"APY type_modal"),captionVariant:"description",mb:5,flexDirection:"column",align:"flex-start",captionColor:"text.secondary",children:(0,O.jsxs)(B.f,{color:"primary",value:r,exclusive:!0,onChange:function(e,r){return t(r)},sx:{mt:.5},children:[(0,O.jsxs)(E.Y,{value:x.tk.Variable,disabled:r===x.tk.Variable,children:[(0,O.jsx)(v.Z,{variant:"buttonM",sx:{mr:1},children:(0,O.jsx)(a.cC,{id:"Variable"})}),(0,O.jsx)(k.B,{value:n,percent:!0,variant:"secondary14"})]}),(0,O.jsxs)(E.Y,{value:x.tk.Stable,disabled:r===x.tk.Stable,children:[(0,O.jsx)(v.Z,{variant:"buttonM",sx:{mr:1},children:(0,O.jsx)(a.cC,{id:"Stable"})}),(0,O.jsx)(k.B,{value:o,percent:!0,variant:"secondary14"})]})]})})},ae=function(e){var t=e.isWrongNetwork,r=e.poolReserve,n=e.userReserve,o=e.symbol,s=(0,c.vR)(),u=s.mainTxState,p=s.gasLimit,b=s.txError,j=(0,P.HT)(),g=j.user,w=j.marketReferencePriceInUsd,A=(0,l.f)().currentNetworkConfig,C=(0,S.ov)().borrowCap,k=(0,i.useState)(x.tk.Variable),T=k[0],E=k[1],B=(0,i.useState)(""),M=B[0],F=B[1],W=(0,i.useState)(!1),G=W[0],Y=W[1],H=(0,D.nG)(r,g,T),U=(0,D.Vx)(r,g),V=[];r.isVirtual||V.push({balance:H,symbol:o,address:r.underlyingAsset,decimals:r.decimals}),r.isWrappedBaseAsset&&V.push({symbol:r.symbol,balance:H,address:A.baseAssetSymbol,decimals:r.decimals}),V.push({balance:U,symbol:"pre".concat(r.isWrappedBaseAsset?A.baseAssetSymbol:o),iconSymbol:r.isWrappedBaseAsset?A.baseAssetSymbol:o,aToken:!0,address:r.aTokenAddress,decimals:r.decimals});var z=(0,i.useState)(V[0]),q=z[0],Q=z[1],X=M===q.balance,J=(0,f.hE)(M).multipliedBy(r.formattedPriceInMarketReferenceCurrency).multipliedBy(w).shiftedBy(-m.$3),ee=(0,y.L1)({collateralBalanceMarketReferenceCurrency:g.totalCollateralUSD,borrowBalanceMarketReferenceCurrency:(0,f.hE)(g.totalBorrowsUSD).plus(J),currentLiquidationThreshold:g.currentLiquidationThreshold}),te=ee.toNumber()<1.5&&"-1"!==ee.toString(),re=(0,f.hE)(M).multipliedBy(r.priceInUSD),ae=void 0;T!==x.tk.Stable||r.stableBorrowRateEnabled?T===x.tk.Stable&&null!==n&&void 0!==n&&n.usageAsCollateralEnabledOnUser&&(0,f.hE)(M).lt((null===n||void 0===n?void 0:n.underlyingBalance)||0)?ae=K.NOT_ENOUGH_BORROWED:(0,f.hE)(M).gt(r.formattedAvailableLiquidity)||r.borrowingEnabled||(ae=K.BORROWING_NOT_AVAILABLE):ae=K.STABLE_RATE_NOT_ENABLED;if(u.success)return(0,O.jsx)(N.R,{action:(0,O.jsx)(a.cC,{id:"Borrowed"}),amount:M,symbol:q.symbol,addToken:q.address==h.hP?void 0:q});var se=T===x.tk.Stable?r.sIncentivesData:r.vIncentivesData;return(0,O.jsxs)(O.Fragment,{children:[C.determineWarningDisplay({borrowCap:C}),r.stableBorrowRateEnabled&&(0,O.jsx)(oe,{interestRateMode:T,setInterestRateMode:E,variableRate:r.variableBorrowAPY,stableRate:r.stableBorrowAPY}),(0,O.jsx)(Z.W,{value:M,onChange:function(e){if("-1"===e)F(H);else{var t=(0,R.$w)(e,r.decimals);F(t)}},usdValue:re.toString(10),assets:V,symbol:q.symbol,capType:_.R.borrowCap,isMaxSelected:X,onSelect:Q,maxValue:q.balance,balanceText:(0,O.jsx)(a.cC,{id:"Available"}),event:{eventName:d.vh.MAX_INPUT_SELECTION,eventParams:{asset:r.underlyingAsset,assetName:r.name}}}),void 0!==ae&&(0,O.jsx)(v.Z,{variant:"helperText",color:"error.main",children:function(){switch(ae){case K.BORROWING_NOT_AVAILABLE:return(0,O.jsx)(a.cC,{id:"Borrowing is currently unavailable for {0}.",values:{0:r.symbol}});case K.NOT_ENOUGH_BORROWED:return(0,O.jsx)(a.cC,{id:"You can borrow this asset with a stable rate only if you borrow more than the amount you are supplying as collateral."});case K.NOT_ENOUGH_LIQUIDITY:return(0,O.jsx)(O.Fragment,{children:(0,O.jsx)(a.cC,{id:"There are not enough funds in the{0}reserve to borrow",values:{0:r.symbol}})});case K.STABLE_RATE_NOT_ENABLED:return(0,O.jsx)(a.cC,{id:"The Stable Rate is not enabled for this currency"});default:return null}}()}),(0,O.jsxs)(L.m6,{gasLimit:p,children:[(0,O.jsx)(L.aE,{incentives:se,symbol:r.symbol}),(0,O.jsx)(L.jz,{visibleHfChange:!!M,healthFactor:g.healthFactor,futureHealthFactor:ee.toString(10)})]}),b&&(0,O.jsx)(I.Q,{txError:b}),te&&(0,O.jsx)(ne,{riskCheckboxAccepted:G,onRiskCheckboxChange:function(){Y(!G)}}),(0,O.jsx)($,{poolReserve:r,amountToBorrow:M,poolAddress:q.address,interestRateMode:T,isWrongNetwork:t,symbol:q.symbol,blocked:void 0!==ae||te&&!G,sx:te?{mt:0}:{}})]})},se=r(80227),ie=r(81645),ce=r(99552),le=r(75437),ue=r(68861),de=r(14463),pe=r(69125),be=r(56365),xe=r(58057),he=r(62278),fe=r(39702),me=r(64232),ye=r(81719),ve=r(75084),je=r(80562),ge=r(62097),Oe=r(61225),we=r(91655),Ae=r(5152),Ce=r(4730),ke=["sx"];function Te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Be=function(e){var t=e.sx,r=(0,Ce.Z)(e,ke);return(0,O.jsxs)(ie.Z,Ee(Ee({sx:Ee({},t),xmlns:"http://www.w3.org/2000/svg","aria-label":"Hey",viewBox:"0 0 16 16"},r),{},{children:[(0,O.jsxs)("g",{clipPath:"url(#clip0_4560_45564)",children:[(0,O.jsx)("path",{d:"M6.91944 7.59576C6.72478 7.92306 3.68827 7.97806 2.0317 7.04968C0.375136 6.12129 1.17996 3.28268 2.86021 2.53729C4.54046 1.79191 7.1141 7.2685 6.91944 7.59576Z"}),(0,O.jsx)("path",{d:"M6.89648 8.73193C7.09114 9.05923 5.622 11.6393 3.96542 12.5677C2.30885 13.4961 0.178713 11.4002 0.353823 9.61506C0.528933 7.82987 6.70182 8.40462 6.89648 8.73193Z"}),(0,O.jsx)("path",{d:"M7.89858 9.31921C8.28794 9.31921 9.85521 11.8443 9.85521 13.7011C9.85521 15.5578 6.92026 16.3006 5.41513 15.2608C3.90999 14.221 7.50926 9.31917 7.89858 9.31921Z"}),(0,O.jsx)("path",{d:"M8.92364 8.77067C9.1183 8.44332 12.1548 8.38837 13.8114 9.31675C15.4679 10.2451 14.6631 13.0837 12.9829 13.8291C11.3026 14.5745 8.72898 9.09793 8.92364 8.77067Z"}),(0,O.jsx)("path",{d:"M8.94665 7.63436C8.75199 7.30706 10.2211 4.72699 11.8777 3.79858C13.5343 2.8702 15.6644 4.96609 15.4893 6.75123C15.3142 8.53642 9.14131 7.96167 8.94665 7.63436Z"}),(0,O.jsx)("path",{d:"M7.94455 7.04693C7.55519 7.04693 5.98792 4.52182 5.98792 2.66506C5.98792 0.80829 8.92286 0.0655506 10.428 1.10534C11.9332 2.14514 8.33386 7.04697 7.94455 7.04693Z"})]}),(0,O.jsx)("defs",{children:(0,O.jsx)("clipPath",{id:"clip0_4560_45564",children:(0,O.jsx)("rect",{width:"15.157",height:"15.157",transform:"translate(0.343079 0.604614)"})})})]}))};function Pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var De,Re=(0,Ae.default)((function(){return r.e(7283).then(r.bind(r,17283))})),_e=(0,ye.ZP)(ve.Z)((function(){return{minWidth:139,borderRadius:32,background:"linear-gradient(252.63deg, rgba(255, 255, 255, 0.2) 33.91%, rgba(255, 255, 255, 0.08) 73.97%), linear-gradient(0deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.08))",transition:"transform 0.3s cubic-bezier(0.25, 0.8, 0.25, 1)",height:48,"&:hover":{background:"linear-gradient(252.63deg, rgba(255, 255, 255, 0.2) 33.91%, rgba(255, 255, 255, 0.08) 73.97%), linear-gradient(0deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.2))",transform:"translateY(-3px)",border:"1px solid #FFFFFF20"},"&:disabled":{border:"1px solid #FFFFFF20"},backdropFilter:"blur(5px)",border:"1px solid #FFFFFF20"}})),Ze=(0,ye.ZP)(je.Z)((function(){return{backgroundColor:"white",width:48,height:48,transition:"transform 0.3s cubic-bezier(0.25, 0.8, 0.25, 1)","&:hover":{backgroundColor:"white",transform:"translateY(-3px)",boxShadow:"0px 4px 4px 0px #00000040"}}})),Ie=(0,ye.ZP)(ee.Z)((function(){return{position:"relative",overflow:"hidden","&:hover":{".image-bar-gho":{display:"flex",bottom:30}}}})),Ne=(0,ye.ZP)(ee.Z)((function(){return{transition:"bottom 0.3s",position:"absolute",bottom:-50,display:"flex",width:"100%",alignItems:"center",paddingLeft:16,paddingRight:16,"@media (hover: none)":{bottom:30}}})),Le=function(e){return(0,O.jsx)(ie.Z,Se(Se({},e),{},{children:(0,O.jsx)(be.Z,{})}))},Me=function(e){var t=e.txHash,r=e.action,o=e.amount,s=e.symbol,p=(0,i.useState)(),b=p[0],x=p[1],h=(0,i.useState)(),f=h[0],m=h[1],y=(0,i.useState)(!1),j=y[0],g=y[1],w=(0,c.vR)().mainTxState,A=(0,l.f)().currentNetworkConfig,C=(0,i.useRef)(null),T=(0,ge.Z)(),E=(0,Oe.Z)(T.breakpoints.down("xsm")),B=(0,u.Yh)((function(e){return e.trackEvent})),P=(0,k.J)({value:o,visibleDecimals:2,roundDown:!0}),S="".concat(P.prefix).concat(P.postfix),D="undefined"!==typeof ClipboardItem;return(0,O.jsx)(O.Fragment,{children:(0,O.jsxs)(ee.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,O.jsx)(ee.Z,{sx:{width:"48px",height:"48px",bgcolor:"success.200",borderRadius:"50%",mx:"auto",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,O.jsx)(ie.Z,{sx:{color:"success.main",fontSize:"32px"},children:(0,O.jsx)(xe.Z,{})})}),(0,O.jsx)(v.Z,{sx:{mt:4},variant:"h2",children:(0,O.jsx)(a.cC,{id:"All done!"})}),(0,O.jsx)(ee.Z,{sx:{mt:2,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},children:r&&o&&s&&(0,O.jsx)(v.Z,{children:(0,O.jsx)(a.cC,{id:"You {action} <0/> {symbol}",values:{action:r,symbol:s},components:{0:(0,O.jsx)(k.B,{value:Number(o),compact:!0,variant:"secondary14"})}})})}),(0,O.jsx)(ve.Z,{sx:{mt:4},variant:"outlined",size:"small",endIcon:(0,O.jsx)(Le,{style:{fontSize:12}}),onClick:function(){return B(d.Sd.GHO_BORROW_VIEW_TX_DETAILS)},href:A.explorerLinkBuilder({tx:t||w.txHash}),target:"_blank",children:(0,O.jsx)(v.Z,{variant:"buttonS",children:(0,O.jsx)(a.cC,{id:"Review tx details"})})}),(0,O.jsx)(v.Z,{sx:{mt:6,mb:4},variant:"h2",children:(0,O.jsx)(a.cC,{id:"Save and share"})}),(0,O.jsx)("canvas",{style:{display:"none"},width:1169,height:900,ref:C}),b&&f?(0,O.jsxs)(Ie,{children:[(0,O.jsx)("img",{src:b,alt:"minted gho",style:{maxWidth:"100%",borderRadius:"10px"}}),(0,O.jsxs)(Ne,{className:"image-bar-gho",children:[D?(0,O.jsx)(_e,{disabled:j,onClick:function(){f&&navigator.clipboard.write([new ClipboardItem((0,n.Z)({},f.type,f))]).then((function(){B(d.Sd.GHO_COPY_IMAGE),g(!0),setTimeout((function(){g(!1)}),5e3)})).catch((function(){B(d.Sd.GHO_FAIL_COPY_IMAGE)}))},sx:{display:"flex"},variant:"outlined",size:"large",startIcon:j?(0,O.jsx)(ie.Z,{sx:{color:"white",fontSize:16},children:(0,O.jsx)(xe.Z,{})}):(0,O.jsx)(he.Z,{style:{fontSize:16,fill:"white"}}),children:(0,O.jsx)(v.Z,{variant:"buttonS",color:"white",children:j?(0,O.jsx)(a.cC,{id:"COPIED!"}):(0,O.jsx)(a.cC,{id:"COPY IMAGE"})})}):(0,O.jsx)(_e,{download:"minted_gho.png",href:URL.createObjectURL(f),onClick:function(){return B(d.Sd.GHO_DOWNLOAD_IMAGE)},sx:{display:"flex"},variant:"outlined",size:"large",startIcon:j?(0,O.jsx)(ie.Z,{sx:{color:"white",fontSize:16},children:(0,O.jsx)(xe.Z,{})}):(0,O.jsx)(fe.Z,{style:{fontSize:16,fill:"white"}}),children:(0,O.jsx)(v.Z,{variant:"buttonS",color:"white",children:(0,O.jsx)(a.cC,{id:"Download"})})}),(0,O.jsx)(Ze,{target:"_blank",href:"https://hey.xyz/?url=".concat(window.location.href,"&text=","I just minted ".concat(S," GHO"),"&hashtags=Aave&preview=true"),size:"small",sx:{ml:"auto"},onClick:function(){return B(d.Sd.GHO_SHARE_HEY)},children:(0,O.jsx)(Be,{sx:{fill:"#845EEE"},fontSize:"small"})}),(0,O.jsx)(Ze,{target:"_blank",href:"https://twitter.com/intent/tweet?text=I Just minted ".concat(S," GHO"),sx:{ml:2},onClick:function(){return B(d.Sd.GHO_SHARE_TWITTER)},children:(0,O.jsx)(me.Z,{fontSize:"small",sx:{fill:"#33CEFF"}})})]})]}):(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(we.Z,{height:E?240:286,sx:{borderRadius:4,width:"100%"}}),(0,O.jsx)("div",{style:{visibility:"hidden",position:"absolute"},children:(0,O.jsx)(Re,{onSuccessEditing:function(e){if(C.current){var t=C.current.getContext("2d");if(t){var r=new Image;r.onload=function(){document.fonts.ready.then((function(){var e,n;t.drawImage(r,0,0),x(null===(e=C.current)||void 0===e?void 0:e.toDataURL("png",1)),null===(n=C.current)||void 0===n||n.toBlob((function(e){return m(e)}),"png")}))},r.src="data:image/svg+xml;utf8,".concat(encodeURIComponent(e.outerHTML))}}},text:S})})]})]})})},Fe=function(e){var t=e.underlyingAsset,r=(0,u.Yh)((function(e){return e.trackEvent}));return(0,O.jsx)(re.v,{severity:"info",sx:{my:6},children:(0,O.jsx)(a.cC,{id:"<0>Attention:</0> Parameter changes via governance can alter your account health factor and risk of liquidation. Follow the <1>Aave governance forum</1> for updates.",components:{0:(0,O.jsx)("b",{}),1:(0,O.jsx)("a",{onClick:function(){r(d.vh.EXTERNAL_LINK,{asset:t,Link:"Governance Link"})},href:"https://governance.aave.com/"})}})})};function We(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?We(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):We(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}!function(e){e[e.STABLE_RATE_NOT_ENABLED=0]="STABLE_RATE_NOT_ENABLED",e[e.NOT_ENOUGH_LIQUIDITY=1]="NOT_ENOUGH_LIQUIDITY",e[e.BORROWING_NOT_AVAILABLE=2]="BORROWING_NOT_AVAILABLE",e[e.NOT_ENOUGH_BORROWED=3]="NOT_ENOUGH_BORROWED"}(De||(De={}));var Ye=function(e){var t=e.setInterestRateMode,r=e.interestRateMode,n=e.variableRate,o=e.stableRate;return(0,O.jsx)(T.X,{caption:(0,O.jsx)(C,{text:(0,O.jsx)(a.cC,{id:"Borrow APY rate"}),variant:"description"},"APY type_modal"),captionVariant:"description",mb:5,flexDirection:"column",align:"flex-start",captionColor:"text.secondary",children:(0,O.jsxs)(B.f,{color:"primary",value:r,exclusive:!0,onChange:function(e,r){return t(r)},sx:{mt:.5},children:[(0,O.jsxs)(E.Y,{value:x.tk.Variable,disabled:r===x.tk.Variable,children:[(0,O.jsx)(v.Z,{variant:"buttonM",sx:{mr:1},children:(0,O.jsx)(a.cC,{id:"Variable"})}),(0,O.jsx)(k.B,{value:n,percent:!0,variant:"secondary14"})]}),(0,O.jsxs)(E.Y,{value:x.tk.Stable,disabled:r===x.tk.Stable,children:[(0,O.jsx)(v.Z,{variant:"buttonM",sx:{mr:1},children:(0,O.jsx)(a.cC,{id:"Stable"})}),(0,O.jsx)(k.B,{value:o,percent:!0,variant:"secondary14"})]})]})})},He=function(e){var t=e.underlyingAsset,r=e.isWrongNetwork,n=e.poolReserve,o=e.userReserve,s=e.symbol,d=(0,c.vR)(),p=d.mainTxState,b=d.gasLimit,h=d.txError,j=d.close,g=(0,P.HT)(),w=g.user,A=g.marketReferencePriceInUsd,C=g.ghoReserveData,E=g.ghoUserData,B=g.ghoLoadingData,N=(0,u.Yh)((function(e){return e.ghoUserQualifiesForDiscount})),M=(0,S.ov)().borrowCap,F=(0,l.f)().currentMarket,W=(0,i.useState)(x.tk.Variable),G=W[0],Y=W[1],H=(0,i.useState)(""),U=H[0],V=H[1],z=(0,i.useState)(!1),q=z[0],Q=z[1],X=E.userGhoBorrowBalance>0,J=E.userDiscountTokenBalance,K=N(U),te=(0,D.BC)(w,n),re=U===(te=Math.min(Number(te),C.aaveFacilitatorRemainingCapacity).toFixed(10)),oe=(0,f.hE)(U).multipliedBy(n.formattedPriceInMarketReferenceCurrency).multipliedBy(A).shiftedBy(-m.$3),ae=(0,y.L1)({collateralBalanceMarketReferenceCurrency:w.totalCollateralUSD,borrowBalanceMarketReferenceCurrency:(0,f.hE)(w.totalBorrowsUSD).plus(oe),currentLiquidationThreshold:w.currentLiquidationThreshold}),se=ae.toNumber()<1.5&&"-1"!==ae.toString(),ie=(0,f.hE)(U).multipliedBy(n.priceInUSD),ce=E.userGhoBorrowBalance>=C.ghoMinDebtTokenBalanceForDiscount?E.userGhoAvailableToBorrowAtDiscount:0,ue=(0,pe.li)(C.ghoVariableBorrowAPY,E.userGhoBorrowBalance,ce,C.ghoBorrowAPYWithMaxDiscount),de=E.userGhoBorrowBalance+Number(U)>=C.ghoMinDebtTokenBalanceForDiscount?E.userGhoAvailableToBorrowAtDiscount:0,be=(0,pe.li)(C.ghoVariableBorrowAPY,E.userGhoBorrowBalance+Number(U),de,C.ghoBorrowAPYWithMaxDiscount),xe=void 0;G!==x.tk.Stable||n.stableBorrowRateEnabled?G===x.tk.Stable&&null!==o&&void 0!==o&&o.usageAsCollateralEnabledOnUser&&(0,f.hE)(U).lt((null===o||void 0===o?void 0:o.underlyingBalance)||0)?xe=De.NOT_ENOUGH_BORROWED:n.borrowingEnabled||(xe=De.BORROWING_NOT_AVAILABLE):xe=De.STABLE_RATE_NOT_ENABLED;var he=function(){switch(xe){case De.BORROWING_NOT_AVAILABLE:return(0,O.jsx)(a.cC,{id:"Borrowing is currently unavailable for {0}.",values:{0:n.symbol}});case De.NOT_ENOUGH_BORROWED:return(0,O.jsx)(a.cC,{id:"You can borrow this asset with a stable rate only if you borrow more than the amount you are supplying as collateral."});case De.STABLE_RATE_NOT_ENABLED:return(0,O.jsx)(a.cC,{id:"The Stable Rate is not enabled for this currency"});default:return(0,O.jsx)(O.Fragment,{})}},fe=n.iconSymbol;return p.success?(0,O.jsx)(Me,{action:(0,O.jsx)(a.cC,{id:"Borrowed"}),amount:U,symbol:fe}):(0,O.jsxs)(O.Fragment,{children:[M.determineWarningDisplay({borrowCap:M}),n.stableBorrowRateEnabled&&(0,O.jsx)(Ye,{interestRateMode:G,setInterestRateMode:Y,variableRate:n.variableBorrowAPY,stableRate:n.stableBorrowAPY}),(0,O.jsx)(Z.W,{value:U,onChange:function(e){if("-1"===e)V(te);else{var t=(0,R.$w)(e,n.decimals);V(t)}},usdValue:ie.toString(10),assets:[{balance:te,symbol:s,iconSymbol:fe}],symbol:s,capType:_.R.borrowCap,isMaxSelected:re,maxValue:te,balanceText:(0,O.jsx)(a.cC,{id:"Available"})}),void 0!==xe&&(0,O.jsx)(v.Z,{variant:"helperText",color:"error.main",children:(0,O.jsx)(he,{})}),(0,O.jsxs)(L.m6,{gasLimit:b,children:[(0,O.jsx)(L.jz,{visibleHfChange:!!U,healthFactor:w.healthFactor,futureHealthFactor:ae.toString(10)}),(0,O.jsx)(T.X,{caption:(0,O.jsx)(ee.Z,{children:(0,O.jsx)(le.n,{text:(0,O.jsx)(a.cC,{id:"APY, borrow rate"}),variant:"subheader2",color:"text.secondary"})}),captionVariant:"description",mb:4,align:"flex-start",children:(0,O.jsx)(ee.Z,{sx:{textAlign:"right"},children:(0,O.jsx)(ee.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:(0,O.jsx)(Ue,{ghoLoadingData:B,hasGhoBorrowPositions:X,borrowAmount:U,discountAvailable:K,userDiscountTokenBalance:E.userDiscountTokenBalance,underlyingAsset:t,customMarket:F,currentBorrowAPY:ue,futureBorrowAPY:be,onDetailsClick:function(){return j()}})})})}),K&&(0,O.jsx)(v.Z,{variant:"helperText",color:"text.secondary",children:(0,O.jsx)(a.cC,{id:"Discount applied for <0/> staking AAVE",components:{0:(0,O.jsx)(k.B,{variant:"helperText",color:"text.secondary",visibleDecimals:2,value:J})}})})]}),h&&(0,O.jsx)(I.Q,{txError:h}),se&&(0,O.jsx)(ne,{riskCheckboxAccepted:q,onRiskCheckboxChange:function(){Q(!q)}}),(0,O.jsx)(Fe,{underlyingAsset:t}),(0,O.jsx)($,{poolReserve:n,amountToBorrow:U,poolAddress:n.underlyingAsset,interestRateMode:G,isWrongNetwork:r,symbol:s,blocked:void 0!==xe||se&&!q,sx:se?{mt:0}:{}})]})},Ue=function(e){var t=e.ghoLoadingData,r=e.hasGhoBorrowPositions,n=e.borrowAmount,o=e.discountAvailable,a=e.userDiscountTokenBalance,s=e.underlyingAsset,i=e.customMarket,c=e.currentBorrowAPY,l=e.futureBorrowAPY,u=e.onDetailsClick;if(t||!r&&""===n&&o)return(0,O.jsx)(de.J,{variant:"secondary14",color:"text.secondary"});var d={stkAaveBalance:a||0,ghoRoute:ue.Z6.reserveOverview(s,i)+"/#discount",userQualifiesForDiscount:o,"data-cy":"apyType"};return r||""===n?r&&""===n?(0,O.jsx)(ce.B,Ge({withTokenIcon:o,value:c,onMoreDetailsClick:u},d)):o?o?(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(ce.B,Ge({withTokenIcon:!0,value:c,onMoreDetailsClick:u},d)),!!n&&(0,O.jsxs)(O.Fragment,{children:[r&&(0,O.jsx)(ie.Z,{color:"primary",sx:{fontSize:"14px",mx:1},children:(0,O.jsx)(se.Z,{})}),(0,O.jsx)(ce.B,Ge({value:t?-1:l},d))]})]}):(0,O.jsx)(de.J,{variant:"secondary14",color:"text.secondary"}):(0,O.jsx)(ce.B,Ge({value:c,onMoreDetailsClick:u},d)):(0,O.jsx)(ce.B,Ge({withTokenIcon:o,value:l},d))};function Ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var qe=function(){var e=(0,c.vR)(),t=e.type,r=e.close,n=e.args,x=(0,l.f)().currentMarket,h=(0,i.useState)(!0),f=h[0],m=h[1],y=(0,u.Yh)((function(e){return[e.trackEvent,e.displayGho]})),v=(0,o.Z)(y,2),j=v[0],g=v[1],w=function(e){j(d.vh.OPEN_MODAL,{modal:"Unwrap Asset",asset:n.underlyingAsset,assetWrapped:e}),m(e)};return(0,O.jsx)(p.P,{open:t===c.w8.Borrow,setOpen:r,children:(0,O.jsx)(b.A,{action:"borrow",title:(0,O.jsx)(a.cC,{id:"Borrow"}),underlyingAsset:n.underlyingAsset,keepWrappedSymbol:!f,requiredPermission:s.g.BORROWER,children:function(e){return g({symbol:e.symbol,currentMarket:x})?(0,O.jsx)(He,ze({},e)):(0,O.jsx)(ae,ze(ze({},e),{},{unwrap:f,setUnwrap:w}))}})})}},94635:function(e,t,r){r.d(t,{A:function(){return y}});var n=r(80854),o=(r(67294),r(34220)),a=r(80664),s=r(43629),i=r(66209),c=r(8195),l=r(22454),u=r(77537),d=r(8656),p=r(63206),b=r(57609),x=r(78944),h=r(10343),f=r(63491),m=r(85893),y=function(e){var t,r,y=e.hideTitleSymbol,v=e.underlyingAsset,j=e.children,g=e.requiredChainId,O=e.title,w=e.requiredPermission,A=e.keepWrappedSymbol,C=(0,u.Z)().readOnlyModeAddress,k=(0,d.Yh)((function(e){return e.currentMarketData})),T=(0,d.Yh)((function(e){return e.currentNetworkConfig})),E=(0,a.P)(k).walletBalances,B=(0,o.HT)(),P=B.user,S=B.reserves,D=(0,c.vR)(),R=D.txError,_=D.mainTxState,Z=(0,l.T)().permissions,I=(0,i.Q)(g),N=I.isWrongNetwork,L=I.requiredChainId;if(R&&R.blocking)return(0,m.jsx)(f.D,{txError:R});if(w&&p.cr.permissions(k)&&!Z.includes(w)&&k.permissionComponent)return(0,m.jsx)(m.Fragment,{children:k.permissionComponent});var M=S.find((function(e){return v.toLowerCase()===n.hP.toLowerCase()?e.isWrappedBaseAsset:v===e.underlyingAsset})),F=null===P||void 0===P?void 0:P.userReservesData.find((function(e){return v.toLowerCase()===n.hP.toLowerCase()?e.reserve.isWrappedBaseAsset:v===e.underlyingAsset})),W=M.isWrappedBaseAsset&&!A?T.baseAssetSymbol:M.symbol;return(0,m.jsxs)(s.hv,{asset:M,children:[!_.success&&(0,m.jsx)(x.E,{title:O,symbol:y?void 0:W}),N&&!C&&(0,m.jsx)(h.I,{networkName:(0,p.Mo)(L).name,chainId:L,event:{eventName:b.vh.SWITCH_NETWORK,eventParams:{asset:v}}}),j({isWrongNetwork:N,nativeBalance:(null===(t=E[n.hP.toLowerCase()])||void 0===t?void 0:t.amount)||"0",tokenBalance:(null===(r=E[M.underlyingAsset.toLowerCase()])||void 0===r?void 0:r.amount)||"0",poolReserve:M,symbol:W,underlyingAsset:v,userReserve:F})]})}}}]);