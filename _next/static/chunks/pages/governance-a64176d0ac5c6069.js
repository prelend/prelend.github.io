(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4345],{84110:function(e){e.exports=function(){"use strict";return function(e,t,r){e=e||{};var n=t.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function s(e,t,r,o){return n.fromToBase(e,t,r,o)}r.en.relativeTime=o,n.fromToBase=function(t,n,s,i,a){for(var l,c,d,u=s.$locale().relativeTime||o,h=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],p=h.length,x=0;x<p;x+=1){var f=h[x];f.d&&(l=i?r(t).diff(s,f.d,!0):s.diff(t,f.d,!0));var v=(e.rounding||Math.round)(Math.abs(l));if(d=l>0,v<=f.r||!f.r){v<=1&&x>0&&(f=h[x-1]);var g=u[f.l];a&&(v=a(""+v)),c="string"==typeof g?g.replace("%d",v):g(v,n,f.l,d);break}}if(n)return c;var m=d?u.future:u.past;return"function"==typeof m?m(c):m.replace("%s",c)},n.to=function(e,t){return s(e,t,this,!0)},n.from=function(e,t){return s(e,t,this)};var i=function(e){return e.$u?r.utc():r()};n.toNow=function(e){return this.to(i(this),e)},n.fromNow=function(e){return this.from(i(this),e)}}}()},25224:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Be}});var n=r(49501),o=r(62097),s=r(61225),i=r(29630),a=r(79072),l=r(5152),c=r(67294),d=r(34637),u=r(59379),h=r(23791),p=r(75331),x=r(56365),f=r(75084),v=r(30120),g=r(81645),m=r(28533),j=r(68861),y=r(8656),b=r(57609),w=r(74815),P=r(85893);function Z(e){var t=e.text,r=e.href,n=(0,y.Yh)((function(e){return e.trackEvent}));return(0,P.jsx)(f.Z,{variant:"surface",size:"small",sx:{minWidth:"unset"},component:j.rU,href:r,target:"_blank",rel:"noopener",onClick:function(){return n(b.vh.EXTERNAL_LINK,{Link:t})},children:(0,P.jsxs)(v.Z,{sx:{display:"flex",alignItems:"center"},children:[t,(0,P.jsx)(g.Z,{sx:{ml:1,fontSize:14},children:(0,P.jsx)(x.Z,{})})]})})}var C,k=function(){var e=(0,o.Z)(),t=(0,s.Z)(e.breakpoints.up("lg")),r=(0,s.Z)(e.breakpoints.down("xsm")),a=(0,y.Yh)((function(e){return e.trackEvent}));return(0,P.jsx)(w.f,{titleComponent:(0,P.jsxs)(v.Z,{mb:4,children:[(0,P.jsx)(m.Z,{wrapperSx:{mb:4},chainId:p.a_.mainnet}),(0,P.jsxs)(v.Z,{sx:{display:"flex",alignItems:"center",mb:4},children:[(0,P.jsx)("img",{src:"/aave.svg",width:"32px",height:"32px",alt:""}),(0,P.jsx)(i.Z,{variant:r?"h2":t?"display1":"h1",sx:{ml:2,mr:3},children:(0,P.jsx)(n.cC,{id:"Aave Governance"})})]}),(0,P.jsxs)(i.Z,{sx:{color:"#8E92A3",maxWidth:"824px"},children:[(0,P.jsx)(n.cC,{id:"Aave is a fully decentralized, community governed protocol by the AAVE token-holders. AAVE token-holders collectively discuss, propose, and vote on upgrades to the protocol. AAVE token-holders (Ethereum network only) can either vote themselves on new proposals or delagate to an address of choice. To learn more check out the Governance"})," ",(0,P.jsx)(j.rU,{onClick:function(){return a(b.vh.EXTERNAL_LINK,{Link:"FAQ Docs Governance"})},href:"https://docs.aave.com/faq/governance",sx:{textDecoration:"underline",color:"#8E92A3"},children:(0,P.jsx)(n.cC,{id:"documentation"})}),"."]})]}),children:(0,P.jsxs)(v.Z,{sx:{display:"flex",alignItems:"center",gap:"16px",flexWrap:"wrap",maxWidth:"sm"},children:[(0,P.jsx)(Z,{text:"SNAPSHOTS",href:"https://snapshot.org/#/aave.eth"}),(0,P.jsx)(Z,{text:"FORUM",href:"https://governance.aave.com/"}),(0,P.jsx)(Z,{text:"FAQ",href:"https://docs.aave.com/faq/governance"}),(0,P.jsx)(Z,{text:"GOVERNANCE V2",href:"https://governance-v2.aave.com/"})]})})},O=r(90116),A=r(70918),S=r(9144),L=r(91655),D=r(246),E=r.n(D),I=r(13850),M=r(7144),R=r(50029),T=r(71383),N=r(87794),_=r.n(N),F=r(36492),V=r(80108),B=r(34841),G=r(16540),W=(0,V.Ps)(C||(C=(0,T.Z)(["\n  query search($query: String!, $first: Int!) {\n    proposalSearch(text: $query, first: $first) {\n      proposalId\n    }\n  }\n"]))),z=function(e){var t=(0,G.z)().votingMachineSerivce,r=e.trim().split(" ").join(" & "),n=(0,F.a)({queryFn:function(){return function(e){return(0,V.ZP)(B.B2.governanceCoreSubgraphUrl,W,{query:e,first:10})}(r)},enabled:""!==e,queryKey:["searchProposals",r],select:function(e){return e.proposalSearch.map((function(e){return e.proposalId}))}}),o=n.data,s=n.isFetching,i=(0,F.a)({queryFn:function(){var e=(0,R.Z)(_().mark((function e(){var r;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,M.WB)(o||[]);case 2:return r=e.sent,e.abrupt("return",(0,M.xf)(r,t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),queryKey:["proposals_by_id",o],cacheTime:0,enabled:void 0!==o&&o.length>0}),a=i.data,l=i.isFetching;return{results:(null===a||void 0===a?void 0:a.proposals)||[],loading:s||l}},Y=r(46541),q=r(31538),X=r(8403),U=r(28480),H=r(88622),K=function(e){var t=e.proposalFilter,r=e.handleSearchQueryChange,o=e.handleChange;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(i.Z,{variant:"h3",sx:{flexGrow:1},children:(0,P.jsx)(n.cC,{id:"Proposals"})}),(0,P.jsx)(i.Z,{children:(0,P.jsx)(n.cC,{id:"Filter"})}),(0,P.jsxs)(Y.Z,{id:"filter",value:t,sx:{minWidth:140},onChange:o,children:[(0,P.jsx)(q.Z,{value:"all",children:(0,P.jsx)(n.cC,{id:"All proposals"})}),(0,H.KS)().map((function(e){return(0,P.jsx)(q.Z,{value:e,children:e},e)}))]}),(0,P.jsx)(X.M,{wrapperSx:{width:"280px"},placeholder:"Search proposals",onSearchTermChange:r})]})},Q=function(e){var t=e.proposalFilter,r=e.handleChange,o=e.handleSearchQueryChange;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(U._,{title:(0,P.jsx)(n.cC,{id:"Proposals"}),titleProps:{variant:"h3"},onSearchTermChange:o,searchPlaceholder:"Search proposals"}),(0,P.jsxs)(v.Z,{sx:{display:"flex",alignItems:"center",gap:4},children:[(0,P.jsx)(i.Z,{children:(0,P.jsx)(n.cC,{id:"Filter"})}),(0,P.jsxs)(Y.Z,{id:"filter",value:t,sx:{minWidth:140},onChange:r,children:[(0,P.jsx)(q.Z,{value:"all",children:(0,P.jsx)(n.cC,{id:"All proposals"})}),(0,H.KS)().map((function(e){return(0,P.jsx)(q.Z,{value:e,children:e},e)}))]})]})]})},$=function(e){var t=e.proposalFilter,r=e.handleProposalFilterChange,n=e.handleSearchQueryChange,i=function(e){c(b.xM.FILTER,{filter:e.target.value}),r(e.target.value)},a=(0,o.Z)().breakpoints,l=(0,s.Z)(a.up("md")),c=(0,y.Yh)((function(e){return e.trackEvent}));return(0,P.jsx)(v.Z,{sx:{px:6,py:4,display:"flex",flexDirection:{xs:"column",md:"row"},alignItems:{xs:"flex-start",md:"center"},gap:3,borderBottom:"1px solid",borderColor:"divider"},children:l?(0,P.jsx)(K,{proposalFilter:t,handleChange:i,handleSearchQueryChange:n}):(0,P.jsx)(Q,{proposalFilter:t,handleChange:i,handleSearchQueryChange:n})})},J=r(7734),ee=r(27484),te=r.n(ee),re=r(84110),ne=r.n(re),oe=r(72399),se=r(74663);te().extend(ne());var ie=function(e){var t=e.proposal,r=(0,y.Yh)((function(e){return e.trackEvent})),o=ae(t),s=(0,oe._P)(t);return(0,P.jsxs)(v.Z,{sx:{p:6,display:"flex",flexWrap:"wrap",justifyContent:"space-between",borderBottom:function(e){return"1px solid ".concat(e.palette.divider)}},component:j.rU,onClick:function(){return r(b.xM.VIEW_AIP,{AIP:t.id})},href:j.Z6.dynamicRenderedProposal(+t.id),children:[(0,P.jsxs)(S.Z,{direction:"column",gap:2,sx:{width:{xs:"100%",lg:"70%"},pr:{xs:0,lg:8},display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,P.jsxs)(S.Z,{direction:"row",gap:3,alignItems:"center",children:[(0,P.jsx)(H.Ul,{state:t.state,loading:!1}),t.state===J.rn.Created&&(0,P.jsx)(P.Fragment,{children:(0,P.jsxs)(i.Z,{variant:"description",color:"text.secondary",children:[(0,P.jsx)(n.cC,{id:"starts"})," ",o]})}),t.state===J.rn.Active&&(0,P.jsx)(P.Fragment,{children:(0,P.jsxs)(i.Z,{variant:"description",color:"text.secondary",children:[(0,P.jsx)(n.cC,{id:"ends"})," ",o]})})]}),(0,P.jsx)(i.Z,{variant:"h3",sx:{overflow:"hidden",textOverflow:"ellipsis"},children:t.proposalMetadata.title})]}),(0,P.jsxs)(S.Z,{flexGrow:1,direction:"column",justifyContent:"center",sx:{pl:{xs:0,lg:18},mt:{xs:7,lg:0}},children:[(0,P.jsx)(se.A,{yae:!0,percent:s.forPercent,votes:s.forVotes,sx:{mb:4},compact:!0}),(0,P.jsx)(se.A,{percent:s.againstPercent,votes:s.againstVotes,compact:!0})]})]})},ae=function(e){var t,r=e.state,n=Number(e.transactions.created.timestamp),o=Number((null===(t=e.transactions.active)||void 0===t?void 0:t.timestamp)||0);if(r===J.rn.Created||0===o){var s=e.votingConfig.cooldownBeforeVotingStart;return te().unix(n+Number(s)).fromNow()}if(r===J.rn.Active){var i=e.votingConfig.votingDuration;return te().unix(o+Number(i)).fromNow()}return""},le=function(){var e=(0,c.useState)("all"),t=e[0],r=e[1],n=(0,H.Sk)(t),o=(0,c.useState)(""),s=o[0],i=o[1],a=z(s),l=a.results,d=a.loading,u=(0,M.Wu)(n),h=u.data,p=u.isFetching,x=u.fetchNextPage,f=u.hasNextPage,v=[];return s&&l.length>0&&(v=l),!s&&h&&h.pages.forEach((function(e){var t;return(t=v).push.apply(t,(0,O.Z)(e.proposals))})),"all"!==t&&(v=v.filter((function(e){return e.state===n}))),(0,P.jsxs)(A.Z,{children:[(0,P.jsx)($,{proposalFilter:t,handleProposalFilterChange:r,handleSearchQueryChange:i}),v.length>0?(0,P.jsxs)(E(),{loadMore:function(){return x()},hasMore:f,children:[v.map((function(e){return(0,P.jsx)(ie,{proposal:e},e.id)})),p&&Array.from({length:5}).map((function(e,t){return(0,P.jsx)(ce,{},t)}))]}):(!d&&s||!p&&"all"!==t)&&0===v.length?(0,P.jsx)(I.q,{searchTerm:s}):Array.from({length:4}).map((function(e,t){return(0,P.jsx)(ce,{},t)}))]})},ce=function(){return(0,P.jsxs)(v.Z,{sx:{p:6,display:"flex",flexWrap:"wrap",justifyContent:"space-between",borderBottom:function(e){return"1px solid ".concat(e.palette.divider)}},children:[(0,P.jsx)(S.Z,{direction:"row",sx:{width:{xs:"100%",lg:"70%"},pr:{xs:0,lg:8},display:"flex",flexDirection:"column",justifyContent:"space-between"},children:(0,P.jsxs)(S.Z,{direction:"column",sx:{width:{xs:"100%",lg:"70%"},pr:{xs:0,lg:8},display:"flex",flexDirection:"column",gap:{xs:3,lg:6}},children:[(0,P.jsx)(L.Z,{variant:"rectangular",height:22,width:220}),(0,P.jsx)(L.Z,{variant:"rectangular",height:24,width:350})]})}),(0,P.jsxs)(S.Z,{flexGrow:1,direction:"column",justifyContent:"center",sx:{pl:{xs:0,lg:18},mt:{xs:7,lg:0}},children:[(0,P.jsx)(se.A,{yae:!0,percent:0,votes:0,sx:{mb:4},loading:!0}),(0,P.jsx)(se.A,{percent:0,votes:0,loading:!0})]})]})},de=r(3765),ue=r(44373);var he=(0,r(61354).Z)(),pe=r(9279),xe=r(50116),fe=r(41024),ve=r(92391),ge=r(72667),me=r(64643),je=r(79979),ye=r(85895),be=r(8195),we=function(e){var t=e.aavePower,r=e.stkAavePower,o=e.aaveDelegatee,s=e.stkAaveDelegatee,a=e.aAaveDelegatee,l=e.aAavePower,c=e.title,d=!o||pe.d===o,u=!s||pe.d===s,h=!a||pe.d===a;return d&&u&&h?null:(0,P.jsxs)(he,{sx:{display:"flex",flexDirection:"column",mt:6,mb:2},children:[(0,P.jsx)(i.Z,{typography:"caption",sx:{mb:5},color:"text.secondary",children:(0,P.jsx)(n.cC,{id:"{title}",values:{title:c}})}),(0,P.jsx)(he,{sx:{display:"flex",gap:4,flexDirection:"column"},children:o!==oe.r_&&o===s&&o===a?(0,P.jsx)(ve.X,{align:"flex-start",caption:(0,P.jsx)(me.M,{avatarProps:{size:xe.D.XS},titleProps:{variant:"subheader1"},address:o}),children:(0,P.jsxs)(he,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[(0,P.jsx)(fe.B,{value:Number(t)+Number(r)+Number(l),variant:"subheader1"}),(0,P.jsx)(i.Z,{variant:"helperText",color:"text.secondary",children:"AAVE + stkAAVE + aAAVE"})]})}):(0,P.jsxs)(P.Fragment,{children:[!d&&(0,P.jsx)(ve.X,{align:"flex-start",caption:(0,P.jsx)(me.M,{avatarProps:{size:xe.D.XS},titleProps:{variant:"subheader1"},address:o}),children:(0,P.jsxs)(he,{sx:{display:"flex",gap:2,alignItems:"center"},children:[(0,P.jsx)(ge.T1,{symbol:"AAVE",sx:{width:16,height:16}}),(0,P.jsx)(fe.B,{value:t,variant:"subheader1"})]})}),!u&&(0,P.jsx)(ve.X,{align:"flex-start",caption:(0,P.jsx)(me.M,{avatarProps:{size:xe.D.XS},titleProps:{variant:"subheader1"},address:s}),children:(0,P.jsxs)(he,{sx:{display:"flex",gap:2,alignItems:"center"},children:[(0,P.jsx)(ge.T1,{symbol:"stkAAVE",sx:{width:16,height:16}}),(0,P.jsx)(fe.B,{value:r,variant:"subheader1"})]})}),!h&&(0,P.jsx)(ve.X,{align:"flex-start",caption:(0,P.jsx)(me.M,{avatarProps:{size:xe.D.XS},titleProps:{variant:"subheader1"},address:a}),children:(0,P.jsxs)(he,{sx:{display:"flex",gap:2,alignItems:"center"},children:[(0,P.jsx)(ge.T1,{aToken:!0,symbol:"aave",sx:{width:16,height:16}}),(0,P.jsx)(fe.B,{value:l,variant:"subheader1"})]})})]})})]})},Pe=function(){var e=(0,y.Yh)((function(e){return e.account})),t=(0,je.S)().data,r=t.aave,o=t.stkAave,s=t.aAave,a=(0,ye.c)().data,l=(0,be.vR)(),c=l.openGovDelegation,d=l.openRevokeGovDelegation,u=(0,y.Yh)((function(e){return e.trackEvent}));if(!a||!e)return null;var h=Number(r)<=0&&Number(o)<=0&&Number(s)<=0&&a.aavePropositionDelegatee===pe.d&&a.aaveVotingDelegatee===pe.d&&a.stkAavePropositionDelegatee===pe.d&&a.stkAaveVotingDelegatee===pe.d&&a.aAavePropositionDelegatee===pe.d&&a.aAaveVotingDelegatee===pe.d,p=a.aavePropositionDelegatee!==pe.d||a.aaveVotingDelegatee!==pe.d||a.stkAavePropositionDelegatee!==pe.d||a.stkAaveVotingDelegatee!==pe.d||a.aAaveVotingDelegatee!==pe.d||a.aAavePropositionDelegatee!==pe.d;return(0,P.jsxs)(A.Z,{sx:{mt:2},children:[(0,P.jsxs)(he,{sx:{px:6,pb:6,pt:4},children:[(0,P.jsx)(i.Z,{typography:"h3",children:(0,P.jsx)(n.cC,{id:"Delegated power"})}),(0,P.jsxs)(i.Z,{typography:"description",sx:{mt:1},color:"text.secondary",children:[(0,P.jsx)(n.cC,{id:"Use your AAVE, stkAAVE, or aAave balance to delegate your voting and proposition powers. You will not be sending any tokens, only the rights to vote and propose changes to the protocol. You can re-delegate or revoke power to self at any time."}),(0,P.jsx)(j.rU,{href:"https://docs.aave.com/developers/v/2.0/protocol-governance/governance",target:"_blank",variant:"description",color:"text.secondary",sx:{textDecoration:"underline",ml:1},onClick:function(){return u(b.vh.EXTERNAL_LINK,{link:"Learn More Delegation"})},children:(0,P.jsx)(n.cC,{id:"Learn more."})})]}),h?(0,P.jsx)(i.Z,{variant:"description",color:"text.muted",mt:6,children:(0,P.jsx)(n.cC,{id:"You have no AAVE/stkAAVE/aAave balance to delegate."})}):(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(we,{aavePower:r,stkAavePower:o,aAavePower:s,aAaveDelegatee:a.aAaveVotingDelegatee,aaveDelegatee:a.aaveVotingDelegatee,stkAaveDelegatee:a.stkAaveVotingDelegatee,title:"Voting power"}),(0,P.jsx)(we,{aavePower:r,aAavePower:s,aAaveDelegatee:a.aAavePropositionDelegatee,stkAavePower:o,aaveDelegatee:a.aavePropositionDelegatee,stkAaveDelegatee:a.stkAavePropositionDelegatee,title:"Proposition power"})]})]}),(0,P.jsx)(ue.Z,{}),(0,P.jsxs)(he,{sx:{p:6,display:"flex",flexDirection:"column",gap:2},children:[(0,P.jsx)(f.Z,{size:"large",sx:{width:"100%"},variant:"contained",disabled:h,onClick:function(){return c()},children:(0,P.jsx)(n.cC,{id:"Set up delegation"})}),p&&(0,P.jsx)(f.Z,{size:"large",sx:{width:"100%"},variant:"outlined",disabled:h,onClick:function(){return d()},children:(0,P.jsx)(n.cC,{id:"Revoke power"})})]})]})};var Ze=c.forwardRef((function(e,t){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"}))})),Ce=r(84563),ke=r(80562),Oe=r(35672),Ae=r(91555),Se=function(){var e=(0,be.vR)().openGovRepresentatives,t=function(e){var t=(0,G.z)().governanceV3Service;return(0,F.a)({queryFn:function(){return t.getRepresentationData(e)},queryKey:["governance",e,"representatives"],enabled:!!e})}((0,y.Yh)((function(e){return e.account}))).data,r=null===t||void 0===t?void 0:t.Represented.some((function(e){return e.votersRepresented.length>0}));return(0,P.jsx)(A.Z,{sx:{mt:2},children:(0,P.jsxs)(v.Z,{sx:{px:6,pb:6,pt:4},children:[(0,P.jsxs)(S.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,P.jsx)(i.Z,{typography:"h3",children:(0,P.jsx)(n.cC,{id:"Linked addresses"})}),r?null:(0,P.jsx)(f.Z,{onClick:function(){return e((null===t||void 0===t?void 0:t.Representatives)||[])},children:(0,P.jsx)(i.Z,{typography:"subheader1",children:(0,P.jsx)(n.cC,{id:"Edit"})})})]}),(0,P.jsxs)(S.Z,{gap:8,sx:{mt:2},children:[(0,P.jsx)(S.Z,{direction:"column",children:(0,P.jsx)(i.Z,{variant:"description",color:"text.secondary",children:r?(0,P.jsx)(n.cC,{id:"Representing smart contract wallet (ie. Safe) addresses on other chains."}):(0,P.jsx)(n.cC,{id:"Representative smart contract wallet (ie. Safe) addresses on other chains."})})}),(0,P.jsx)(S.Z,{alignItems:"start",gap:6,children:r?(0,P.jsx)(De,{representing:(null===t||void 0===t?void 0:t.Represented)||[]}):(0,P.jsx)(Le,{representatives:(null===t||void 0===t?void 0:t.Representatives)||[],onOpenRepresentatives:function(){return e((null===t||void 0===t?void 0:t.Representatives)||[])}})})]})]})})},Le=function(e){var t=e.representatives,r=e.onOpenRepresentatives;return(0,P.jsx)(P.Fragment,{children:t.map((function(e,t){return(0,P.jsxs)(S.Z,{gap:4,direction:"column",alignItems:"self-start",children:[(0,P.jsx)(Ee,{networkLogoPath:Ae.m[e.chainId].networkLogoPath,networkName:Ae.m[e.chainId].name}),e.representative===oe.r_?(0,P.jsxs)(S.Z,{direction:"row",gap:1,alignItems:"center",children:[(0,P.jsx)(ke.Z,{sx:function(e){return{height:"24px",width:"24px",background:e.palette.background.disabled}},onClick:r,children:(0,P.jsx)(g.Z,{sx:{p:1},children:(0,P.jsx)(Ze,{})})}),(0,P.jsx)(i.Z,{variant:"subheader1",color:"text.muted",children:(0,P.jsx)(n.cC,{id:"Connect"})})]}):(0,P.jsx)(Ie,{explorerLink:Ae.m[e.chainId].explorerLink,address:e.representative})]},t)}))})},De=function(e){var t=e.representing;return(0,P.jsx)(P.Fragment,{children:t.map((function(e,t){return(0,P.jsxs)(S.Z,{gap:4,direction:"column",alignItems:"self-start",children:[(0,P.jsx)(Ee,{networkLogoPath:Ae.m[e.chainId].networkLogoPath,networkName:Ae.m[e.chainId].name}),0===e.votersRepresented.length?(0,P.jsx)(i.Z,{sx:{ml:4},color:"text.secondary",children:(0,P.jsx)(n.cC,{id:"None"})}):e.votersRepresented.map((function(t,r){return(0,P.jsx)(Ie,{explorerLink:Ae.m[e.chainId].explorerLink,address:t},r)}))]},t)}))})},Ee=function(e){var t=e.networkLogoPath,r=e.networkName;return(0,P.jsxs)(S.Z,{direction:"row",alignItems:"center",gap:2,children:[(0,P.jsx)("img",{src:t,height:"16px",width:"16px",alt:"network logo"}),(0,P.jsx)(i.Z,{variant:"subheader1",children:r})]})},Ie=function(e){var t=e.explorerLink,r=e.address;return(0,P.jsx)(j.rU,{href:"".concat(t,"/address/").concat(r),children:(0,P.jsxs)(S.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,P.jsx)(Oe.E,{variant:"subheader1",compactMode:Oe._.MD,compact:!0,sx:{ml:4},children:r}),(0,P.jsx)(g.Z,{sx:function(e){return{width:14,height:14,ml:.5,color:e.palette.text.muted}},children:(0,P.jsx)(Ce.Z,{})})]})})},Me=r(58527);function Re(){var e=(0,ye.c)().data;return(0,P.jsxs)(A.Z,{sx:{px:6,pb:6,pt:4},children:[(0,P.jsx)(i.Z,{variant:"h3",sx:{height:"36px",display:"flex",alignItems:"center",mb:4},children:(0,P.jsx)(n.cC,{id:"Your info"})}),(0,P.jsx)(me.H,{withLink:!0,avatarProps:{size:xe.D.LG},titleProps:{variant:"h4",addressCompactMode:Oe._.MD},subtitleProps:{variant:"caption",addressCompactMode:Oe._.XXL,color:"text.secondary"},funnel:"Your info: Governance"}),e?(0,P.jsxs)(v.Z,{sx:{display:"flex",mt:6},children:[(0,P.jsxs)(v.Z,{sx:{display:"flex",flexDirection:"column",mr:"25%"},children:[(0,P.jsx)(Me.G,{text:"Voting power",variant:"description",textColor:"text.secondary",event:{eventName:b.vh.TOOL_TIP,eventParams:{tooltip:"Voting Power",funnel:"Governance Page"}},children:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(i.Z,{variant:"subheader2",children:(0,P.jsx)(n.cC,{id:"Your voting power is based on your AAVE/stkAAVE balance and received delegations."})}),(0,P.jsx)(i.Z,{variant:"subheader2",mt:4,children:(0,P.jsx)(n.cC,{id:"Use it to vote for or against active proposals."})})]})}),(0,P.jsx)(fe.B,{"data-cy":"voting-power",value:e.votingPower,variant:"h2",visibleDecimals:2})]}),(0,P.jsxs)(v.Z,{children:[(0,P.jsx)(Me.G,{text:"Proposition power",variant:"description",textColor:"text.secondary",event:{eventName:b.vh.TOOL_TIP,eventParams:{tooltip:"Proposition Power",funnel:"Governance Page"}},children:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(i.Z,{variant:"subheader2",children:(0,P.jsx)(n.cC,{id:"Your proposition power is based on your AAVE/stkAAVE balance and received delegations."})}),(0,P.jsx)(i.Z,{variant:"subheader2",mt:4,children:(0,P.jsx)(n.cC,{id:"To submit a proposal for minor changes to the protocol, you'll need at least 80.00K power. If you want to change the core code base, you'll need 320k power.<0>Learn more.</0>",components:{0:(0,P.jsx)(j.rU,{href:"https://docs.aave.com/developers/v/2.0/protocol-governance/governance",target:"_blank",variant:"description",sx:{textDecoration:"underline",ml:1}})}})})]})}),(0,P.jsx)(fe.B,{"data-cy":"proposition-power",value:e.propositionPower,variant:"h2",visibleDecimals:2})]})]}):(0,P.jsx)(L.Z,{})]})}var Te,Ne=function(){return(0,y.Yh)((function(e){return e.account}))?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Re,{}),(0,P.jsx)(Pe,{}),(0,P.jsx)(Se,{})]}):(0,P.jsxs)(A.Z,{sx:{p:6},children:[(0,P.jsx)(i.Z,{variant:"h3",sx:{mb:{xs:6,xsm:10}},children:(0,P.jsx)(n.cC,{id:"Your info"})}),(0,P.jsx)(i.Z,{sx:{mb:6},color:"text.secondary",children:(0,P.jsx)(n.cC,{id:"Please connect a wallet to view your personal information here."})}),(0,P.jsx)(de.p,{funnel:"Governance Page"})]})},_e=r(15446),Fe=(0,l.default)((function(){return Promise.all([r.e(3501),r.e(3793),r.e(2926)]).then(r.bind(r,10254)).then((function(e){return e.GovDelegationModal}))}),{loadableGenerated:{webpack:function(){return[10254]}}}),Ve=(0,l.default)((function(){return Promise.all([r.e(6072),r.e(3793),r.e(9636)]).then(r.bind(r,59786)).then((function(e){return e.GovRepresentativesModal}))}),{loadableGenerated:{webpack:function(){return[59786]}}});function Be(){var e=(0,o.Z)().breakpoints,t=(0,s.Z)(e.down("lg")),r=(0,c.useState)(Te.PROPOSALS),l=r[0],h=r[1],p=(0,y.Yh)((function(e){return e.trackEvent}));return(0,c.useEffect)((function(){p("Page Viewed",{"Page Name":"Governance"})}),[p]),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(k,{}),(0,P.jsxs)(_e.O,{children:[(0,P.jsxs)(u.Z,{color:"primary",value:l,exclusive:!0,onChange:function(e,t){return h(t)},sx:{width:{xs:"100%",xsm:"359px"},height:"44px",mb:4,display:{xs:"flex",lg:"none"}},children:[(0,P.jsx)(d.Z,{value:Te.PROPOSALS,disabled:l===Te.PROPOSALS,children:(0,P.jsx)(i.Z,{variant:"subheader1",children:(0,P.jsx)(n.cC,{id:"Proposals"})})}),(0,P.jsx)(d.Z,{value:Te.INFORMATION,disabled:l===Te.INFORMATION,children:(0,P.jsx)(i.Z,{variant:"subheader1",children:(0,P.jsx)(n.cC,{id:"Your info"})})})]}),t?l===Te.PROPOSALS?(0,P.jsx)(le,{}):(0,P.jsx)(Ne,{}):(0,P.jsxs)(a.ZP,{container:!0,spacing:4,children:[(0,P.jsx)(a.ZP,{item:!0,md:8,children:(0,P.jsx)(le,{})}),(0,P.jsx)(a.ZP,{item:!0,md:4,children:(0,P.jsx)(Ne,{})})]})]})]})}!function(e){e[e.PROPOSALS=0]="PROPOSALS",e[e.INFORMATION=1]="INFORMATION"}(Te||(Te={})),Be.getLayout=function(e){return(0,P.jsxs)(h.Z,{children:[e,(0,P.jsx)(Fe,{}),(0,P.jsx)(Ve,{})]})}},28533:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(59499),o=r(49501),s=r(75331),i=r(30120),a=r(29630),l=r(91555),c=r(85893);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=function(e,t){return e===s.a_.mainnet?"Ethereum Mainnet":t.name},p=function(e){var t=e.chainId,r=e.wrapperSx,n=l.m[t];return(0,c.jsxs)(i.Z,{sx:u({display:"flex",alignItems:"center"},r),children:[(0,c.jsx)(a.Z,{variant:"subheader2",sx:{mr:2,color:"#C0CBF6"},children:(0,c.jsx)(o.cC,{id:"Available on"})}),(0,c.jsx)(i.Z,{sx:{height:16,width:16},children:(0,c.jsx)("img",{src:n.networkLogoPath,height:"100%",width:"100%",alt:"Ethereum Mainnet"})}),(0,c.jsx)(a.Z,{variant:"subheader2",sx:{ml:1,color:"#C0CBF6"},children:h(t,n)})]})}},13850:function(e,t,r){"use strict";r.d(t,{q:function(){return c}});var n=r(6022),o=r(62097),s=r(61225),i=r(30120),a=r(29630),l=r(85893),c=function(e){var t=e.searchTerm,r=e.subtitle,c=(0,o.Z)().breakpoints,d=(0,s.Z)(c.down("sm"));return(0,l.jsxs)(i.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:1,pt:15,pb:32,px:4},children:[d?(0,l.jsxs)(i.Z,{sx:{textAlign:"center",maxWidth:"300px"},children:[(0,l.jsx)(a.Z,{variant:"h2",children:n.ag._("No search results{0}",{0:t&&" for"})}),t&&(0,l.jsxs)(a.Z,{sx:{overflowWrap:"anywhere"},variant:"h2",children:["'",t,"'"]})]}):(0,l.jsx)(a.Z,{sx:{textAlign:"center",maxWidth:"480px",overflowWrap:"anywhere"},variant:"h2",children:n.ag._("No search results{0}",{0:t&&" for '".concat(t,"'")})}),r&&(0,l.jsx)(a.Z,{sx:{width:"280px",textAlign:"center"},variant:"description",color:"text.secondary",children:r})]})}},8403:function(e,t,r){"use strict";r.d(t,{M:function(){return v}});var n=r(59499),o=r(53737),s=r(33740),i=r(62097),a=r(61225),l=r(30120),c=r(81011),d=r(80562),u=r(23279),h=r.n(u),p=r(67294),x=r(85893);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var v=function(e){var t=e.onSearchTermChange,r=e.wrapperSx,u=e.placeholder,v=(0,p.useRef)(null),g=(0,p.useState)(""),m=g[0],j=g[1],y=(0,i.Z)().breakpoints,b=(0,a.Z)(y.down("sm")),w=(0,p.useMemo)((function(){return h()((function(e){t(e)}),300)}),[t]);return(0,x.jsxs)(l.Z,{sx:function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({display:"flex",alignItems:"center",gap:2,border:"1px solid ".concat(e.palette.divider),borderRadius:"6px",height:"36px"},r)},children:[(0,x.jsx)(l.Z,{sx:{ml:2,mt:1},children:(0,x.jsx)(o.Z,{height:16})}),(0,x.jsx)(c.ZP,{autoFocus:b,inputRef:v,sx:{width:"100%",fontSize:{xs:16,sm:14}},placeholder:u,value:m,onChange:function(e){j(e.target.value),w(e.target.value)}}),(0,x.jsx)(d.Z,{sx:{p:0,mr:2,visibility:m?"visible":"hidden"},onClick:function(){return function(){var e;j(""),t(""),null===(e=v.current)||void 0===e||e.focus()}()},children:(0,x.jsx)(s.Z,{height:16})})]})}},28480:function(e,t,r){"use strict";r.d(t,{_:function(){return m}});var n=r(59499),o=r(49501),s=r(69743),i=r(62097),a=r(61225),l=r(30120),c=r(29630),d=r(80562),u=r(81645),h=r(75084),p=r(67294),x=r(8403),f=r(85893);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=function(e){var t=e.onSearchTermChange,r=e.searchPlaceholder,n=e.titleProps,v=e.title,m=(0,p.useState)(!1),j=m[0],y=m[1],b=(0,i.Z)().breakpoints,w=(0,a.Z)(b.down("sm")),P=w&&!j,Z=!w||!j;return(0,f.jsxs)(l.Z,{sx:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Z&&(0,f.jsx)(c.Z,g(g({component:"div",variant:"h2",sx:{mr:4}},n),{},{children:v})),(0,f.jsxs)(l.Z,{sx:{height:"40px",width:j&&w?"100%":"unset",position:"relative",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[P&&(0,f.jsx)(d.Z,{onClick:function(){return y(!0)},children:(0,f.jsx)(u.Z,{children:(0,f.jsx)(s.Z,{})})}),(j||!w)&&(0,f.jsxs)(l.Z,{sx:{width:"100%",display:"flex",justifyContent:"space-between"},children:[(0,f.jsx)(x.M,{wrapperSx:{width:{xs:"100%",sm:"340px"}},placeholder:r,onSearchTermChange:t}),w&&(0,f.jsx)(h.Z,{sx:{ml:2},onClick:function(){return y(!1),void t("")},children:(0,f.jsx)(c.Z,{variant:"buttonM",children:(0,f.jsx)(o.cC,{id:"Cancel"})})})]})]})]})}},72667:function(e,t,r){"use strict";r.d(t,{Js:function(){return v},T1:function(){return y}});var n=r(83618),o=r(59499),s=r(4730),i=r(89722),a=r(30120),l=r(60082),c=r(67294),d=r(85893),u=["symbol","aToken"],h=["symbols","badgeSymbol"],p=["symbol"];function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e){var t=e.symbol,r=e.onImageGenerated,n=e.aToken,o=(0,c.useRef)(null),s=(0,c.useRef)(null),i=(0,c.useState)(!0),a=i[0],l=i[1];return(0,c.useEffect)((function(){var e;if(!a&&o.current&&null!==(e=o.current)&&void 0!==e&&e.contentDocument)if(n){var t,i,l,c,d=null===(t=o.current)||void 0===t||null===(i=t.contentDocument)||void 0===i||null===(l=i.childNodes)||void 0===l?void 0:l[0],u=d.getAttribute("width"),h=d.getAttribute("height"),p=d.getAttribute("viewBox");d.setAttribute("x",25),d.setAttribute("width",206),d.setAttribute("y",25),d.setAttribute("height",206),p||d.setAttribute("viewBox","0 0 ".concat(u," ").concat(h)),null===(c=s.current)||void 0===c||c.appendChild(d);var x=(new XMLSerializer).serializeToString(s.current);r("data:image/svg+xml;base64,".concat(window.btoa(unescape(encodeURIComponent(x)))))}else{var f,v=(new XMLSerializer).serializeToString(null===(f=o.current)||void 0===f?void 0:f.contentDocument);r("data:image/svg+xml;base64,".concat(window.btoa(unescape(encodeURIComponent(v)))))}}),[a,n]),(0,d.jsxs)("div",{style:{visibility:"hidden",height:0,width:0,overflow:"hidden"},children:[(0,d.jsx)("object",{style:{opacity:1},ref:o,id:"svg",data:"/icons/tokens/".concat(t.toLowerCase(),".svg"),onLoad:function(){return l(!1)}}),n&&(0,d.jsx)(g,{ref:s})]})}var g=(0,c.forwardRef)((function(e,t){var r=e.symbol;return(0,d.jsxs)("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},ref:t,id:"Group_30952",width:"256",height:"256",viewBox:"0 0 256 256",children:[(0,d.jsxs)("defs",{id:"defs10",children:[(0,d.jsxs)("linearGradient",{id:"linear-gradient",x1:".843",x2:".206",y1:".135",y2:".886",gradientUnits:"objectBoundingBox",children:[(0,d.jsx)("stop",{offset:"0",stopColor:"#3d550c",id:"stop2"}),(0,d.jsx)("stop",{offset:"1",stopColor:"#81b622",id:"stop4"})]}),(0,d.jsx)("linearGradient",{id:"linear-gradient-2",x1:".907",x2:".163",y1:".227",y2:".853"})]}),(0,d.jsxs)("g",{id:"Group_29109",children:[(0,d.jsx)("path",{id:"Subtraction_108",fill:"url(#linear-gradient)",d:"M128 256a128.976 128.976 0 0 1-25.8-2.6 127.309 127.309 0 0 1-45.77-19.261 128.366 128.366 0 0 1-46.375-56.315A127.357 127.357 0 0 1 2.6 153.8a129.251 129.251 0 0 1 0-51.593 127.31 127.31 0 0 1 19.26-45.77 128.372 128.372 0 0 1 56.317-46.378A127.33 127.33 0 0 1 102.2 2.6a129.244 129.244 0 0 1 51.593 0 127.308 127.308 0 0 1 45.77 19.26 128.367 128.367 0 0 1 46.375 56.316A127.343 127.343 0 0 1 253.4 102.2a129.248 129.248 0 0 1 0 51.593 127.3 127.3 0 0 1-19.26 45.77 128.382 128.382 0 0 1-56.316 46.375A127.4 127.4 0 0 1 153.8 253.4 128.977 128.977 0 0 1 128 256zm0-242.287a115.145 115.145 0 0 0-23.033 2.322A113.657 113.657 0 0 0 64.1 33.232a114.622 114.622 0 0 0-41.4 50.283 113.7 113.7 0 0 0-6.659 21.452 115.4 115.4 0 0 0 0 46.065 113.66 113.66 0 0 0 17.2 40.866 114.627 114.627 0 0 0 50.282 41.407 113.75 113.75 0 0 0 21.453 6.658 115.381 115.381 0 0 0 46.065 0 113.609 113.609 0 0 0 40.866-17.2 114.622 114.622 0 0 0 41.393-50.278 113.741 113.741 0 0 0 6.659-21.453 115.4 115.4 0 0 0 0-46.065 113.662 113.662 0 0 0-17.2-40.865A114.619 114.619 0 0 0 172.485 22.7a113.74 113.74 0 0 0-21.453-6.659A115.145 115.145 0 0 0 128 13.714z"}),r&&(0,d.jsx)("image",{x:"25",y:"25",href:"/icons/tokens/".concat(r.toLowerCase(),".svg"),width:"206",height:"206"})]})]})}));function m(e){var t=e.symbol,r=e.aToken,n=(0,s.Z)(e,u);return(0,d.jsx)(i.Z,f(f({},n),{},{sx:f({display:"flex",position:"relative",borderRadius:"50%"},n.sx),children:r?(0,d.jsx)(g,{symbol:t}):(0,d.jsx)("img",{src:"/icons/tokens/".concat(t.toLowerCase(),".svg"),width:"100%",height:"100%",alt:"".concat(t," icon")})}))}function j(e){var t=e.symbols,r=e.badgeSymbol,n=(0,s.Z)(e,h);return r?(0,d.jsx)(l.Z,{badgeContent:(0,d.jsx)(m,{symbol:r,sx:{border:"1px solid #fff"},fontSize:"small"}),sx:{".MuiBadge-anchorOriginTopRight":{top:9}},children:t.map((function(e,t){return(0,c.createElement)(m,f(f({},n),{},{key:e,symbol:e,sx:f({ml:0===t?0:"calc(-1 * 0.5em)"},n.sx)}))}))}):(0,d.jsx)(a.Z,{sx:{display:"inline-flex",position:"relative"},children:t.map((function(e,t){return(0,c.createElement)(m,f(f({},n),{},{key:e,symbol:e,sx:f({ml:0===t?0:"calc(-1 * 0.5em)"},n.sx)}))}))})}function y(e){var t=e.symbol,r=(0,s.Z)(e,p),o=t.split("_");if(o.length>1){var i=(0,n.Z)(o),a=i[0],l=i.slice(1);return(0,d.jsx)(j,f(f({},r),{},{symbols:l,badgeSymbol:"/pools/"+a}))}return(0,d.jsx)(m,f({symbol:t},r))}g.displayName="ATokenIcon"},79979:function(e,t,r){"use strict";r.d(t,{S:function(){return l}});var n=r(36492),o=r(8656),s=r(34841),i=r(31001),a=r(16540),l=function(){var e=(0,a.z)().governanceWalletBalanceService,t=(0,o.Yh)((function(e){return e.currentMarketData})),r=(0,o.Yh)((function(e){return e.account}));return(0,n.a)({queryFn:function(){return e.getGovernanceTokensBalance(s.B2.coreChainId,s.B2.addresses.WALLET_BALANCE_PROVIDER,r)},queryKey:i.B.governanceTokens(r,t),enabled:!!r,refetchInterval:i.g,initialData:{aave:"0",stkAave:"0",aAave:"0"}})}},85895:function(e,t,r){"use strict";r.d(t,{c:function(){return l}});var n=r(36492),o=r(8656),s=r(34841),i=r(31001),a=r(16540),l=function(){var e=(0,a.z)().governanceService,t=(0,o.Yh)((function(e){return e.account}));return(0,n.a)({queryFn:function(){return e.getPowers(s.B2.coreChainId,t)},queryKey:i.B.powers(t,s.B2.coreChainId),enabled:!!t,refetchInterval:i.g})}},2554:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/governance",function(){return r(25224)}])},57761:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(67294),s=a(o),i=a(r(45697));function a(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.scrollListener=r.scrollListener.bind(r),r.eventListenerOptions=r.eventListenerOptions.bind(r),r.mousewheelListener=r.mousewheelListener.bind(r),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){this.pageLoaded=this.props.pageStart,this.options=this.eventListenerOptions(),this.attachScrollListener()}},{key:"componentDidUpdate",value:function(){if(this.props.isReverse&&this.loadMore){var e=this.getParentElement(this.scrollComponent);e.scrollTop=e.scrollHeight-this.beforeScrollHeight+this.beforeScrollTop,this.loadMore=!1}this.attachScrollListener()}},{key:"componentWillUnmount",value:function(){this.detachScrollListener(),this.detachMousewheelListener()}},{key:"isPassiveSupported",value:function(){var e=!1,t={get passive(){e=!0}};try{document.addEventListener("test",null,t),document.removeEventListener("test",null,t)}catch(r){}return e}},{key:"eventListenerOptions",value:function(){this.props.useCapture;return this.isPassiveSupported()?{useCapture:this.props.useCapture,passive:!0}:{passive:!1}}},{key:"setDefaultLoader",value:function(e){this.defaultLoader=e}},{key:"detachMousewheelListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.scrollComponent.parentNode),e.removeEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture)}},{key:"detachScrollListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.getParentElement(this.scrollComponent)),e.removeEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),e.removeEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture)}},{key:"getParentElement",value:function(e){var t=this.props.getScrollParent&&this.props.getScrollParent();return null!=t?t:e&&e.parentNode}},{key:"filterProps",value:function(e){return e}},{key:"attachScrollListener",value:function(){var e=this.getParentElement(this.scrollComponent);if(this.props.hasMore&&e){var t=window;!1===this.props.useWindow&&(t=e),t.addEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture),t.addEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),t.addEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture),this.props.initialLoad&&this.scrollListener()}}},{key:"mousewheelListener",value:function(e){1!==e.deltaY||this.isPassiveSupported()||e.preventDefault()}},{key:"scrollListener",value:function(){var e=this.scrollComponent,t=window,r=this.getParentElement(e),n=void 0;if(this.props.useWindow){var o=document.documentElement||document.body.parentNode||document.body,s=void 0!==t.pageYOffset?t.pageYOffset:o.scrollTop;n=this.props.isReverse?s:this.calculateOffset(e,s)}else n=this.props.isReverse?r.scrollTop:e.scrollHeight-r.scrollTop-r.clientHeight;n<Number(this.props.threshold)&&e&&null!==e.offsetParent&&(this.detachScrollListener(),this.beforeScrollHeight=r.scrollHeight,this.beforeScrollTop=r.scrollTop,"function"===typeof this.props.loadMore&&(this.props.loadMore(this.pageLoaded+=1),this.loadMore=!0))}},{key:"calculateOffset",value:function(e,t){return e?this.calculateTopPosition(e)+(e.offsetHeight-t-window.innerHeight):0}},{key:"calculateTopPosition",value:function(e){return e?e.offsetTop+this.calculateTopPosition(e.offsetParent):0}},{key:"render",value:function(){var e=this,t=this.filterProps(this.props),r=t.children,n=t.element,o=t.hasMore,i=(t.initialLoad,t.isReverse),a=t.loader,l=(t.loadMore,t.pageStart,t.ref),c=(t.threshold,t.useCapture,t.useWindow,t.getScrollParent,function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(t,["children","element","hasMore","initialLoad","isReverse","loader","loadMore","pageStart","ref","threshold","useCapture","useWindow","getScrollParent"]));c.ref=function(t){e.scrollComponent=t,l&&l(t)};var d=[r];return o&&(a?i?d.unshift(a):d.push(a):this.defaultLoader&&(i?d.unshift(this.defaultLoader):d.push(this.defaultLoader))),s.default.createElement(n,c,d)}}]),t}(o.Component);l.propTypes={children:i.default.node.isRequired,element:i.default.node,hasMore:i.default.bool,initialLoad:i.default.bool,isReverse:i.default.bool,loader:i.default.node,loadMore:i.default.func.isRequired,pageStart:i.default.number,ref:i.default.func,getScrollParent:i.default.func,threshold:i.default.number,useCapture:i.default.bool,useWindow:i.default.bool},l.defaultProps={element:"div",hasMore:!1,initialLoad:!0,pageStart:0,ref:null,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null,getScrollParent:null},t.default=l,e.exports=t.default},246:function(e,t,r){e.exports=r(57761)}},function(e){e.O(0,[6146,7529,4653,4625,7715,2284,861,9929,4815,1430,9774,2888,179],(function(){return t=2554,e(e.s=t);var t}));var t=e.O();_N_E=t}]);