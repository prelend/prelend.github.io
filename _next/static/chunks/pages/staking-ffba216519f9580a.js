(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8879],{62434:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return fe}});var r=n(17674),i=n(49501),o=n(75331),a=n(30120),s=n(29630),c=n(79072),l=n(5151),d=n(56371),u=n(5152),x=n(67294),h=n(59499),p=n(4730),m=n(70918),f=n(90149),v=n(41024),j=n(72667),b=n(77912),k=n(8656),y=n(85893),g=function(e){var t,n,o,c,l,d,u=e.stakedToken,x=e.icon,h=(0,k.Yh)((function(e){return e.currentMarketData})),p="",m=(0,b.I)(h).data;if(m&&Array.isArray(m.stakeData)){var f=(0,r.Z)(m.stakeData,3);c=f[0],l=f[1],d=f[2]}return"AAVE"==u&&(p=(null===(t=c)||void 0===t?void 0:t.stakeApy)||"0"),"ABPT"==u&&(p=(null===(n=l)||void 0===n?void 0:n.stakeApy)||"0"),"GHO"==u&&(p=(null===(o=d)||void 0===o?void 0:o.stakeApy)||"0"),(0,y.jsxs)(a.Z,{sx:function(e){return{display:"flex",justifyContent:"space-between",alignItems:"center",flexDirection:"row",borderRadius:"6px",border:"1px solid ".concat(e.palette.divider),p:4,background:e.palette.background.paper,width:"250px",height:"68px",margin:"0 auto",position:"relative","&:after":{content:"''",position:"absolute",bottom:0,left:"0px",width:"calc(100% + 32px)",height:"1px",bgcolor:"transparent"}}},children:[(0,y.jsxs)(a.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,y.jsx)(j.T1,{symbol:x}),(0,y.jsx)(s.Z,{variant:"subheader1",color:"text.primary",ml:2,children:u})]}),(0,y.jsxs)(a.Z,{sx:{display:"block",width:{xs:"100%",xsm:"unset"},justifyContent:"space-between",alignItems:"center"},children:[(0,y.jsx)(s.Z,{variant:"subheader2",color:"text.secondary",children:(0,y.jsx)(i.cC,{id:"Staking APR"})}),(0,y.jsx)(v.B,{value:parseFloat(p||"0")/1e4,percent:!0,variant:"secondary14",color:"text.primary"})]})]})},w=n(3765),C=["loading","description","sx"];function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=function(e){var t=e.loading,n=e.description,r=e.sx,o=(0,p.Z)(e,C);return(0,y.jsx)(m.Z,Z(Z({},o),{},{sx:Z({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",p:4,flex:1},r),children:(0,y.jsx)(y.Fragment,{children:t?(0,y.jsx)(f.Z,{}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(s.Z,{variant:"h2",sx:{mb:2},children:(0,y.jsx)(i.cC,{id:"Please, connect your wallet"})}),(0,y.jsx)(s.Z,{sx:{mb:6},color:"text.secondary",children:n||(0,y.jsx)(i.cC,{id:"Please connect your wallet to see your supplies, borrowings, and open positions."})}),(0,y.jsx)(w.p,{funnel:"Staking page"}),(0,y.jsxs)(c.ZP,{container:!0,spacing:1,pt:6,sx:{maxWidth:"758px",textAlign:"right"},children:[(0,y.jsx)(c.ZP,{item:!0,xs:12,md:4,children:(0,y.jsx)(g,{stakedToken:"GHO",icon:"gho"})}),(0,y.jsx)(c.ZP,{item:!0,xs:12,md:4,children:(0,y.jsx)(g,{stakedToken:"AAVE",icon:"aave"})}),(0,y.jsx)(c.ZP,{item:!0,xs:12,md:4,children:(0,y.jsx)(g,{stakedToken:"ABPT",icon:"bpt"})})]})]})})}))},S=n(15446),P=n(34637),T=n(59379),E=n(60265),D=n(8195),B=n(39452),I=n(90290),R=n(75084),_=n(41528),U=n(57609),L=n(56365),N=n(81645),V=n(31959),G=function(e){var t=e.open,n=e.close,r=(0,k.Yh)((function(e){return e.trackEvent}));return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(V.P,{open:t,setOpen:n,children:[(0,y.jsx)(s.Z,{variant:"h2",children:(0,y.jsx)(i.cC,{id:"Get ABP Token"})}),(0,y.jsx)(s.Z,{sx:{my:6},children:(0,y.jsx)(i.cC,{id:"The Aave Balancer Pool Token (ABPT) is a liquidity pool token. You can receive ABPT by depositing a combination of AAVE + ETH in the Balancer liquidity pool. You can then stake your BPT in the Safety Module to secure the protocol and earn Safety Incentives."})}),(0,y.jsx)(R.Z,{variant:"outlined",size:"large",endIcon:(0,y.jsx)(N.Z,{children:(0,y.jsx)(L.Z,{})}),fullWidth:!0,sx:{px:4},href:"https://pools.balancer.exchange/#/pool/0xc697051d1c6296c24ae3bcef39aca743861d9a81/",target:"_blank",rel:"noopener",onClick:function(){return r(U.vh.EXTERNAL_LINK,{Link:"Get APBT Tokens"})},children:(0,y.jsxs)(a.Z,{sx:{display:"flex",flexGrow:1},children:[(0,y.jsx)(j.T1,{symbol:"BAL",sx:{mr:2}}),(0,y.jsx)(i.cC,{id:"Go to Balancer Pool"})]})})]})})},M=function(){var e=(0,x.useState)(null),t=e[0],n=e[1],r=Boolean(t),o=(0,k.Yh)((function(e){return e.trackEvent}));return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(_.y,{title:"Get ABP tokens to stake within the Aave Protocol",children:(0,y.jsx)(R.Z,{variant:"outlined",size:"small",onClick:function(e){o(U.vh.EXTERNAL_LINK,{Link:"Get ABPT Tokens"}),n(e.currentTarget)},"data-cy":"getAbp-token",startIcon:(0,y.jsx)(a.Z,{sx:{mr:-1},children:(0,y.jsx)(j.T1,{symbol:"BAL",sx:{fontSize:"14px"}})}),children:(0,y.jsx)(i.cC,{id:"Get ABP Token"})})}),(0,y.jsx)(G,{open:r,close:function(){n(null)}})]})},F=n(62097),H=n(61225),W=n(28533),K=n(74815),z=n(68861),Y=n(87369),X=function(e){var t=e.tvl,n=e.stkEmission,r=e.loading,c=(0,F.Z)(),l=(0,H.Z)(c.breakpoints.up("lg")),d=(0,H.Z)(c.breakpoints.down("sm")),u=(0,H.Z)(c.breakpoints.down("xsm")),x=d?"main16":"main21",h=d?"secondary16":"secondary21",p=(0,k.Yh)((function(e){return e.trackEvent}));return(0,y.jsxs)(K.f,{titleComponent:(0,y.jsxs)(a.Z,{mb:4,children:[(0,y.jsx)(W.Z,{wrapperSx:{mb:4},chainId:o.a_.mainnet}),(0,y.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",mb:4},children:[(0,y.jsx)("img",{src:"/aave.svg",width:"32px",height:"32px",alt:""}),(0,y.jsx)(s.Z,{variant:u?"h2":l?"display1":"h1",sx:{ml:2,mr:3},children:(0,y.jsx)(i.cC,{id:"Staking"})})]}),(0,y.jsxs)(s.Z,{sx:{color:"#8E92A3",maxWidth:"824px"},children:[(0,y.jsx)(i.cC,{id:"AAVE, GHO, and ABPT holders (Ethereum network only) can stake their assets in the Safety Module to add more security to the protocol and earn Safety Incentives. In the case of a shortfall event, your stake can be slashed to cover the deficit, providing an additional layer of protection for the protocol."})," ",(0,y.jsx)(z.rU,{href:"https://docs.aave.com/faq/migration-and-staking",sx:{textDecoration:"underline",color:"#8E92A3"},onClick:function(){return p(U.vh.EXTERNAL_LINK,{Link:"Staking Risks"})},children:(0,y.jsx)(i.cC,{id:"Learn more about risks involved"})})]})]}),children:[(0,y.jsx)(Y.d,{hideIcon:!0,title:(0,y.jsx)(i.cC,{id:"Funds in the Safety Module"}),loading:r,children:(0,y.jsx)(v.B,{value:t||0,symbol:"USD",variant:x,symbolsVariant:h,symbolsColor:"#A5A8B6",visibleDecimals:2})}),(0,y.jsx)(Y.d,{hideIcon:!0,title:(0,y.jsx)(i.cC,{id:"Total emission per day"}),loading:r,children:(0,y.jsx)(v.B,{value:n||0,symbol:"AAVE",variant:x,symbolsVariant:h,symbolsColor:"#A5A8B6",visibleDecimals:2})})]})},q=n(1279),$=n(71722),J=n(9144),Q=n(2593),ee=n(58527),te=n(43478),ne=n(63206),re=n(51183),ie=n(57014),oe=function(){var e,t=(0,F.Z)().breakpoints,n=(0,H.Z)(t.down("xsm")),r=(0,k.Yh)((function(e){return e.currentMarket})),o=null===(e=ie.w[ie.e.proto_blast_sepolia_v3].addresses.GHO_TOKEN_ADDRESS)||void 0===e?void 0:e.toLowerCase();return(0,y.jsx)(a.Z,{sx:{overflow:"hidden",height:{xs:132,xsm:124},display:"flex"},children:(0,y.jsxs)(a.Z,{sx:{width:"100%",marginTop:"auto",p:4,borderRadius:{xs:0,xsm:4},display:"flex",flexDirection:"column",alignItems:{xs:"flex-start",xsm:"center"},height:{xs:120,xsm:104},backgroundColor:"#9C93B338",position:"relative"},children:[(0,y.jsx)(a.Z,{component:"img",src:"/illustration_token.png",sx:{position:"absolute",left:-40,top:-33,width:250,height:250,overflow:"hidden",display:{xs:"none",xsm:"block"},transform:"matrix(1, -0.14, 0.14, 1, 0, 0)"},width:220,height:220,alt:"gho coin"}),(0,y.jsxs)(a.Z,{display:"flex",flexDirection:"column",alignItems:["flex-start","center"],gap:3,children:[(0,y.jsx)(s.Z,{variant:"subheader1",color:"text.primary",width:["221px","300px"],textAlign:["left","center"],children:n?(0,y.jsx)(i.cC,{id:"stkAAVE holders get a discount on GHO borrow rate"}):(0,y.jsx)(i.cC,{id:"Holders of stkAAVE receive a discount on the GHO borrowing rate"})}),(0,y.jsxs)(R.Z,{variant:"contained",component:z.rU,href:z.Z6.reserveOverview(o,r),size:n?"medium":"small",sx:{alignItems:"center",display:"flex",gap:[2,1]},children:[(0,y.jsx)(i.cC,{id:"{0}",values:{0:n?"View details":"VIEW DETAILS"}}),(0,y.jsx)(re.Z,{width:n?20:12,height:n?20:12})]})]}),(0,y.jsx)(a.Z,{component:"img",src:"/illustration_friendly_ghost.png",sx:{position:"absolute",right:[-200,-190],bottom:[-265,-270],overflow:"hidden",transform:"scaleY(0.5) scaleX(0.5)"},alt:"gho ghost"})]})})},ae=n(92391),se=function(e){var t=e.title,n=e.value,r=e.valueUSD,i=e.children,o=e.bottomLineTitle,c=e.bottomLineComponent,l=e.gradientBorder,d=e.dataCy,u=e.cooldownAmount;return(0,y.jsx)(a.Z,{sx:function(e){return{flex:1,display:"flex",borderRadius:"6px",border:"1px solid ".concat(e.palette.divider),position:"relative","&:after":{content:"''",borderRadius:"6px",position:"absolute",top:-1,bottom:-1,left:-1,right:-1,background:l?e.palette.gradients.aaveGradient:"transparent"}}},children:(0,y.jsxs)(a.Z,{sx:function(e){return{flex:1,p:4,display:"flex",alignItems:"center",flexDirection:"column",borderRadius:"6px",background:e.palette.background.paper,position:"relative",zIndex:2}},"data-cy":d,children:[(0,y.jsxs)(a.Z,{sx:{mb:6,display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,y.jsx)(s.Z,{mb:1,color:"text.secondary",children:t}),(0,y.jsx)(v.B,{value:n,visibleDecimals:2,variant:"secondary21",color:0===+n?"text.muted":"text.primary","data-cy":"amountNative"}),(0,y.jsx)(v.B,{value:r,symbol:"USD",visibleDecimals:2,variant:"secondary12",color:0===+r?"text.muted":"text.secondary",symbolsColor:0===+r?"text.muted":"text.secondary","data-cy":"amountUSD"})]}),(0,y.jsx)(a.Z,{sx:{width:"100%",mb:2},children:i}),(0,y.jsx)(ae.X,{caption:o,captionVariant:"caption",captionColor:"text.secondary",width:"100%",children:c}),u]})})};function ce(e){var t=function(e){return{d:Math.floor(e/86400),h:Math.floor(e%86400/3600),m:Math.floor(e%3600/60),s:Math.floor(e%60)}}(e.seconds),n=t.d,r=t.h,o=t.m,a=t.s;return(0,y.jsxs)(y.Fragment,{children:[0!==n&&(0,y.jsx)("span",{children:(0,y.jsx)(i.cC,{id:"{d}d",values:{d:n}})}),0!==r&&(0,y.jsx)("span",{children:(0,y.jsx)(i.cC,{id:"{h}h",values:{h:r}})}),0!==o&&(0,y.jsx)("span",{children:(0,y.jsx)(i.cC,{id:"{m}m",values:{m:o}})}),0!==a&&(0,y.jsx)("span",{children:(0,y.jsx)(i.cC,{id:"{s}s",values:{s:a}})})]})}var le=function(e){var t=e.onStakeAction,n=e.onStakeRewardClaimAction,r=e.onStakeRewardClaimRestakeAction,c=e.onCooldownAction,l=e.onUnstakeAction,u=e.stakeTitle,x=e.stakedToken,h=e.description,p=e.headerAction,f=e.icon,b=e.stakeData,k=e.stakeUserData,g=e.maxSlash,w=e.hasDiscountProgram,C=(0,F.Z)().breakpoints,A=(0,H.Z)(C.up("xsm")),Z=(0,te.p)(1),O=(0,D.vR)().openSwitch,S=(null===b||void 0===b?void 0:b.stakeCooldownSeconds)||0,P=(null===k||void 0===k?void 0:k.userCooldownTimestamp)||0,T=(null===b||void 0===b?void 0:b.stakeUnstakeWindow)||0,E=Z-P,B=E<S+T,I=B&&E>S&&E<T+S,L=(0,d.formatEther)(Q.O$.from((null===k||void 0===k?void 0:k.underlyingTokenUserBalance)||"0")),V=B&&Q.O$.from((null===k||void 0===k?void 0:k.stakeTokenRedeemableAmount)||0).gt((null===k||void 0===k?void 0:k.userCooldownAmount)||0),G=(0,d.formatUnits)(Q.O$.from((null===k||void 0===k?void 0:k.stakeTokenRedeemableAmount)||"0").mul((null===b||void 0===b?void 0:b.stakeTokenPriceUSD)||"0"),26),M=(0,d.formatUnits)(Q.O$.from((null===k||void 0===k?void 0:k.userIncentivesToClaim)||"0").mul((null===b||void 0===b?void 0:b.rewardTokenPriceUSD)||"0"),26),W=(0,d.formatEther)((0,q.hE)((null===k||void 0===k?void 0:k.stakeTokenRedeemableAmount)||"0").dividedBy((null===b||void 0===b?void 0:b.stakeTokenTotalSupply)||"1").multipliedBy((null===b||void 0===b?void 0:b.distributionPerSecond)||"0").multipliedBy("2592000").toFixed(0));return(0,y.jsxs)(m.Z,{sx:{p:{xs:4,xsm:6},pt:4,height:"100%"},children:[(0,y.jsxs)(a.Z,{sx:{display:{xs:"none",xsm:"flex"},alignItems:"center",mb:8},children:[(0,y.jsxs)(s.Z,{variant:"h3",children:[(0,y.jsx)(i.cC,{id:"Stake"})," ",u]}),p&&(0,y.jsx)(a.Z,{sx:{ml:3},children:p})]}),(0,y.jsxs)(a.Z,{sx:function(e){return{display:"flex",justifyContent:"space-between",alignItems:{xs:"flex-start",xsm:"center"},flexDirection:{xs:"column",xsm:"row"},gap:{xs:0,xsm:2},borderRadius:{xs:0,xsm:"6px"},border:{xs:"unset",xsm:"1px solid ".concat(e.palette.divider)},p:{xs:0,xsm:4},background:{xs:"unset",xsm:e.palette.background.paper},position:"relative","&:after":{content:"''",position:"absolute",bottom:0,left:"-16px",width:"calc(100% + 32px)",height:"1px",bgcolor:{xs:"divider",xsm:"transparent"}}}},children:[(0,y.jsxs)(a.Z,{sx:{display:"flex",width:{xs:"100%",xsm:"unset"},justifyContent:"space-between",alignItems:"center",mb:{xs:3,xsm:0}},children:[(0,y.jsx)(j.T1,{symbol:f,sx:{fontSize:{xs:"40px",xsm:"32px"}}}),(0,y.jsx)(s.Z,{variant:A?"subheader1":"h4",ml:2,children:x}),p&&(0,y.jsx)(a.Z,{sx:{display:{xs:"block",xsm:"none"},textAlign:"right",flexGrow:1},children:p})]}),(0,y.jsxs)(a.Z,{sx:{display:{xs:"flex",xsm:"block"},width:{xs:"100%",xsm:"unset"},justifyContent:"space-between",alignItems:"center",mb:{xs:3,xsm:0}},children:[(0,y.jsx)(s.Z,{variant:A?"subheader2":"description",color:A?"text.secondary":"text.primary",children:(0,y.jsx)(i.cC,{id:"Staking APR"})}),(0,y.jsx)(v.B,{value:parseFloat((null===b||void 0===b?void 0:b.stakeApy)||"0")/1e4,percent:!0,variant:"secondary14"})]}),(0,y.jsxs)(a.Z,{sx:{display:{xs:"flex",xsm:"block"},width:{xs:"100%",xsm:"unset"},justifyContent:"space-between",alignItems:"center",mb:{xs:3,xsm:0}},children:[(0,y.jsx)(s.Z,{variant:A?"subheader2":"description",color:A?"text.secondary":"text.primary",children:(0,y.jsx)(i.cC,{id:"Max slashing"})}),(0,y.jsx)(v.B,{value:g,percent:!0,variant:"secondary14"})]}),(0,y.jsxs)(a.Z,{sx:{display:{xs:"flex",xsm:"block"},width:{xs:"100%",xsm:"unset"},justifyContent:"space-between",alignItems:"center",mb:{xs:3,xsm:0}},children:[(0,y.jsx)(s.Z,{variant:A?"subheader2":"description",color:A?"text.secondary":"text.primary",children:(0,y.jsx)(i.cC,{id:"Wallet Balance"})}),(0,y.jsx)(v.B,{value:L.toString()})]}),"GHO"===x&&0===+L?(0,y.jsx)(R.Z,{variant:"contained",sx:{minWidth:"96px",mb:{xs:6,xsm:0}},onClick:function(){O("",o.a_.mainnet)},fullWidth:!A,"data-cy":"stakeBtn_".concat(x.toUpperCase()),children:(0,y.jsx)(i.cC,{id:"Get GHO"})}):(0,y.jsx)(R.Z,{variant:"contained",sx:{minWidth:"96px",mb:{xs:6,xsm:0}},onClick:t,disabled:0===+L,fullWidth:!A,"data-cy":"stakeBtn_".concat(x.toUpperCase()),children:(0,y.jsx)(i.cC,{id:"Stake"})})]}),(0,y.jsxs)(J.Z,{spacing:4,direction:{xs:"column",xsm:"row"},sx:{mt:4,alignItems:{xsm:"start"}},children:[(0,y.jsxs)(se,{title:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(i.cC,{id:"Staked"})," ",x]}),value:(0,d.formatEther)((null===k||void 0===k?void 0:k.stakeTokenRedeemableAmount)||"0"),valueUSD:G,dataCy:"stakedBox_".concat(x),bottomLineTitle:(0,y.jsx)(ee.G,{variant:"caption",text:B&&!I?(0,y.jsx)(i.cC,{id:"Cooldown time left"}):I?(0,y.jsx)(i.cC,{id:"Time left to unstake"}):(0,y.jsx)(i.cC,{id:"Cooldown period"}),event:{eventName:U.vh.TOOL_TIP,eventParams:{tooltip:"Staking cooldown",funnel:"Staking Page",assetName:x}},children:(0,y.jsx)(y.Fragment,{children:B&&!I?(0,y.jsx)(i.cC,{id:"Time left to be able to withdraw your staked asset."}):I?(0,y.jsx)(i.cC,{id:"Time left until the withdrawal window closes."}):(0,y.jsx)(i.cC,{id:"You can only withdraw your assets from the Security Module after the cooldown period ends and the unstake window is active."})})}),bottomLineComponent:(0,y.jsx)(y.Fragment,{children:B&&!I?(0,y.jsx)(s.Z,{variant:"secondary14",sx:{display:"inline-flex",gap:1},children:(0,y.jsx)(ce,{seconds:S-E})}):I?(0,y.jsx)(s.Z,{variant:"secondary14",sx:{display:"inline-flex",gap:1},children:(0,y.jsx)(ce,{seconds:T+S-E})}):(0,y.jsx)(s.Z,{variant:"secondary14",children:(0,y.jsx)(ce,{seconds:S})})}),cooldownAmount:B||I?(0,y.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between",pt:2},children:[(0,y.jsx)(s.Z,{variant:"caption",color:"text.secondary",children:(0,y.jsx)(i.cC,{id:"Amount in cooldown"})}),(0,y.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,y.jsx)(j.T1,{symbol:f,sx:{mr:1,width:14,height:14}}),(0,y.jsx)(v.B,{value:(0,d.formatEther)((null===k||void 0===k?void 0:k.userCooldownAmount)||0),variant:"secondary14",color:"text.primary"})]})]}):(0,y.jsx)(y.Fragment,{}),gradientBorder:I,children:[I&&(0,y.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,y.jsx)(R.Z,{variant:"gradient",fullWidth:!0,onClick:l,"data-cy":"unstakeBtn_".concat(x),children:(0,y.jsx)(i.cC,{id:"Unstake now"})}),V&&(0,y.jsx)(_.y,{title:(0,y.jsx)(s.Z,{variant:"caption",color:"common.white",sx:{textAlign:"center",width:"162px"},children:(0,y.jsx)(i.cC,{id:"Reactivate cooldown period to unstake {0} {stakedToken}",values:{0:Number((0,d.formatEther)((null===k||void 0===k?void 0:k.stakeTokenRedeemableAmount)||0)).toFixed(2),stakedToken:x}})}),children:(0,y.jsx)(R.Z,{variant:"outlined","data-cy":"reCoolDownBtn_".concat(x),sx:{ml:1,height:"36px",width:"36px",minWidth:"36px"},onClick:c,children:(0,y.jsx)(N.Z,{sx:{width:20,height:20},children:(0,y.jsx)($.Z,{})})})})]}),B&&!I&&(0,y.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,y.jsx)(R.Z,{variant:"outlined",fullWidth:!0,disabled:!0,"data-cy":"awaitCoolDownBtn_".concat(x),sx:{height:"36px"},children:(0,y.jsx)(i.cC,{id:"Cooling down..."})}),V&&(0,y.jsx)(_.y,{title:(0,y.jsx)(s.Z,{variant:"caption",color:"common.white",sx:{textAlign:"center",width:"162px"},children:(0,y.jsx)(i.cC,{id:"Reactivate cooldown period to unstake {0} {stakedToken}",values:{0:Number((0,d.formatEther)((null===k||void 0===k?void 0:k.stakeTokenRedeemableAmount)||0)).toFixed(2),stakedToken:x}})}),children:(0,y.jsx)(R.Z,{variant:"outlined","data-cy":"reCoolDownBtn_".concat(x),sx:{ml:1,height:"36px",width:"36px",minWidth:"36px"},onClick:c,children:(0,y.jsx)(N.Z,{sx:{width:20,height:20},children:(0,y.jsx)($.Z,{})})})})]}),!B&&(0,y.jsx)(R.Z,{variant:"outlined",fullWidth:!0,onClick:c,disabled:"0"===(null===k||void 0===k?void 0:k.stakeTokenRedeemableAmount),"data-cy":"coolDownBtn_".concat(x),children:(0,y.jsx)(i.cC,{id:"Cooldown to unstake"})})]}),(0,y.jsx)(se,{title:(0,y.jsx)(i.cC,{id:"Claimable AAVE"}),value:(0,d.formatEther)((null===k||void 0===k?void 0:k.userIncentivesToClaim)||"0"),valueUSD:M,bottomLineTitle:(0,y.jsx)(i.cC,{id:"Aave per month"}),dataCy:"rewardBox_".concat(x),bottomLineComponent:(0,y.jsx)(v.B,{value:W,visibleDecimals:2,variant:"secondary14",color:0===+W?"text.disabled":"text.primary"}),children:(0,y.jsxs)(a.Z,{sx:{display:"flex",flexDirection:{sm:"row",xs:"column"},justifyContent:"space-between"},children:[(0,y.jsx)(R.Z,{variant:"contained",onClick:n,disabled:"0"===(null===k||void 0===k?void 0:k.userIncentivesToClaim),"data-cy":"claimBtn_".concat(x),sx:{flex:1,mb:{xs:2,sm:0},mr:{xs:0,sm:1}},children:(0,y.jsx)(i.cC,{id:"Claim"})}),"AAVE"===x&&(0,y.jsx)(R.Z,{variant:"contained",onClick:r,disabled:"0"===(null===k||void 0===k?void 0:k.userIncentivesToClaim),"data-cy":"restakeBtn_".concat(x),style:{flex:1},children:(0,y.jsx)(i.cC,{id:"Restake"})})]})})]}),!!h&&h,w&&(0,y.jsx)(a.Z,{sx:{mt:{xs:"20px",xsm:"36px"},px:{xsm:6},width:ne.aV||ne.p8?{xs:"100%",lg:"50%"}:"100%",marginX:"auto"},children:(0,y.jsx)(oe,{})})]})},de=n(77537),ue=(0,u.default)((function(){return Promise.all([n.e(7603),n.e(3793),n.e(1573),n.e(7195),n.e(9388)]).then(n.bind(n,89388)).then((function(e){return e.StakeModal}))}),{loadableGenerated:{webpack:function(){return[89388]}}}),xe=(0,u.default)((function(){return Promise.all([n.e(1245),n.e(3793),n.e(8236)]).then(n.bind(n,59904)).then((function(e){return e.StakeCooldownModal}))}),{loadableGenerated:{webpack:function(){return[59904]}}}),he=(0,u.default)((function(){return Promise.all([n.e(7603),n.e(3793),n.e(7811)]).then(n.bind(n,56737)).then((function(e){return e.StakeRewardClaimModal}))}),{loadableGenerated:{webpack:function(){return[56737]}}}),pe=(0,u.default)((function(){return Promise.all([n.e(7603),n.e(3793),n.e(1573),n.e(7195),n.e(8345)]).then(n.bind(n,58345)).then((function(e){return e.StakeRewardClaimRestakeModal}))}),{loadableGenerated:{webpack:function(){return[58345]}}}),me=(0,u.default)((function(){return Promise.all([n.e(7603),n.e(3793),n.e(4053)]).then(n.bind(n,8740)).then((function(e){return e.UnStakeModal}))}),{loadableGenerated:{webpack:function(){return[8740]}}});function fe(){var e,t,n,u,h,p,m,f,v,j,g,w,C,A,Z,B=(0,de.Z)(),R=B.currentAccount,_=B.loading,U=B.chainId,L=(0,k.Yh)((function(e){return e.currentMarketData})),N=(0,E.f)(L),V=N.data,G=N.isLoading,F=(0,b.I)(L),H=F.data,W=F.isLoading;if(H&&Array.isArray(H.stakeData)){var K=(0,r.Z)(H.stakeData,3);j=K[0],g=K[1],w=K[2]}if(V&&Array.isArray(V.stakeUserData)){var z=(0,r.Z)(V.stakeUserData,3);C=z[0],A=z[1],Z=z[2]}var Y=G||W,q=(0,D.vR)(),$=q.openStake,J=q.openStakeCooldown,Q=q.openUnstake,ee=q.openStakeRewardsClaim,te=q.openStakeRewardsRestakeClaim,re=(0,x.useState)(o.hj.aave),ie=re[0],oe=re[1],ae=(0,ne.Mo)(U).name,se=(0,k.Yh)((function(e){return e.trackEvent}));(0,x.useEffect)((function(){se("Page Viewed",{"Page Name":"Staking"})}),[se]);var ce=(0,d.formatUnits)(l.BigNumber.from((null===(e=j)||void 0===e?void 0:e.stakeTokenTotalSupply)||"0").mul((null===(t=j)||void 0===t?void 0:t.stakeTokenPriceUSD)||"0").add(l.BigNumber.from((null===(n=g)||void 0===n?void 0:n.stakeTokenTotalSupply)||"0").mul((null===(u=g)||void 0===u?void 0:u.stakeTokenPriceUSD)||"0")).add(l.BigNumber.from((null===(h=w)||void 0===h?void 0:h.stakeTokenTotalSupply)||"0").mul((null===(p=w)||void 0===p?void 0:p.stakeTokenPriceUSD)||"0")),26),ue=(0,d.formatEther)(l.BigNumber.from((null===(m=j)||void 0===m?void 0:m.distributionPerSecond)||"0").add((null===(f=g)||void 0===f?void 0:f.distributionPerSecond)||"0").add((null===(v=w)||void 0===v?void 0:v.distributionPerSecond)||"0").mul("86400")),xe="aave"===ie,he="gho"===ie,pe="bpt"===ie;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(X,{tvl:ce,stkEmission:ue,loading:Y}),(0,y.jsx)(S.O,{children:R?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(a.Z,{sx:{display:{xs:"flex",lg:"none"},justifyContent:{xs:"center",xsm:"flex-start"},mb:{xs:3,xsm:4}},children:(0,y.jsxs)(T.Z,{color:"primary",value:ie,exclusive:!0,onChange:function(e,t){return oe(t)},sx:{width:{xs:"100%",xsm:"359px"}},children:[(0,y.jsx)(P.Z,{value:"aave",disabled:"aave"===ie,children:(0,y.jsx)(s.Z,{variant:"subheader1",children:(0,y.jsx)(i.cC,{id:"Stake AAVE"})})}),(0,y.jsx)(P.Z,{value:"gho",disabled:"gho"===ie,children:(0,y.jsx)(s.Z,{variant:"subheader1",children:(0,y.jsx)(i.cC,{id:"Stake GHO"})})}),(0,y.jsx)(P.Z,{value:"bpt",disabled:"bpt"===ie,children:(0,y.jsx)(s.Z,{variant:"subheader1",children:(0,y.jsx)(i.cC,{id:"Stake ABPT"})})})]})}),(0,y.jsxs)(c.ZP,{container:!0,spacing:4,children:[(0,y.jsx)(c.ZP,{item:!0,xs:12,lg:ne.aV||ne.p8?12:6,sx:{display:{xs:xe?"block":"none",lg:"block"}},children:(0,y.jsx)(le,{stakeTitle:"AAVE",stakedToken:"AAVE",maxSlash:"0.3",icon:"aave",stakeData:j,stakeUserData:C,onStakeAction:function(){return $(o.hj.aave,"AAVE")},onCooldownAction:function(){return J(o.hj.aave)},onUnstakeAction:function(){return Q(o.hj.aave,"AAVE")},onStakeRewardClaimAction:function(){return ee(o.hj.aave,"AAVE")},onStakeRewardClaimRestakeAction:function(){return te(o.hj.aave,"AAVE")},headerAction:(0,y.jsx)(I.f,{cryptoSymbol:"AAVE",networkMarketName:ae}),hasDiscountProgram:!0})}),(0,y.jsx)(c.ZP,{item:!0,xs:12,lg:6,sx:{display:{xs:he?"block":"none",lg:"block"}},children:(0,y.jsx)(le,{stakeTitle:"GHO",stakedToken:"GHO",maxSlash:"0.99",icon:"gho",stakeData:w,stakeUserData:Z,ethPriceUsd:null===H||void 0===H?void 0:H.ethPriceUsd,onStakeAction:function(){return $(o.hj.gho,"GHO")},onCooldownAction:function(){return J(o.hj.gho)},onUnstakeAction:function(){return Q(o.hj.gho,"GHO")},onStakeRewardClaimAction:function(){return ee(o.hj.gho,"AAVE")}})}),(0,y.jsx)(c.ZP,{item:!0,xs:12,lg:6,sx:{display:{xs:pe?"block":"none",lg:"block"}},children:(0,y.jsx)(le,{stakeTitle:"ABPT",stakedToken:"ABPT",maxSlash:"0.3",icon:"stkbpt",stakeData:g,stakeUserData:A,ethPriceUsd:null===H||void 0===H?void 0:H.ethPriceUsd,onStakeAction:function(){return $(o.hj.bpt,"stkBPT")},onCooldownAction:function(){return J(o.hj.bpt)},onUnstakeAction:function(){return Q(o.hj.bpt,"stkBPT")},onStakeRewardClaimAction:function(){return ee(o.hj.bpt,"AAVE")},headerAction:(0,y.jsx)(M,{})})})]})]}):(0,y.jsx)(O,{description:(0,y.jsx)(i.cC,{id:"We couldn\u2019t detect a wallet. Connect a wallet to stake and view your balance."}),loading:_})})]})}fe.getLayout=function(e){return(0,y.jsxs)(B.Z,{children:[e,(0,y.jsx)(ue,{}),(0,y.jsx)(xe,{}),(0,y.jsx)(me,{}),(0,y.jsx)(he,{}),(0,y.jsx)(pe,{})]})}},28533:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(59499),i=n(49501),o=n(75331),a=n(30120),s=n(29630),c=n(91555),l=n(85893);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(e,t){return e===o.a_.mainnet?"Ethereum Mainnet":t.name},h=function(e){var t=e.chainId,n=e.wrapperSx,r=c.m[t];return(0,l.jsxs)(a.Z,{sx:u({display:"flex",alignItems:"center"},n),children:[(0,l.jsx)(s.Z,{variant:"subheader2",sx:{mr:2,color:"#C0CBF6"},children:(0,l.jsx)(i.cC,{id:"Available on"})}),(0,l.jsx)(a.Z,{sx:{height:16,width:16},children:(0,l.jsx)("img",{src:r.networkLogoPath,height:"100%",width:"100%",alt:"Ethereum Mainnet"})}),(0,l.jsx)(s.Z,{variant:"subheader2",sx:{ml:1,color:"#C0CBF6"},children:x(t,r)})]})}},92391:function(e,t,n){"use strict";n.d(t,{X:function(){return u}});var r=n(59499),i=n(4730),o=n(30120),a=n(29630),s=n(85893),c=["caption","children","captionVariant","captionColor","align"];function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){var t=e.caption,n=e.children,r=e.captionVariant,l=void 0===r?"secondary16":r,u=e.captionColor,x=e.align,h=void 0===x?"center":x,p=(0,i.Z)(e,c);return(0,s.jsxs)(o.Z,d(d({},p),{},{sx:d({display:"flex",alignItems:h,justifyContent:"space-between"},p.sx),children:[t&&(0,s.jsx)(a.Z,{component:"div",variant:l,color:u,sx:{mr:2},children:t}),n]}))}},88793:function(e,t,n){"use strict";n.d(t,{T8:function(){return p},Z5:function(){return m},Mw:function(){return f}});var r=n(75331),i=n(84568).X.tokens,o=i.aave,a=o.TOKEN_STAKING,s=o.TOKEN_ORACLE,c=i.bpt,l=c.TOKEN_STAKING,d=c.TOKEN_ORACLE,u=i.gho,x=u.TOKEN_STAKING,h=u.TOKEN_ORACLE,p=[a,l,x],m=[s,d,h];function f(e){switch(e){case r.hj.aave:return 0;case r.hj.bpt:return 1;case r.hj.gho:return 2}}},77912:function(e,t,n){"use strict";n.d(t,{I:function(){return d}});var r=n(59499),i=n(36492),o=n(31001),a=n(16540),s=n(88793);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e,t){var n=(0,a.z)().uiStakeDataService;return(0,i.a)({queryFn:function(){return n.getGeneralStakeUIDataHumanized(e,s.T8,s.Z5)},queryKey:o.B.generalStakeUiData(e,s.T8,s.Z5),refetchInterval:o.g,select:function(e){return e&&t?l(l({},e),{},{stakeData:[e.stakeData[(0,s.Mw)(t)]]}):e}})}},60265:function(e,t,n){"use strict";n.d(t,{f:function(){return u}});var r=n(59499),i=n(36492),o=n(8656),a=n(31001),s=n(16540),c=n(88793);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e,t){var n=(0,s.z)().uiStakeDataService,r=(0,o.Yh)((function(e){return e.account}));return(0,i.a)({queryFn:function(){return n.getUserStakeUIDataHumanized(e,r,c.T8,c.Z5)},queryKey:a.B.userStakeUiData(r,e,c.T8,c.Z5),enabled:!!r,initialData:null,refetchInterval:a.g,select:function(e){return e&&t?d(d({},e),{},{stakeUserData:[e.stakeUserData[(0,c.Mw)(t)]]}):e}})}},57502:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/staking",function(){return n(62434)}])},56707:function(e,t,n){"use strict";var r=n(67294);const i=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"}))}));t.Z=i},56365:function(e,t,n){"use strict";var r=n(67294);const i=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"}))}));t.Z=i},71722:function(e,t,n){"use strict";var r=n(67294);const i=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"}))}));t.Z=i},7687:function(e,t,n){"use strict";n.d(t,{r:function(){return u}});var r=n(67294),i=n(464),o=n(30081),a=n(91784),s=n(85945),c=n(37122),l=n(91670),d=n(38381);function u(e,t){const n=(0,s.NL)({context:e.context}),u=(0,c.S)(),x=(0,a._)(),h=n.defaultQueryOptions(e);h._optimisticResults=u?"isRestoring":"optimistic",h.onError&&(h.onError=o.V.batchCalls(h.onError)),h.onSuccess&&(h.onSuccess=o.V.batchCalls(h.onSuccess)),h.onSettled&&(h.onSettled=o.V.batchCalls(h.onSettled)),(0,d.Fb)(h),(0,l.pf)(h,x),(0,l.JN)(x);const[p]=r.useState((()=>new t(n,h))),m=p.getOptimisticResult(h);if((0,i.$)(r.useCallback((e=>u?()=>{}:p.subscribe(o.V.batchCalls(e))),[p,u]),(()=>p.getCurrentResult()),(()=>p.getCurrentResult())),r.useEffect((()=>{p.setOptions(h,{listeners:!1})}),[h,p]),(0,d.SB)(h,m,u))throw(0,d.j8)(h,p,x);if((0,l.KJ)({result:m,errorResetBoundary:x,useErrorBoundary:h.useErrorBoundary,query:p.getCurrentQuery()}))throw m.error;return h.notifyOnChangeProps?m:p.trackResult(m)}},36492:function(e,t,n){"use strict";n.d(t,{a:function(){return a}});var r=n(32161),i=n(52924),o=n(7687);function a(e,t,n){const a=(0,r._v)(e,t,n);return(0,o.r)(a,i.z)}}},function(e){e.O(0,[7529,4653,4625,7715,5393,4815,9361,9774,2888,179],(function(){return t=57502,e(e.s=t);var t}));var t=e.O();_N_E=t}]);