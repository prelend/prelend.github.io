"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7561],{75437:function(e,t,n){n.d(t,{x:function(){return x},n:function(){return u}});var r=n(59499),o=n(49501),a=n(57609),i=n(68861),s=n(58527),c=n(85893);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=(0,c.jsx)(o.cC,{id:"Interest rate that is determined by Aave Governance. This rate may be changed over time depending on the need for the GHO supply to contract/expand. <0>Learn more</0>",components:{0:(0,c.jsx)(i.rU,{href:"https://docs.gho.xyz/concepts/how-gho-works/interest-rate-discount-model#interest-rate-model",underline:"always"})}}),u=function(e){return(0,c.jsx)(s.G,d(d({event:{eventName:a.vh.TOOL_TIP,eventParams:{tooltip:"GHO APY"}}},e),{},{children:x}))}},53601:function(e,t,n){n.d(t,{l:function(){return S},W:function(){return B}});var r=n(59499),o=n(4730),a=n(49501),i=n(33740),s=n(62097),c=n(30120),l=n(29630),d=n(90149),x=n(81011),u=n(80562),h=n(55343),p=n(46541),m=n(31538),j=n(61702),b=n(75084),v=n(67294),f=n(57333),g=n(8656),y=n(25049),Z=n(41024),w=n(72667),A=n(85893),D=["onChange"];function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=v.forwardRef((function(e,t){var n=e.onChange,r=(0,o.Z)(e,D);return(0,A.jsx)(f.Z,O(O({},r),{},{getInputRef:t,onValueChange:function(t){t.value!==e.value&&n({target:{name:e.name,value:t.value||""}})},thousandSeparator:!0,isNumericString:!0,allowNegative:!1}))})),B=function(e){var t=e.value,n=e.usdValue,r=e.symbol,o=e.onChange,v=e.disabled,f=e.disableInput,D=e.onSelect,C=e.assets,B=e.capType,k=e.maxValue,T=e.isMaxSelected,M=e.inputTitle,P=e.balanceText,E=e.loading,R=void 0!==E&&E,I=e.event,U=e.selectOptionHeader,Y=e.selectOption,G=e.sx,H=void 0===G?{}:G,F=(0,s.Z)(),N=(0,g.Yh)((function(e){return e.trackEvent})),V=1===C.length?C[0]:C&&C.find((function(e){return e.symbol===r}));return(0,A.jsxs)(c.Z,O(O({},H),{},{children:[(0,A.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,A.jsx)(l.Z,{color:"text.secondary",children:M||(0,A.jsx)(a.cC,{id:"Amount"})}),B&&(0,A.jsx)(y.Y,{capType:B})]}),(0,A.jsxs)(c.Z,{sx:function(e){return{p:"8px 12px",border:"1px solid ".concat(e.palette.divider),borderRadius:"6px",mb:1}},children:[(0,A.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center",mb:.5},children:[R?(0,A.jsx)(c.Z,{sx:{flex:1},children:(0,A.jsx)(d.Z,{color:"inherit",size:"16px"})}):(0,A.jsx)(x.ZP,{sx:{flex:1},placeholder:"0.00",disabled:v||f,value:t,autoFocus:!0,onChange:function(e){o&&(Number(e.target.value)>Number(k)?o("-1"):o(e.target.value))},inputProps:{"aria-label":"amount input",style:{fontSize:"21px",lineHeight:"28,01px",padding:0,height:"28px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},inputComponent:S}),""!==t&&!f&&(0,A.jsx)(u.Z,{sx:{minWidth:0,p:0,left:8,zIndex:1,color:"text.muted","&:hover":{color:"text.secondary"}},onClick:function(){o&&o("")},disabled:v,children:(0,A.jsx)(i.Z,{height:16})}),D&&1!==C.length?(0,A.jsx)(h.Z,{children:(0,A.jsxs)(p.Z,{disabled:v,value:V.symbol,onChange:function(e){var t=C.find((function(t){return t.symbol===e.target.value}));D&&D(t),o&&o("")},variant:"outlined",className:"AssetInput__select","data-cy":"assetSelect",MenuProps:{sx:{maxHeight:"240px",".MuiPaper-root":{border:"dark"===F.palette.mode?"1px solid #EBEBED1F":"unset",boxShadow:"0px 2px 10px 0px #0000001A"}}},sx:{p:0,"&.AssetInput__select .MuiOutlinedInput-input":{p:0,backgroundColor:"transparent",pr:"24px !important"},"&.AssetInput__select .MuiOutlinedInput-notchedOutline":{display:"none"},"&.AssetInput__select .MuiSelect-icon":{color:"text.primary",right:"0%"}},renderValue:function(e){var t=1===C.length?C[0]:C&&C.find((function(t){return t.symbol===e}));return(0,A.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center"},"data-cy":"assetsSelectedOption_".concat(t.symbol.toUpperCase()),children:[(0,A.jsx)(w.T1,{symbol:t.iconSymbol||t.symbol,aToken:t.aToken,sx:{mr:2,ml:4}}),(0,A.jsx)(l.Z,{variant:"main16",color:"text.primary",children:e})]})},children:[U||void 0,C.map((function(e){return(0,A.jsx)(m.Z,{value:e.symbol,"data-cy":"assetsSelectOption_".concat(e.symbol.toUpperCase()),children:Y?Y(e):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(w.T1,{aToken:e.aToken,symbol:e.iconSymbol||e.symbol,sx:{fontSize:"22px",mr:1}}),(0,A.jsx)(j.Z,{sx:{mr:6},children:e.symbol}),e.balance&&(0,A.jsx)(Z.B,{value:e.balance,compact:!0})]})},e.symbol)}))]})}):(0,A.jsxs)(c.Z,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,A.jsx)(w.T1,{aToken:V.aToken,symbol:V.iconSymbol||V.symbol,sx:{mr:2,ml:4}}),(0,A.jsx)(l.Z,{variant:"h3",sx:{lineHeight:"28px"},"data-cy":"inputAsset",children:r})]})]}),(0,A.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center",height:"16px"},children:[R?(0,A.jsx)(c.Z,{sx:{flex:1}}):(0,A.jsx)(Z.B,{value:isNaN(Number(n))?0:Number(n),compact:!0,symbol:"USD",variant:"secondary12",color:"text.muted",symbolsColor:"text.muted",flexGrow:1}),V.balance&&o&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(l.Z,{component:"div",variant:"secondary12",color:"text.secondary",children:[P&&""!==P?P:(0,A.jsx)(a.cC,{id:"Balance"})," ",(0,A.jsx)(Z.B,{value:V.balance,compact:!0,variant:"secondary12",color:"text.secondary",symbolsColor:"text.disabled"})]}),!f&&(0,A.jsx)(b.Z,{size:"small",sx:{minWidth:0,ml:"7px",p:0},onClick:function(){I&&N(I.eventName,O({},I.eventParams)),o("-1")},disabled:v||T,children:(0,A.jsx)(a.cC,{id:"Max"})})]})]})]})]}))}},17561:function(e,t,n){n.r(t),n.d(t,{GhoReserveConfiguration:function(){return fe}});var r=n(49501),o=n(84563),a=n(30120),i=n(29630),s=n(75084),c=n(81645),l=n(44373),d=n(68861),x=n(93456),u=n(59012),h=n(59499),p=n(1279),m=n(62097),j=n(61225),b=n(9144),v=n(70794),f=n(28228),g=n(75437),y=n(41024),Z=n(19547),w=n(34220),A=n(43629),D=n(8656),C=n(57609),O=n(85893);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=function(e){var t=e.reserve,n=(0,w.HT)().ghoReserveData,r=(0,m.Z)().breakpoints,o=(0,j.Z)(r.up("sm")),a={reserve:t,ghoReserveData:n,totalBorrowed:v.O.min((0,p.hE)(t.totalDebt),(0,p.hE)(t.borrowCap)).toNumber(),totalBorrowedUSD:v.O.min((0,p.hE)(t.totalDebtUSD),(0,p.hE)(t.borrowCapUSD)).toString(),maxAvailableToBorrow:v.O.max((0,p.hE)(t.borrowCap).minus((0,p.hE)(t.totalDebt)),0).toNumber(),maxAvailableToBorrowUSD:v.O.max((0,p.hE)(t.borrowCapUSD).minus((0,p.hE)(t.totalDebtUSD)),0).toNumber(),borrowCapUsage:(0,A.rM)(t).borrowCapUsage};return o?(0,O.jsx)(T,B({},a)):(0,O.jsx)(M,B({},a))},T=function(e){var t=e.reserve,n=e.ghoReserveData,o=e.totalBorrowed,s=e.totalBorrowedUSD,c=e.maxAvailableToBorrow,l=e.maxAvailableToBorrowUSD,d=e.borrowCapUsage,x=(0,D.Yh)((function(e){return e.trackEvent}));return(0,O.jsxs)(b.Z,{direction:"row",children:[(0,O.jsx)(f.t,{value:d,onClick:function(e){e&&x(C.vh.TOOL_TIP,{tooltip:"Total GHO borrowed"})},tooltipContent:(0,O.jsx)(O.Fragment,{children:(0,O.jsx)(r.cC,{id:"Maximum amount available to borrow is <0/> {0} (<1/>).",values:{0:t.symbol},components:{0:(0,O.jsx)(y.B,{value:c,variant:"secondary12"}),1:(0,O.jsx)(y.B,{value:l,variant:"secondary12",symbol:"USD"})}})})}),(0,O.jsxs)(u.Lv,{title:(0,O.jsx)(a.Z,{display:"flex",alignItems:"center",children:(0,O.jsx)(r.cC,{id:"Total borrowed"})}),children:[(0,O.jsxs)(a.Z,{children:[(0,O.jsx)(y.B,{value:o,variant:"main16",compact:!0}),(0,O.jsx)(i.Z,{component:"span",color:"text.primary",variant:"secondary16",sx:{display:"inline-block",mx:1},children:(0,O.jsx)(r.cC,{id:"of"})}),(0,O.jsx)(y.B,{value:t.borrowCap,variant:"main16"})]}),(0,O.jsxs)(a.Z,{children:[(0,O.jsx)(Z.i,{value:s}),(0,O.jsx)(i.Z,{component:"span",color:"text.secondary",variant:"secondary12",sx:{display:"inline-block",mx:1},children:(0,O.jsx)(r.cC,{id:"of"})}),(0,O.jsx)(Z.i,{value:t.borrowCapUSD})]})]}),(0,O.jsx)(a.Z,{mt:{xs:6,sm:0},children:(0,O.jsx)(u.Lv,{title:(0,O.jsx)(g.n,{text:(0,O.jsx)(r.cC,{id:"APY, borrow rate"})}),children:(0,O.jsx)(y.B,{value:n.ghoVariableBorrowAPY,percent:!0,variant:"main16"})})})]})},M=function(e){var t=e.reserve,n=e.ghoReserveData,o=e.totalBorrowed,s=e.totalBorrowedUSD,c=e.maxAvailableToBorrow,l=e.maxAvailableToBorrowUSD,d=e.borrowCapUsage,x=(0,D.Yh)((function(e){return e.trackEvent}));return(0,O.jsxs)(b.Z,{direction:"row",gap:3,children:[(0,O.jsxs)(b.Z,{children:[(0,O.jsxs)(u.Lv,{title:(0,O.jsx)(a.Z,{display:"flex",alignItems:"center",children:(0,O.jsx)(r.cC,{id:"Total borrowed"})}),children:[(0,O.jsxs)(a.Z,{children:[(0,O.jsx)(y.B,{value:o,variant:"main16"}),(0,O.jsx)(i.Z,{component:"span",color:"text.primary",variant:"secondary16",sx:{display:"inline-block",mx:1},children:(0,O.jsx)(r.cC,{id:"of"})}),(0,O.jsx)(y.B,{value:t.borrowCap,variant:"main16"})]}),(0,O.jsxs)(a.Z,{children:[(0,O.jsx)(Z.i,{value:s}),(0,O.jsx)(i.Z,{component:"span",color:"text.secondary",variant:"secondary12",sx:{display:"inline-block",mx:1},children:(0,O.jsx)(r.cC,{id:"of"})}),(0,O.jsx)(Z.i,{value:t.borrowCapUSD})]})]}),(0,O.jsx)(a.Z,{mt:{xs:6,sm:0},children:(0,O.jsx)(u.Lv,{title:(0,O.jsx)(g.n,{text:(0,O.jsx)(r.cC,{id:"APY, borrow rate"})}),children:(0,O.jsx)(y.B,{value:n.ghoVariableBorrowAPY,percent:!0,variant:"main16"})})})]}),(0,O.jsx)(a.Z,{children:(0,O.jsx)(f.t,{value:d,onClick:function(e){e&&x(C.vh.TOOL_TIP,{tooltip:"Total GHO borrowed"})},tooltipContent:(0,O.jsx)(O.Fragment,{children:(0,O.jsx)(r.cC,{id:"Maximum amount available to borrow is <0/> {0} (<1/>).",values:{0:t.symbol},components:{0:(0,O.jsx)(y.B,{value:c,variant:"secondary12"}),1:(0,O.jsx)(y.B,{value:l,variant:"secondary12",symbol:"USD"})}})})})})]})},P=n(96540),E=n(2548),R=n(82741),I=n(91655),U=n(77274),Y=n(67294),G=n(72667),H=n(40795),F=n(55554),N=n(84246),V=n(59248),z=n(72389),W=n(53601),_={color:"#669AFF",marginBottom:"8px",".MuiSlider-rail":{color:"text.disabled"},".MuiSlider-thumb":{boxShadow:"0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px rgba(0, 0, 0, 0.14), 0px 1px 5px rgba(0, 0, 0, 0.12)"},".MuiSlider-mark":{display:"none"},".MuiSlider-markLabel":{top:"24px",fontSize:"10px",color:"text.secondary",'&[data-index="1"]':{transform:"translateX(-100%)"},"@media (pointer: coarse)":{top:"30px"}}},L=function(e){var t=e.title,n=e.value,o=e.disabled,s=e.tokenSymbol,c=e.sliderMax,l=e.sliderMin,d=void 0===l?0:l,x=e.onValueChanged,u=(0,D.Yh)((function(e){return e.trackEvent})),h=(0,Y.useState)(!1),p=h[0],m=h[1],j=n;n&&n%1!==0&&(j=parseFloat(n.toFixed(2)));var b=j===c;return(0,Y.useEffect)((function(){if(b){m(!0);var e=setTimeout((function(){m(!1)}),3e3);return function(){clearTimeout(e)}}m(!1)}),[b]),(0,O.jsxs)(a.Z,{sx:{position:"relative"},children:[(0,O.jsx)(i.Z,{variant:"subheader2",gutterBottom:!0,children:(0,O.jsx)(r.cC,{id:"{title}",values:{title:t}})}),(0,O.jsx)(N.Z,{disabled:o,fullWidth:!0,value:j,placeholder:"0",endAdornment:(0,O.jsx)(G.T1,{symbol:s}),inputProps:{min:0,sx:{py:2,px:3,fontSize:"21px"},inputMode:"numeric",isAllowed:function(e){var t=e.floatValue;return null===t||void 0===t||t<1e12}},onChange:function(e){var t=parseFloat(e.target.value.replace(/,/g,""));isNaN(t)||t<=0?x(null):x(t)},onBlur:function(e){var t=parseFloat(e.target.value.replace(/,/g,""));(isNaN(t)||t<=0)&&x(d)},inputComponent:W.l}),(0,O.jsx)(V.ZP,{disabled:o,size:"small",value:null!==n&&void 0!==n?n:0,onChange:function(e,t){return x(Number(t))},onChangeCommitted:function(){return u(C.f9.GHO_CALCULATOR_AMOUNT_CHANGE,{type:t})},step:5,min:d,max:c,marks:[{value:d,label:new Intl.NumberFormat("en-US",{maximumFractionDigits:0,minimumFractionDigits:0}).format(d)},{value:c,label:new Intl.NumberFormat("en-US",{maximumFractionDigits:0,minimumFractionDigits:0}).format(c)}],sx:_}),(0,O.jsx)(z.Z,{sx:{position:"absolute",bottom:25,right:0},open:p,placement:"top",title:(0,O.jsx)(a.Z,{sx:{width:150,textAlign:"center"},children:(0,O.jsx)(r.cC,{id:"You may enter a custom amount in the field."})}),children:(0,O.jsx)(a.Z,{})})]})},X=n(86777),q=n(90244),K=n(93978),Q=n(69417),J=n(84026),$=n(7272),ee=n(39807),te=n(99599),ne=n(99857),re=function(e){var t=e.data,n=e.width,r=e.height,o=e.margin,a=void 0===o?{top:0,right:0,bottom:0,left:0}:o,i=n-a.left-a.right,s=r-a.top-a.bottom,c=Math.min(i,s)/2,l=s/2,d=i/2,x=.04;return t.some((function(e){return 0===e.value}))?x=0:(0!==t[0].value&&t[1].value/t[0].value<.01||0!==t[1].value&&t[0].value/t[1].value<.01)&&(x=.01),(0,O.jsx)("svg",{width:n,height:r,children:(0,O.jsx)(te.Z,{top:l+a.top,left:d+a.left,children:(0,O.jsx)(ne.Z,{data:t,pieValue:function(e){return e.value||0},outerRadius:c,innerRadius:c-18,padAngle:x,pieSortValues:function(){return-1},children:function(e){return e.arcs.map((function(t,n){var r=t.data,o=r.name,a=r.color,i=e.path(t);return i?(0,O.jsx)("g",{children:(0,O.jsx)("path",{d:i,fill:a})},"arc-".concat(o,"-").concat(n)):null}))}})})})},oe=function(e){var t=e.borrowAmount,n=e.discountableAmount,r=e.baseRate,o=e.discountedAmountRate,a=e.rateAfterDiscount,i=(0,m.Z)().breakpoints,s=(0,j.Z)(i.down("xsm")),c=n||0,l=Math.max(0,(t||0)-c),d=[{name:"amountThatExceedsDiscount",value:l,color:"#B3C7F9"},{name:"amountAtDiscount",value:c,color:"#C9B3F9"}];return s?(0,O.jsx)(ie,{chartData:d,rateAfterDiscount:a,baseRate:r,amountAtDiscount:c,discountedAmountRate:o,amountThatExceedsDiscount:l}):(0,O.jsx)(ae,{chartData:d,rateAfterDiscount:a,baseRate:r,amountAtDiscount:c,discountedAmountRate:o,amountThatExceedsDiscount:l})},ae=function(e){var t=e.rateAfterDiscount,n=e.chartData,r=e.amountAtDiscount,o=e.discountedAmountRate,s=e.amountThatExceedsDiscount,c=e.baseRate,l=(0,m.Z)();return(0,O.jsxs)(b.Z,{direction:"column",sx:{position:"relative",background:l.palette.background.surface2,minWidth:"306px",height:"320px",justifyContent:"space-between",alignItems:"center",borderRadius:2,py:4,px:6},children:[(0,O.jsxs)(b.Z,{alignItems:"center",gap:1,sx:{position:"absolute",top:65},children:[(0,O.jsx)(i.Z,{variant:"subheader2",children:"Borrow APY"}),(0,O.jsx)(y.B,{variant:"h1",symbolsColor:"text.primary",percent:!0,value:t,visibleDecimals:2})]}),(0,O.jsx)(re,{data:n,width:156,height:156}),(0,O.jsx)(a.Z,{children:(0,O.jsx)(se,{amountAtDiscount:r,discountedAmountRate:o,amountThatExceedsDiscount:s,baseRate:c})})]})},ie=function(e){var t=e.rateAfterDiscount,n=e.chartData,r=e.amountAtDiscount,o=e.discountedAmountRate,s=e.amountThatExceedsDiscount,c=e.baseRate,l=(0,m.Z)();return(0,O.jsxs)(b.Z,{direction:"column",sx:{position:"relative",height:"280px",background:l.palette.background.surface2,alignItems:"center",borderRadius:2,px:4,pt:2,mb:2},children:[(0,O.jsxs)(b.Z,{alignItems:"center",gap:1,sx:{position:"absolute",top:58},children:[(0,O.jsx)(i.Z,{variant:"subheader2",children:"Borrow APY"}),(0,O.jsx)(y.B,{variant:"h1",symbolsColor:"text.primary",percent:!0,value:t,visibleDecimals:2})]}),(0,O.jsx)(re,{data:n,width:156,height:156}),(0,O.jsx)(a.Z,{sx:{width:"100%"},children:(0,O.jsx)(se,{amountAtDiscount:r,discountedAmountRate:o,amountThatExceedsDiscount:s,baseRate:c})})]})},se=function(e){var t=e.amountAtDiscount,n=e.discountedAmountRate,o=e.amountThatExceedsDiscount,s=e.baseRate;return(0,O.jsx)(X.Z,{children:(0,O.jsxs)(q.Z,{size:"small",children:[(0,O.jsx)(K.Z,{children:(0,O.jsxs)(Q.Z,{sx:(0,h.Z)({},"& .".concat(J.Z.root),{py:2,lineHeight:0}),children:[(0,O.jsx)($.Z,{align:"left",sx:{pl:0},children:(0,O.jsx)(i.Z,{variant:"helperText",children:(0,O.jsx)(r.cC,{id:"Borrow balance"})})}),(0,O.jsx)($.Z,{align:"right",children:(0,O.jsx)(i.Z,{variant:"helperText",children:(0,O.jsx)(r.cC,{id:"Amount"})})}),(0,O.jsx)($.Z,{align:"right",sx:{pr:0},children:(0,O.jsx)(i.Z,{variant:"helperText",children:"APY"})})]})}),(0,O.jsxs)(ee.Z,{children:[(0,O.jsxs)(Q.Z,{sx:(0,h.Z)({pt:8},"& .".concat(J.Z.root),{borderBottom:"none",pt:3,pb:2}),children:[(0,O.jsx)($.Z,{align:"left",sx:{pl:0,py:1},children:(0,O.jsxs)(b.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,O.jsx)(a.Z,{sx:{background:"#C9B3F9",width:"6px",height:"6px",borderRadius:"50%"}}),(0,O.jsx)(i.Z,{variant:"caption",children:(0,O.jsx)(r.cC,{id:"At a discount"})})]})}),(0,O.jsx)($.Z,{align:"right",children:(0,O.jsx)(y.B,{variant:"subheader2",value:t,align:"right"})}),(0,O.jsx)($.Z,{sx:{pr:0},align:"right",children:(0,O.jsx)(y.B,{variant:"subheader2",value:n,percent:!0,visibleDecimals:2})})]}),(0,O.jsxs)(Q.Z,{sx:(0,h.Z)({},"& .".concat(J.Z.root),{borderBottom:"none"}),children:[(0,O.jsx)($.Z,{align:"left",sx:{pl:0},children:(0,O.jsxs)(b.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,O.jsx)(a.Z,{sx:{background:"#B3C7F9",width:"6px",height:"6px",borderRadius:"50%",flexShrink:0}}),(0,O.jsx)(i.Z,{variant:"caption",children:(0,O.jsx)(r.cC,{id:"Exceeds the discount"})})]})}),(0,O.jsx)($.Z,{align:"right",children:(0,O.jsx)(y.B,{variant:"subheader2",visibleDecimals:2,value:o})}),(0,O.jsx)($.Z,{sx:{pr:0},align:"right",children:(0,O.jsx)(y.B,{variant:"subheader2",value:s,percent:!0})})]})]})]})})},ce=n(82403),le=n(75148),de=n(27484),xe=n.n(de),ue=n(1646),he=n.n(ue),pe=n(69125);xe().extend(he());var me=!1,je=function(){var e=(0,D.Yh)((function(e){return e.trackEvent})),t=(0,w.HT)(),n=t.ghoLoadingData,o=t.ghoReserveData,s=(0,m.Z)(),l=s.breakpoints,d=s.palette,x=(0,j.Z)(l.down("xsm")),u=(0,Y.useState)(100),h=u[0],b=u[1],v=(0,Y.useState)(1e4),f=v[0],g=v[1],Z=(0,Y.useState)({baseRate:o.ghoVariableBorrowAPY,rateAfterDiscount:o.ghoBorrowAPYWithMaxDiscount,rateAfterMaxDiscount:o.ghoBorrowAPYWithMaxDiscount}),A=Z[0],S=Z[1],B=(0,Y.useState)(0),k=B[0],T=B[1];(0,Y.useEffect)((function(){n||me||(S({baseRate:o.ghoVariableBorrowAPY,rateAfterDiscount:o.ghoBorrowAPYWithMaxDiscount,rateAfterMaxDiscount:o.ghoBorrowAPYWithMaxDiscount}),me=!0)}),[n]),(0,Y.useEffect)((function(){var e=null!==h&&void 0!==h?h:0,t=null!==f&&void 0!==f?f:0,n=Math.round(e*o.ghoDiscountedPerToken);e<o.ghoMinDiscountTokenBalanceForDiscount&&(n=0);var r=function(e,t,n,r,o){var a={rate:(0,p.hE)(r).shiftedBy(ce.YL),duration:t},i=(0,le.G)(a).shiftedBy(-ce.YL).toNumber(),s=i*(1-o);return{baseRate:i,rateAfterDiscount:(0,pe.li)(i,e,n,s),rateAfterMaxDiscount:s}}(t,function(e){switch(e){case F.xI.OneMonth:return xe().duration({days:31}).asSeconds();case F.xI.ThreeMonths:return xe().duration({years:.25}).asSeconds();case F.xI.SixMonths:return xe().duration({years:.5}).asSeconds();case F.xI.OneYear:return xe().duration({years:1}).asSeconds();case F.xI.TwoYears:return xe().duration({years:2}).asSeconds();case F.xI.FiveYears:return xe().duration({years:5}).asSeconds();default:return xe().duration({days:1}).asSeconds()}}(F.xI.OneYear),n,o.ghoBaseVariableBorrowRate,o.ghoDiscountRate);T(n),S({baseRate:r.baseRate,rateAfterDiscount:r.rateAfterDiscount,rateAfterMaxDiscount:r.rateAfterMaxDiscount})}),[h,f]);var M=function(){var t=f&&f<k,n=f&&k<f,a=n?(f-k)/Number(o.ghoDiscountedPerToken):0,s=function(){h?b(h+a):(g(1e4),b(100)),e(C.f9.GHO_CALCULATOR_ADD)},l=null;return t&&(l=(0,O.jsx)(i.Z,{variant:"caption",component:"p",color:"text.secondary",children:(0,O.jsx)(r.cC,{id:"You may borrow up to <0/> GHO at <1/> (max discount)",components:{0:(0,O.jsx)(y.B,{value:k,variant:"caption",color:"text.secondary",visibleDecimals:2}),1:(0,O.jsx)(y.B,{value:A.rateAfterMaxDiscount,percent:!0,variant:"caption",symbolsColor:"text.secondary",sx:{".MuiTypography-root":{ml:0}}})}})})),h||(l=(0,O.jsx)(i.Z,{variant:"caption",component:"p",color:"warning.dark",children:(0,O.jsx)(r.cC,{id:"Add stkAAVE to see borrow APY with the discount"})})),n&&(l=0===k?(0,O.jsx)(i.Z,{variant:"caption",component:"p",color:"text.secondary",children:(0,O.jsx)(r.cC,{id:"<0><1><2/></1>Add stkAAVE</0> to see borrow rate with discount",components:{0:(0,O.jsx)(i.Z,{component:"span",variant:"subheader2",color:"text.highlight",onClick:s,sx:{"&:hover":{textDecoration:"underline",cursor:"pointer",".MuiTypography-root":{textDecoration:"underline"}}}}),1:(0,O.jsx)(c.Z,{sx:{fontSize:"14px",verticalAlign:"middle",marginBottom:"3px"}}),2:(0,O.jsx)(P.Z,{})}})}):(0,O.jsx)(i.Z,{variant:"caption",component:"p",color:"text.secondary",children:(0,O.jsx)(r.cC,{id:"<0><1><2/></1>Add <3/> stkAAVE</0> to borrow at <4/> (max discount)",components:{0:(0,O.jsx)(i.Z,{component:"span",variant:"subheader2",color:"text.highlight",onClick:s,sx:{"&:hover":{textDecoration:"underline",cursor:"pointer",".MuiTypography-root":{textDecoration:"underline"}}}}),1:(0,O.jsx)(c.Z,{sx:{fontSize:"14px",verticalAlign:"middle",marginBottom:"3px"}}),2:(0,O.jsx)(P.Z,{}),3:(0,O.jsx)(y.B,{value:a,variant:"subheader2",visibleDecimals:2,sx:{".MuiTypography-root":{ml:0}}}),4:(0,O.jsx)(y.B,{value:A.rateAfterMaxDiscount,percent:!0,variant:"caption",symbolsColor:"text.secondary",sx:{".MuiTypography-root":{ml:0}}})}})})),(0,O.jsx)(R.Z,{icon:(0,O.jsx)(E.Z,{sx:{color:function(e){return e.palette.primary.main}}}),severity:"info",sx:{background:d.background.surface2,visibility:l?"visible":"hidden"},children:l})},I=(0,O.jsxs)(U.Z,{direction:"row",gap:8,children:[(0,O.jsx)(a.Z,{sx:{flexBasis:"50%"},children:(0,O.jsx)(oe,{borrowAmount:f,discountableAmount:k,baseRate:A.baseRate,discountedAmountRate:A.rateAfterMaxDiscount,rateAfterDiscount:A.rateAfterDiscount})}),(0,O.jsxs)(U.Z,{direction:"column",alignItems:"center",gap:2,sx:{flexBasis:"50%"},children:[(0,O.jsx)(a.Z,{sx:{width:"100%",mt:4},children:(0,O.jsx)(L,{title:"Borrow amount",value:f,disabled:n,tokenSymbol:"GHO",onValueChanged:function(e){return g(e)},sliderMax:1e5,sliderMin:1,downToXsm:x})}),(0,O.jsx)(a.Z,{sx:{width:"100%"},children:(0,O.jsx)(L,{title:"Staked AAVE amount",value:h,disabled:n,tokenSymbol:"stkAAVE",onValueChanged:function(e){return b(e)},sliderMax:1e3,downToXsm:x})}),(0,O.jsx)(a.Z,{sx:{width:"100%"},children:(0,O.jsx)(M,{})})]})]}),G=(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(oe,{borrowAmount:f,discountableAmount:k,baseRate:A.baseRate,discountedAmountRate:A.rateAfterMaxDiscount,rateAfterDiscount:A.rateAfterDiscount}),(0,O.jsxs)(U.Z,{gap:2,sx:{minHeight:"280px"},children:[(0,O.jsx)(a.Z,{sx:{width:"100%"},children:(0,O.jsx)(L,{title:"Borrow amount",value:f,disabled:n,tokenSymbol:"GHO",onValueChanged:function(e){return g(e)},sliderMax:1e5,sliderMin:1,downToXsm:x})}),(0,O.jsx)(a.Z,{sx:{width:"100%"},children:(0,O.jsx)(L,{title:"Staked AAVE amount",value:h,disabled:n,tokenSymbol:"stkAAVE",onValueChanged:function(e){return b(e)},sliderMax:1e3,downToXsm:x})}),(0,O.jsx)(M,{})]})]});return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(i.Z,{variant:"subheader1",gutterBottom:!0,children:(0,O.jsx)(r.cC,{id:"Staking discount"})}),(0,O.jsx)(i.Z,{variant:"caption",color:"text.secondary",mb:6,children:(0,O.jsx)(r.cC,{id:"Users who stake AAVE in Safety Module (i.e. stkAAVE holders) receive a discount on GHO borrow interest rate. The discount applies to 100 GHO for every 1 stkAAVE held. Use the calculator below to see GHO borrow rate with the discount applied."})}),x?G:I,(0,O.jsx)(a.Z,{sx:{mt:x?4:10},children:(0,O.jsx)(be,{loading:n,downToXsm:x,ghoReserveData:o})})]})},be=function(e){var t=e.loading,n=e.downToXsm,o=e.ghoReserveData,s=(0,D.Yh)((function(e){return e.trackEvent}));return(0,O.jsxs)(a.Z,{sx:{flexGrow:1,minWidth:0,maxWidth:"100%",width:"100%"},children:[(0,O.jsx)(a.Z,{sx:{display:"inline-flex",alignItems:"center"},children:(0,O.jsx)(i.Z,{variant:"subheader1",children:(0,O.jsx)(r.cC,{id:"Discount model parameters"})})}),(0,O.jsxs)(a.Z,{sx:{display:"flex",flexWrap:"wrap",pt:"12px",columnGap:2.5},children:[(0,O.jsx)(ve,{title:(0,O.jsx)(r.cC,{id:"Discountable amount"}),fullWidth:n,loading:t,children:(0,O.jsxs)(i.Z,{variant:"secondary14",display:"flex",alignItems:"center",children:[(0,O.jsx)(G.T1,{symbol:"GHO",sx:{fontSize:"14px",mr:1}}),o.ghoDiscountedPerToken,(0,O.jsx)(i.Z,{component:"span",variant:"secondary14",color:"text.primary",sx:{mx:1},children:(0,O.jsx)(r.cC,{id:"to"})})," ",(0,O.jsx)(G.T1,{symbol:"stkAAVE",sx:{fontSize:"14px",mr:1}}),"1"]})}),(0,O.jsx)(ve,{title:(0,O.jsx)(r.cC,{id:"Discount"}),fullWidth:n,loading:t,children:(0,O.jsx)(y.B,{value:o.ghoDiscountRate,percent:!0,variant:"secondary14",color:"text.primary",sx:{mr:1},visibleDecimals:0})}),(0,O.jsx)(ve,{title:(0,O.jsx)(r.cC,{id:"APY with discount applied"}),fullWidth:n,loading:t,children:(0,O.jsx)(y.B,{value:o.ghoBorrowAPYWithMaxDiscount,percent:!0,variant:"secondary14",color:"text.primary"})}),(0,O.jsx)(ve,{title:(0,O.jsx)(r.cC,{id:"Minimum staked Aave amount"}),fullWidth:n,loading:t,children:(0,O.jsxs)(U.Z,{direction:"row",alignItems:"center",children:[(0,O.jsx)(G.T1,{symbol:"stkAAVE",sx:{fontSize:"14px",mr:1}}),(0,O.jsx)(y.B,{value:o.ghoMinDiscountTokenBalanceForDiscount,visibleDecimals:3,variant:"secondary14",color:"text.primary"})]})}),(0,O.jsx)(ve,{title:(0,O.jsx)(r.cC,{id:"Minimum GHO borrow amount"}),fullWidth:n,loading:t,children:(0,O.jsxs)(U.Z,{direction:"row",alignItems:"center",children:[(0,O.jsx)(G.T1,{symbol:"GHO",sx:{fontSize:"14px",mr:1}}),(0,O.jsx)(y.B,{value:o.ghoMinDebtTokenBalanceForDiscount,visibleDecimals:2,variant:"secondary14",color:"text.primary"})]})})]}),(0,O.jsx)(i.Z,{variant:"caption",color:"text.secondary",children:(0,O.jsx)(r.cC,{id:"Discount parameters are decided by the Aave community and may be changed over time. Check Governance for updates and vote to participate. <0>Learn more</0>",components:{0:(0,O.jsx)(d.rU,{href:"https://governance.aave.com",sx:{textDecoration:"underline"},variant:"caption",color:"text.secondary",onClick:function(){s(C.vh.EXTERNAL_LINK,{Link:"GHO discount parameters"})}})}})})]})},ve=function(e){var t=e.title,n=e.children,r=e.fullWidth,o=e.loading;return(0,O.jsx)(H.N,{fullWidth:r,title:(0,O.jsx)(i.Z,{variant:"description",children:t}),children:o?(0,O.jsx)(I.Z,{variant:"text",width:75}):n})},fe=function(e){var t=e.reserve;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(u.ne,{children:[(0,O.jsx)(u.pY,{children:(0,O.jsx)(r.cC,{id:"About GHO"})}),(0,O.jsxs)(a.Z,{children:[(0,O.jsx)(i.Z,{gutterBottom:!0,children:(0,O.jsx)(r.cC,{id:"GHO is a native decentralized, collateral-backed digital asset pegged to USD. It is created by users via borrowing against multiple collateral. When user repays their GHO borrow position, the protocol burns that user's GHO. All the interest payments accrued by minters of GHO would be directly transferred to the AaveDAO treasury."})}),(0,O.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:[(0,O.jsxs)(s.Z,{component:d.rU,variant:"outlined",size:"small",href:"https://github.com/aave/gho/blob/main/techpaper/GHO_Technical_Paper.pdf",sx:{p:"2px 4px",mt:2,mr:2,minWidth:0},children:[(0,O.jsx)(i.Z,{sx:{mr:1,fontSize:"10px"},children:(0,O.jsx)(r.cC,{id:"Techpaper"})}),(0,O.jsx)(c.Z,{sx:{fontSize:14},children:(0,O.jsx)(o.Z,{})})]}),(0,O.jsxs)(s.Z,{component:d.rU,variant:"outlined",size:"small",href:"https://gho.xyz",sx:{p:"2px 4px",mt:2,mr:2,minWidth:0},children:[(0,O.jsx)(i.Z,{sx:{mr:1,fontSize:"10px"},children:(0,O.jsx)(r.cC,{id:"Website"})}),(0,O.jsx)(c.Z,{sx:{fontSize:14},children:(0,O.jsx)(o.Z,{})})]}),(0,O.jsxs)(s.Z,{component:d.rU,variant:"outlined",size:"small",href:"https://docs.gho.xyz/concepts/faq",sx:{p:"2px 4px",mt:2,mr:2,minWidth:0},children:[(0,O.jsx)(i.Z,{sx:{mr:1,fontSize:"10px"},children:(0,O.jsx)(r.cC,{id:"FAQ"})}),(0,O.jsx)(c.Z,{sx:{fontSize:14},children:(0,O.jsx)(o.Z,{})})]})]})]})]}),(0,O.jsx)(l.Z,{sx:{my:{xs:6,sm:10}}}),(0,O.jsxs)(u.ne,{children:[(0,O.jsx)(u.pY,{children:(0,O.jsx)(r.cC,{id:"Borrow info"})}),(0,O.jsxs)(a.Z,{sx:{flexGrow:1,minWidth:0,maxWidth:"100%",width:"100%"},children:[(0,O.jsx)(k,{reserve:t}),(0,O.jsx)(a.Z,{sx:{mt:8},children:(0,O.jsx)(je,{})})]})]}),0!==t.eModeCategoryId&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(l.Z,{sx:{my:{xs:6,sm:10}}}),(0,O.jsx)(x.H,{reserve:t})]})]})}}}]);